---
title: 再次复活（2023）& 换用 Github Action 部署
date: 2023-08-27T19:30:45+08:00
tags:
  - 杂物
---

又是很久没更新博客了，看了看记录上次更新已经差不多是一年前了。和[上次](posts/back-again/)一样，这一年中依然发生了很多：完成了硕士学业，解封前跨过重重关卡回国，入职，打工一年... 真正开始工作的感觉和还是学生时的预期差不多，如果非要比较的话虽然没有大学这么轻松，但是比高中还是好多了的，况且还有钱拿？不过这是后话了，之后再慢慢展开吧，可能以后会有一篇更长的文章来总结这一年（又在挖大概不会填的坑了）。

本次主要的变更是把原来的手动发布流程转换成了 Github Actions，之后直接在 master 分支下提交文件，就会自动触发部署流程，大大减少了阻碍。（对比之前的流程：写文章 - 本地构建 - 复制到部署文件夹 - Git 提交）实际实现起来也很简单，将所有的构建产物（实际发布的静态文件扔到另一个分支 `publish`），修改 Github Pages 的来源分支，然后写点 [Github Action](https://github.com/jerrylususu/jerrylususu.github.io/blob/master/.github/workflows/publish.yml) 配置就好了。希望通过让发布的流程更简单，未来可能也会逐渐多写点东西吧。（美好的愿望...）

顺带一提，本次迁移的时候其实尝试过用最新的 Hugo 版本来部署（`v0.117.0`），但是构建过程中出现了很多模板相关的错误，估计是目前用的 Manic 主题使用到的某些 Hugo 特性已经被 deprecated 了。看了看原始的 Manic repo，最后更新也已经停留在好几年前了。之后要是有空的话可能会试着解决（或者再换一个主题...），不过这次就先暂且继续用旧版本 Hugo 来构建吧。