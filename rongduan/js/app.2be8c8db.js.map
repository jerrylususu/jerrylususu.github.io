{"version":3,"file":"js/app.2be8c8db.js","mappings":"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","sources":["webpack://rongduanlema/./src/App.vue","webpack://rongduanlema/./src/components/FlightView.vue","webpack://rongduanlema/./src/components/DateItem.vue","webpack://rongduanlema/./src/components/DateItem.vue?5b25","webpack://rongduanlema/./src/components/FlightView.vue?1583","webpack://rongduanlema/./src/App.vue?7ccd","webpack://rongduanlema/./src/main.js","webpack://rongduanlema/webpack/bootstrap","webpack://rongduanlema/webpack/runtime/chunk loaded","webpack://rongduanlema/webpack/runtime/compat get default export","webpack://rongduanlema/webpack/runtime/define property getters","webpack://rongduanlema/webpack/runtime/global","webpack://rongduanlema/webpack/runtime/hasOwnProperty shorthand","webpack://rongduanlema/webpack/runtime/jsonp chunk loading","webpack://rongduanlema/webpack/startup"],"sourcesContent":["<template>\n  <flight-view></flight-view>\n  \n  <component :is=\"'script'\">\n    window.dataLayer = window.dataLayer || [];\n    function gtag(){dataLayer.push(arguments);}\n    gtag('js', new Date());\n\n    gtag('config', 'G-WKB857318N');\n  </component>\n</template>\n\n<script>\nimport FlightView from './components/FlightView.vue'\n\nexport default {\n  name: 'App',\n  components: {\n    FlightView\n  },\n  created () {\n      document.title = \"今天航班熔断了吗？\";\n  },\n  mounted() {\n    let gaScript = document.createElement('script')\n    gaScript.setAttribute('src', 'https://www.googletagmanager.com/gtag/js?id=G-WKB857318N')\n    document.head.appendChild(gaScript)\n  },\n}\n</script>\n\n<style>\n\n</style>\n","\r\n<template>\r\n  <div>\r\n    <a-row justify=\"space-around\">\r\n      <a-col :lg=\"12\" :md=\"24\">\r\n        <h1>今天航班熔断了吗？</h1>\r\n        <hr />\r\n        <a-button href=\"http://www.caac.gov.cn/XXGK/XXGK/TZTG/202104/t20210429_207386.html\" target=\"_blank\">民航局文件</a-button>\r\n        <a-button href=\"https://github.com/jerrylususu/rongduan_or_not\" target=\"_blank\"><github-outlined /></a-button>\r\n\r\n        <p>不考虑奖励航班和控制客座率措施。<strong>仅供参考！</strong></p>\r\n        <!-- <br /> -->\r\n        首个航班入境日期：<a-date-picker\r\n          v-model:value=\"beginDate\"\r\n          @change=\"inputHandler\"\r\n        ></a-date-picker>\r\n        <br />\r\n        周数：<a-input-number\r\n          v-model:value=\"numberOfWeeks\"\r\n          :min=\"1\"\r\n          :max=\"40\"\r\n          @change=\"inputHandler\"\r\n        />\r\n        \r\n        <p>图例：日期，取消开关，阳性数量 -> 熔断状态，航班状态 <br/>\r\n        地区提示：美国：航司可能对航班进行<a href=\"https://piao.tips/7bc7e7ee15/\" target=\"_blank\">「规律性取消」</a>，可使用航班卡片中的开关手动取消特定航班。</p>\r\n\r\n        <a-collapse>\r\n          <a-collapse-panel key=\"states\" header=\"状态说明\">\r\n            <p>正常：航班状态正常（0~4 例阳性，不触发熔断）</p>\r\n            <p>小熔断：5~9 例阳性，触发航班入境第四周起的 2 周熔断</p>\r\n            <p>大熔断：10~30 例阳性，触发航班入境第四周起的 4 周熔断（若连续两周 10 例或以上阳性，立刻触发 4 周熔断）</p>\r\n            <p>超级熔断：30 例以上阳性，立即触发 4 周熔断</p>\r\n            <p>(稳)：（实验性）若触发连续熔断，熔断恢复后的头两班是一定能正常执飞的。</p>\r\n          </a-collapse-panel>\r\n        </a-collapse>\r\n      </a-col>\r\n    </a-row>\r\n\r\n    <a-row justify=\"space-around\">\r\n      <a-col :lg=\"12\" :md=\"24\">\r\n        <div v-for=\"(item, index) in datesDetails\" :key=\"item.date\">\r\n          <date-item\r\n            :date=\"item.date\"\r\n            :count=\"item.count\"\r\n            :index=\"index\"\r\n            :triggerStatus=\"item.triggerStatus\"\r\n            :flightStatus=\"item.flightStatus\"\r\n            :enabled=\"item.enabled\"\r\n            :surely=\"item.surely\"\r\n            @itemChange=\"itemChangeHandler\"\r\n          ></date-item>\r\n        </div>\r\n      </a-col>\r\n    </a-row>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  Button,\r\n  DatePicker,\r\n  InputNumber,\r\n  Space,\r\n  Row,\r\n  Col,\r\n  Collapse,\r\n} from \"ant-design-vue\";\r\n  import { GithubOutlined } from '@ant-design/icons-vue';\r\n\r\nimport DateItem from \"./DateItem.vue\";\r\n//   const ButtonGroup = Button.Group;\r\n\r\nexport default {\r\n  components: {\r\n    AButton: Button,\r\n    ADatePicker: DatePicker,\r\n    ASpace: Space,\r\n    AInputNumber: InputNumber,\r\n    DateItem,\r\n    ARow: Row,\r\n    ACol: Col,\r\n    GithubOutlined,\r\n    ACollapse: Collapse,\r\n    ACollapsePanel: Collapse.Panel,\r\n  },\r\n  data() {\r\n    return {\r\n      beginDate: \"\",\r\n      numberOfWeeks: 20,\r\n      datesDetails: [],\r\n    };\r\n  },\r\n  methods: {\r\n    inputHandler(value) {\r\n      if (!value) return;\r\n\r\n      // repopulate\r\n      let targetDatesDetails = []\r\n      for (let i = 1; i <= this.numberOfWeeks; i++) {\r\n        let date = new Date(this.beginDate);\r\n        date.setDate(date.getDate() + (i - 1) * 7);\r\n        let dateString = new Date(date.getTime() - (date.getTimezoneOffset() * 60000 ))\r\n                    .toISOString()\r\n                    .split(\"T\")[0];\r\n        targetDatesDetails.push({\r\n          date: dateString,\r\n          count: 0,\r\n          triggerStatus: \"ok\",\r\n          flightStatus: \"yes\",\r\n          enabled: true, // 取消\r\n          surely: false, // 稳\r\n        });\r\n      }\r\n\r\n      for(let i = 0; i < targetDatesDetails.length; i++) {\r\n        let match = this.datesDetails.filter(x => x.date === targetDatesDetails[i].date)\r\n        if (match.length == 1) {\r\n          targetDatesDetails[i].count = match[0].count;\r\n          targetDatesDetails[i].enabled = match[0].enabled;\r\n        }\r\n        this.datesDetails.push(targetDatesDetails[i]);\r\n      }\r\n\r\n      this.datesDetails = targetDatesDetails;\r\n\r\n      this.reCalculate();\r\n    },\r\n    itemChangeHandler(param) {\r\n      this.datesDetails[param.index].count = param.count;\r\n      this.datesDetails[param.index].enabled = param.enabled;\r\n      this.reCalculate();\r\n    },\r\n    reCalculate() {\r\n      console.log(\"recalculating...\");\r\n\r\n      // 状态重置\r\n      for (let i = 0; i < this.datesDetails.length; i++) {\r\n        let item = this.datesDetails[i];\r\n\r\n        item.triggerStatus = \"ok\";\r\n        item.flightStatus = \"yes\";\r\n        item.surely = false;\r\n\r\n        if (!item.enabled) {\r\n          item.triggerStatus = \"cancelled\";\r\n          item.flightStatus = \"no\";\r\n        }\r\n      }\r\n\r\n      // 计算熔断\r\n      for (let i = 0; i < this.datesDetails.length; i++) {\r\n        let item = this.datesDetails[i];\r\n        let breakWeekCount = 0;\r\n        let advanceWeek = 0;\r\n        let forceImmediateBreak = false;\r\n\r\n        if (item.flightStatus === \"yes\") {\r\n          if (0 <= item.count && item.count < 5) {\r\n            item.triggerStatus = \"ok\";\r\n          } else if (5 <= item.count && item.count < 10) {\r\n            item.triggerStatus = \"minor\";\r\n            breakWeekCount = 2;\r\n            advanceWeek = 4 - 1;\r\n          } else if (10 <= item.count && item.count < 30) {\r\n            item.triggerStatus = \"major\";\r\n            breakWeekCount = 4;\r\n            advanceWeek = 4 - 1;\r\n\r\n            // special case: 连续两周 10+，立刻熔断八周\r\n            if (i - 1 >= 0) {\r\n              let prevItem = this.datesDetails[i - 1];\r\n              if (prevItem.count >= 10) {\r\n                breakWeekCount = 8;\r\n                advanceWeek = 1;\r\n                forceImmediateBreak = true;\r\n              }\r\n            }\r\n          } else {\r\n            item.triggerStatus = \"immediate\";\r\n            breakWeekCount = 4;\r\n            advanceWeek = 1;\r\n          }\r\n        }\r\n\r\n        let j = 0;\r\n        while (\r\n          breakWeekCount > 0 &&\r\n          (i + advanceWeek + j < this.datesDetails.length)\r\n        ) {\r\n          let futureItem = this.datesDetails[i + advanceWeek + j];\r\n          if (futureItem.enabled) {\r\n            if (futureItem.flightStatus === \"yes\" || forceImmediateBreak) {\r\n              futureItem.flightStatus = \"no\";\r\n              futureItem.triggerStatus = `broken by ${item.date}`;\r\n              breakWeekCount--;\r\n              if (breakWeekCount === 0) {\r\n                forceImmediateBreak = false;\r\n              }\r\n            }\r\n          }\r\n\r\n          j++;\r\n        }\r\n      }\r\n\r\n      // 计算稳的航班\r\n      // 稳的航班：连续触发熔断（或者被取消）的航班和被熔断的航班相连，熔断结束后的头两个航班是一定安全的\r\n      let i = 0;\r\n      \r\n      while (i < this.datesDetails.length) {\r\n        \r\n        if (this.datesDetails[i].flightStatus === \"no\" \r\n            && i - 1 >= 0 \r\n            &&  [\"major\", \"minor\", \"immediate\"].includes(this.datesDetails[i-1].triggerStatus)) {\r\n          console.log(i)\r\n          while (this.datesDetails[i].flightStatus === \"no\") {\r\n            i++;\r\n          }\r\n          let safeCount = 2;\r\n          while (safeCount > 0 && i < this.datesDetails.length) {\r\n            if (this.datesDetails[i].flightStatus === \"yes\") {\r\n              safeCount--;\r\n              this.datesDetails[i].surely = true;\r\n            }\r\n            i++;\r\n          }\r\n        }\r\n\r\n        i++;\r\n      }\r\n\r\n\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n</style>","<template>\r\n    <a-card :class=\"[flightStatus]\">\r\n        {{date}}\r\n        <a-switch v-model:checked=\"localEnabled\" size=\"small\" @change=\"enabledChangeHandler\"></a-switch>\r\n        <a-input-number v-model:value=\"localCount\" @change=\"countChangeHandler\" :min=\"0\" :disabled=\"!localEnabled\"></a-input-number>\r\n        <a-button :class=\"triggerStatus\">{{surelyStr + triggerStatusName}}</a-button>\r\n        <span v-if=\"flightStatus === 'yes' \"><check-outlined /></span>\r\n        <span v-else> <stop-outlined /></span>\r\n    </a-card>\r\n</template>\r\n\r\n<script>\r\n  import { Button, InputNumber, Card, Switch } from 'ant-design-vue';\r\n  import { CheckOutlined, StopOutlined } from '@ant-design/icons-vue';\r\n\r\nexport default {\r\n    components: {\r\n      AButton: Button,\r\n      AInputNumber: InputNumber,\r\n      ACard: Card,\r\n      CheckOutlined,\r\n      StopOutlined,\r\n      ASwitch: Switch,\r\n    },\r\n    props: {\r\n        date: {\r\n            type: String,\r\n            required: true\r\n        },\r\n        count: {\r\n            type: Number,\r\n            required: false,\r\n            default: 0,\r\n        },\r\n        index: {\r\n            type: Number,\r\n            required: true\r\n        },\r\n        triggerStatus: {\r\n            type: String,\r\n            required: true\r\n        },\r\n        flightStatus: {\r\n            type: String,\r\n            required: true\r\n        },\r\n        enabled: {\r\n            type: Boolean,\r\n            required: true,\r\n        },\r\n        surely: {\r\n            type: Boolean,\r\n            required: true,\r\n        },\r\n    },\r\n    emits: ['itemChange'],\r\n    data() {\r\n        return {\r\n            localCount: this.count,\r\n            triggerStatusMap: {\r\n                \"ok\": \"正常\",\r\n                \"minor\": \"小熔断\",\r\n                \"major\": \"大熔断\",\r\n                \"immediate\": \"超级熔断\",\r\n                \"cancelled\": \"取消\",\r\n            },\r\n            localEnabled: this.enabled,\r\n        }\r\n    },\r\n    methods: {\r\n        countChangeHandler(value) {\r\n            this.localCount = value\r\n            this.$emit('itemChange', {\r\n                date: this.date,\r\n                count: this.localCount,\r\n                enabled: this.localEnabled,\r\n                index: this.index\r\n            })\r\n        },\r\n        enabledChangeHandler(value) {\r\n            this.localEnabled = value\r\n            if (!this.localEnabled) {\r\n                this.localCount = 0\r\n            }\r\n            this.$emit('itemChange', {\r\n                date: this.date,\r\n                count: this.localCount,\r\n                enabled: this.localEnabled,\r\n                index: this.index\r\n            })\r\n        },\r\n    },\r\n    computed: {\r\n        triggerStatusName() {\r\n            if(this.triggerStatus in this.triggerStatusMap) {\r\n                return this.triggerStatusMap[this.triggerStatus]\r\n            } else {\r\n                return this.triggerStatus.replace(\"broken by\", \"熔断，触发于\")\r\n            }\r\n\r\n        },\r\n        surelyStr() {\r\n            return this.surely ? \"(稳)\" : \"\"\r\n        }\r\n    },\r\n    watch: { // 避免 props 和本地状态不同步\r\n        count: {\r\n            handler(value) {\r\n                this.localCount = value\r\n            },\r\n            immediate: true\r\n        },\r\n        enabled: {\r\n            handler(value) {\r\n                this.localEnabled = value\r\n            },\r\n            immediate: true\r\n        },\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.ok {\r\n    background-color: #28a745;\r\n}\r\n.minor {\r\n    background-color: #ef5350;\r\n}\r\n.major {\r\n    background-color: #f44336;\r\n}\r\n.immediate {\r\n    background-color: #ff1744;\r\n}\r\n.cancelled {\r\n    background-color: #78909c;\r\n}\r\n\r\n.yes {\r\n    background-color: #81c784;\r\n}\r\n.no {\r\n    background-color: #6c757d;\r\n}\r\n\r\n\r\n\r\n\r\n</style>","import { render } from \"./DateItem.vue?vue&type=template&id=d5e039c4&scoped=true\"\nimport script from \"./DateItem.vue?vue&type=script&lang=js\"\nexport * from \"./DateItem.vue?vue&type=script&lang=js\"\n\nimport \"./DateItem.vue?vue&type=style&index=0&id=d5e039c4&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\TruelyTemp\\\\vue_relearn\\\\vuex_demo\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-d5e039c4\"]])\n\nexport default __exports__","import { render } from \"./FlightView.vue?vue&type=template&id=05584d6c\"\nimport script from \"./FlightView.vue?vue&type=script&lang=js\"\nexport * from \"./FlightView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\TruelyTemp\\\\vue_relearn\\\\vuex_demo\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./App.vue?vue&type=template&id=8ccae670\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\TruelyTemp\\\\vue_relearn\\\\vuex_demo\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { createApp } from 'vue'\nimport App from './App.vue'\nimport 'ant-design-vue/dist/antd.css';\n\ncreateApp(App).mount('#app')\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t143: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkrongduanlema\"] = self[\"webpackChunkrongduanlema\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [998], function() { return __webpack_require__(8783); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["_createVNode","_component_flight_view","_createBlock","_resolveDynamicComponent","_createElementVNode","href","target","_createElementBlock","_component_a_row","justify","_component_a_col","lg","md","_hoisted_1","_hoisted_2","_component_a_button","_component_github_outlined","_hoisted_4","_component_a_date_picker","value","$data","$event","onChange","$options","_hoisted_6","_component_a_input_number","min","max","_hoisted_8","_component_a_collapse","_component_a_collapse_panel","key","header","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_Fragment","_renderList","item","index","date","_component_date_item","count","triggerStatus","flightStatus","enabled","surely","onItemChange","_component_a_card","class","$props","_component_a_switch","checked","size","disabled","_component_check_outlined","_component_stop_outlined","components","AButton","AInputNumber","ACard","CheckOutlined","StopOutlined","ASwitch","props","type","String","required","Number","default","Boolean","emits","data","localCount","this","triggerStatusMap","localEnabled","methods","countChangeHandler","$emit","enabledChangeHandler","computed","triggerStatusName","replace","surelyStr","watch","handler","immediate","__exports__","ADatePicker","ASpace","DateItem","ARow","ACol","GithubOutlined","ACollapse","ACollapsePanel","beginDate","numberOfWeeks","datesDetails","inputHandler","targetDatesDetails","i","Date","setDate","getDate","dateString","getTime","getTimezoneOffset","toISOString","split","push","length","match","filter","x","reCalculate","itemChangeHandler","param","console","log","breakWeekCount","advanceWeek","forceImmediateBreak","prevItem","j","futureItem","includes","safeCount","name","FlightView","created","document","title","mounted","gaScript","createElement","setAttribute","head","appendChild","render","createApp","App","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","call","m","deferred","O","result","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","Object","keys","every","splice","r","n","getter","__esModule","d","a","definition","o","defineProperty","enumerable","get","g","globalThis","Function","e","window","obj","prop","prototype","hasOwnProperty","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","id","chunkLoadingGlobal","self","forEach","bind","__webpack_exports__"],"sourceRoot":""}