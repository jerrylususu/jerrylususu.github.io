(function(){
shadow$provide[556]=function(T,J,xa,n){var v=J(2);!function(u,r){"object"==typeof n&&"object"==typeof xa?xa.exports=r(J(10),J(19)):"function"==typeof define&&define.amd?define(["react","react-dom"],r):"object"==typeof n?n.Excalidraw=r(J(10),J(19)):u.Excalidraw=r(u.React,u.ReactDOM)}(self,function(u,r){return(()=>{function l(z){if(a[z])return a[z].exports;var t=a[z]={id:z,exports:{}};return q[z](t,t.exports,l),t.exports}var f,e,k,q={5374:z=>{function t(h,y,B,I,N,P,K){try{var C=h[P](K),G=C.value}catch(x){return void B(x)}C.done?
y(G):Promise.resolve(G).then(I,N)}z.exports=function(h){return function(){var y=this,B=arguments;return new Promise(function(I,N){function P(G){t(C,I,N,P,K,"next",G)}function K(G){t(C,I,N,P,K,"throw",G)}var C=h.apply(y,B);P(void 0)})}}},566:z=>{z.exports=function(t,h,y){return h in t?Object.defineProperty(t,h,{value:y,enumerable:!0,configurable:!0,writable:!0}):t[h]=y,t}},6950:z=>{function t(){return z.exports=t=Object.assign||function(h){for(var y=1;y<arguments.length;y++){var B=arguments[y],I;for(I in B)Object.prototype.hasOwnProperty.call(B,
I)&&(h[I]=B[I])}return h},t.apply(this,arguments)}z.exports=t},5474:(z,t,h)=>{var y=h(8387);z.exports=function(B,I){if(null==B)return{};var N,P=y(B,I);if(Object.getOwnPropertySymbols){var K=Object.getOwnPropertySymbols(B);for(N=0;N<K.length;N++){var C=K[N];0<=I.indexOf(C)||Object.prototype.propertyIsEnumerable.call(B,C)&&(P[C]=B[C])}}return P}},8387:z=>{z.exports=function(t,h){if(null==t)return{};var y,B={},I=Object.keys(t);for(y=0;y<I.length;y++){var N=I[y];0<=h.indexOf(N)||(B[N]=t[N])}return B}},
6009:(z,t,h)=>{t=h(487);h=h(8328);"string"==typeof(h=h.__esModule?h.default:h)&&(h=[[z.id,h,""]]);t(h,{insert:"head",singleton:!1});z.exports=h.locals||{}},1395:(z,t,h)=>{t=h(487);h=h(6121);"string"==typeof(h=h.__esModule?h.default:h)&&(h=[[z.id,h,""]]);t(h,{insert:"head",singleton:!1});z.exports=h.locals||{}},3211:(z,t,h)=>{t=h(487);h=h(2510);"string"==typeof(h=h.__esModule?h.default:h)&&(h=[[z.id,h,""]]);t(h,{insert:"head",singleton:!1});z.exports=h.locals||{}},5574:(z,t,h)=>{t=h(487);h=h(7972);
"string"==typeof(h=h.__esModule?h.default:h)&&(h=[[z.id,h,""]]);t(h,{insert:"head",singleton:!1});z.exports=h.locals||{}},4518:(z,t,h)=>{t=h(487);h=h(190);"string"==typeof(h=h.__esModule?h.default:h)&&(h=[[z.id,h,""]]);t(h,{insert:"head",singleton:!1});z.exports=h.locals||{}},3040:(z,t,h)=>{t=h(487);h=h(6718);"string"==typeof(h=h.__esModule?h.default:h)&&(h=[[z.id,h,""]]);t(h,{insert:"head",singleton:!1});z.exports=h.locals||{}},8623:(z,t,h)=>{t=h(487);h=h(3623);"string"==typeof(h=h.__esModule?h.default:
h)&&(h=[[z.id,h,""]]);t(h,{insert:"head",singleton:!1});z.exports=h.locals||{}},4193:(z,t,h)=>{t=h(487);h=h(103);"string"==typeof(h=h.__esModule?h.default:h)&&(h=[[z.id,h,""]]);t(h,{insert:"head",singleton:!1});z.exports=h.locals||{}},341:(z,t,h)=>{t=h(487);h=h(7061);"string"==typeof(h=h.__esModule?h.default:h)&&(h=[[z.id,h,""]]);t(h,{insert:"head",singleton:!1});z.exports=h.locals||{}},9705:(z,t,h)=>{t=h(487);h=h(1498);"string"==typeof(h=h.__esModule?h.default:h)&&(h=[[z.id,h,""]]);t(h,{insert:"head",
singleton:!1});z.exports=h.locals||{}},7143:(z,t,h)=>{t=h(487);h=h(666);"string"==typeof(h=h.__esModule?h.default:h)&&(h=[[z.id,h,""]]);t(h,{insert:"head",singleton:!1});z.exports=h.locals||{}},7428:(z,t,h)=>{t=h(487);h=h(849);"string"==typeof(h=h.__esModule?h.default:h)&&(h=[[z.id,h,""]]);t(h,{insert:"head",singleton:!1});z.exports=h.locals||{}},8465:(z,t,h)=>{t=h(487);h=h(6915);"string"==typeof(h=h.__esModule?h.default:h)&&(h=[[z.id,h,""]]);t(h,{insert:"head",singleton:!1});z.exports=h.locals||
{}},8680:(z,t,h)=>{t=h(487);h=h(7030);"string"==typeof(h=h.__esModule?h.default:h)&&(h=[[z.id,h,""]]);t(h,{insert:"head",singleton:!1});z.exports=h.locals||{}},205:(z,t,h)=>{t=h(487);h=h(3994);"string"==typeof(h=h.__esModule?h.default:h)&&(h=[[z.id,h,""]]);t(h,{insert:"head",singleton:!1});z.exports=h.locals||{}},8416:(z,t,h)=>{t=h(487);h=h(700);"string"==typeof(h=h.__esModule?h.default:h)&&(h=[[z.id,h,""]]);t(h,{insert:"head",singleton:!1});z.exports=h.locals||{}},2816:(z,t,h)=>{t=h(487);h=h(287);
"string"==typeof(h=h.__esModule?h.default:h)&&(h=[[z.id,h,""]]);t(h,{insert:"head",singleton:!1});z.exports=h.locals||{}},1575:(z,t,h)=>{t=h(487);h=h(5657);"string"==typeof(h=h.__esModule?h.default:h)&&(h=[[z.id,h,""]]);t(h,{insert:"head",singleton:!1});z.exports=h.locals||{}},7287:(z,t,h)=>{t=h(487);h=h(7392);"string"==typeof(h=h.__esModule?h.default:h)&&(h=[[z.id,h,""]]);t(h,{insert:"head",singleton:!1});z.exports=h.locals||{}},8518:(z,t,h)=>{t=h(487);h=h(6065);"string"==typeof(h=h.__esModule?h.default:
h)&&(h=[[z.id,h,""]]);t(h,{insert:"head",singleton:!1});z.exports=h.locals||{}},5849:(z,t,h)=>{t=h(487);h=h(83);"string"==typeof(h=h.__esModule?h.default:h)&&(h=[[z.id,h,""]]);t(h,{insert:"head",singleton:!1});z.exports=h.locals||{}},9478:(z,t,h)=>{t=h(487);h=h(1554);"string"==typeof(h=h.__esModule?h.default:h)&&(h=[[z.id,h,""]]);t(h,{insert:"head",singleton:!1});z.exports=h.locals||{}},2680:(z,t,h)=>{t=h(487);h=h(1970);"string"==typeof(h=h.__esModule?h.default:h)&&(h=[[z.id,h,""]]);t(h,{insert:"head",
singleton:!1});z.exports=h.locals||{}},3142:(z,t,h)=>{t=h(487);h=h(961);"string"==typeof(h=h.__esModule?h.default:h)&&(h=[[z.id,h,""]]);t(h,{insert:"head",singleton:!1});z.exports=h.locals||{}},8234:(z,t,h)=>{t=h(487);h=h(4878);"string"==typeof(h=h.__esModule?h.default:h)&&(h=[[z.id,h,""]]);t(h,{insert:"head",singleton:!1});z.exports=h.locals||{}},4651:(z,t,h)=>{t=h(487);h=h(1988);"string"==typeof(h=h.__esModule?h.default:h)&&(h=[[z.id,h,""]]);t(h,{insert:"head",singleton:!1});z.exports=h.locals||
{}},2189:(z,t,h)=>{t=h(487);h=h(3245);"string"==typeof(h=h.__esModule?h.default:h)&&(h=[[z.id,h,""]]);t(h,{insert:"head",singleton:!1});z.exports=h.locals||{}},487:(z,t,h)=>{function y(ia){for(var da=-1,Q=0;Q<x.length;Q++)if(x[Q].identifier===ia){da=Q;break}return da}function B(ia,da){for(var Q={},W=[],Y=0;Y<ia.length;Y++){var D=ia[Y],M=da.base?D[0]+da.base:D[0],aa=Q[M]||0,ea="".concat(M," ").concat(aa);Q[M]=aa+1;M=y(ea);D={css:D[1],media:D[2],sourceMap:D[3]};-1!==M?(x[M].references++,x[M].updater(D)):
x.push({identifier:ea,updater:K(D,da),references:1});W.push(ea)}return W}function I(ia){var da=document.createElement("style"),Q=ia.attributes||{};if(void 0===Q.nonce){var W=h.nc;W&&(Q.nonce=W)}if(Object.keys(Q).forEach(function(Y){da.setAttribute(Y,Q[Y])}),"function"==typeof ia.insert)ia.insert(da);else{ia=G(ia.insert||"head");if(!ia)throw Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");ia.appendChild(da)}return da}function N(ia,da,
Q,W){Q=Q?"":W.media?"@media ".concat(W.media," {").concat(W.css,"}"):W.css;ia.styleSheet?ia.styleSheet.cssText=oa(da,Q):(Q=document.createTextNode(Q),W=ia.childNodes,W[da]&&ia.removeChild(W[da]),W.length?ia.insertBefore(Q,W[da]):ia.appendChild(Q))}function P(ia,da,Q){da=Q.css;var W=Q.media;Q=Q.sourceMap;if(W?ia.setAttribute("media",W):ia.removeAttribute("media"),Q&&"undefined"!=typeof btoa&&(da+="\n/*# sourceMappingURL\x3ddata:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(Q)))),
" */")),ia.styleSheet)ia.styleSheet.cssText=da;else{for(;ia.firstChild;)ia.removeChild(ia.firstChild);ia.appendChild(document.createTextNode(da))}}function K(ia,da){if(da.singleton){var Q=qa++;var W=S||(S=I(da));var Y=N.bind(null,W,Q,!1);var D=N.bind(null,W,Q,!0)}else W=I(da),Y=P.bind(null,W,da),D=function(){if(null===W.parentNode)var M=!1;else W.parentNode.removeChild(W),M=void 0;!M};return Y(ia),function(M){M?(M.css!==ia.css||M.media!==ia.media||M.sourceMap!==ia.sourceMap)&&Y(ia=M):D()}}var C,G=
function(){var ia={};return function(da){if(void 0===ia[da]){var Q=document.querySelector(da);if(window.HTMLIFrameElement&&Q instanceof window.HTMLIFrameElement)try{Q=Q.contentDocument.head}catch(W){Q=null}ia[da]=Q}return ia[da]}}(),x=[],V,oa=(V=[],function(ia,da){return V[ia]=da,V.filter(Boolean).join("\n")}),S=null,qa=0;z.exports=function(ia,da){(da=da||{}).singleton||"boolean"==typeof da.singleton||(da.singleton=(void 0===C&&(C=!(!(window&&document&&document.all)||window.atob)),C));var Q=B(ia=
ia||[],da);return function(W){if(W=W||[],"[object Array]"===Object.prototype.toString.call(W)){for(var Y=0;Y<Q.length;Y++){var D=y(Q[Y]);x[D].references--}W=B(W,da);for(Y=0;Y<Q.length;Y++)D=y(Q[Y]),0===x[D].references&&(x[D].updater(),x.splice(D,1));Q=W}}}},2829:z=>{z.exports=JSON.parse('{"labels":{"paste":"Paste","pasteCharts":"Paste charts","selectAll":"Select all","multiSelect":"Add element to selection","moveCanvas":"Move canvas","cut":"Cut","copy":"Copy","copyAsPng":"Copy to clipboard as PNG","copyAsSvg":"Copy to clipboard as SVG","bringForward":"Bring forward","sendToBack":"Send to back","bringToFront":"Bring to front","sendBackward":"Send backward","delete":"Delete","copyStyles":"Copy styles","pasteStyles":"Paste styles","stroke":"Stroke","background":"Background","fill":"Fill","strokeWidth":"Stroke width","strokeStyle":"Stroke style","strokeStyle_solid":"Solid","strokeStyle_dashed":"Dashed","strokeStyle_dotted":"Dotted","sloppiness":"Sloppiness","opacity":"Opacity","textAlign":"Text align","edges":"Edges","sharp":"Sharp","round":"Round","arrowheads":"Arrowheads","arrowhead_none":"None","arrowhead_arrow":"Arrow","arrowhead_bar":"Bar","arrowhead_dot":"Dot","fontSize":"Font size","fontFamily":"Font family","onlySelected":"Only selected","withBackground":"With background","exportEmbedScene":"Embed scene into exported file","exportEmbedScene_details":"Scene data will be saved into the exported PNG/SVG file so that the scene can be restored from it.\\nWill increase exported file size.","addWatermark":"Add \\"Made with Excalidraw\\"","handDrawn":"Hand-drawn","normal":"Normal","code":"Code","small":"Small","medium":"Medium","large":"Large","veryLarge":"Very large","solid":"Solid","hachure":"Hachure","crossHatch":"Cross-hatch","thin":"Thin","bold":"Bold","left":"Left","center":"Center","right":"Right","extraBold":"Extra bold","architect":"Architect","artist":"Artist","cartoonist":"Cartoonist","fileTitle":"File title","colorPicker":"Color picker","canvasBackground":"Canvas background","drawingCanvas":"Drawing canvas","layers":"Layers","actions":"Actions","language":"Language","liveCollaboration":"Live collaboration","duplicateSelection":"Duplicate","untitled":"Untitled","name":"Name","yourName":"Your name","madeWithExcalidraw":"Made with Excalidraw","group":"Group selection","ungroup":"Ungroup selection","collaborators":"Collaborators","showGrid":"Show grid","addToLibrary":"Add to library","removeFromLibrary":"Remove from library","libraryLoadingMessage":"Loading library…","libraries":"Browse libraries","loadingScene":"Loading scene…","align":"Align","alignTop":"Align top","alignBottom":"Align bottom","alignLeft":"Align left","alignRight":"Align right","centerVertically":"Center vertically","centerHorizontally":"Center horizontally","distributeHorizontally":"Distribute horizontally","distributeVertically":"Distribute vertically","viewMode":"View mode","toggleExportColorScheme":"Toggle export color scheme"},"buttons":{"clearReset":"Reset the canvas","export":"Export","exportToPng":"Export to PNG","exportToSvg":"Export to SVG","copyToClipboard":"Copy to clipboard","copyPngToClipboard":"Copy PNG to clipboard","scale":"Scale","save":"Save","saveAs":"Save as","load":"Load","getShareableLink":"Get shareable link","close":"Close","selectLanguage":"Select language","scrollBackToContent":"Scroll back to content","zoomIn":"Zoom in","zoomOut":"Zoom out","resetZoom":"Reset zoom","menu":"Menu","done":"Done","edit":"Edit","undo":"Undo","redo":"Redo","resetLibrary":"Reset library","createNewRoom":"Create new room","fullScreen":"Full screen","darkMode":"Dark mode","lightMode":"Light mode","zenMode":"Zen mode","exitZenMode":"Exit zen mode"},"alerts":{"clearReset":"This will clear the whole canvas. Are you sure?","couldNotCreateShareableLink":"Couldn\'t create shareable link.","couldNotCreateShareableLinkTooBig":"Couldn\'t create shareable link: the scene is too big","couldNotLoadInvalidFile":"Couldn\'t load invalid file","importBackendFailed":"Importing from backend failed.","cannotExportEmptyCanvas":"Cannot export empty canvas.","couldNotCopyToClipboard":"Couldn\'t copy to clipboard. Try using Chrome browser.","decryptFailed":"Couldn\'t decrypt data.","uploadedSecurly":"The upload has been secured with end-to-end encryption, which means that Excalidraw server and third parties can\'t read the content.","loadSceneOverridePrompt":"Loading external drawing will replace your existing content. Do you wish to continue?","collabStopOverridePrompt":"Stopping the session will overwrite your previous, locally stored drawing. Are you sure?\\n\\n(If you want to keep your local drawing, simply close the browser tab instead.)","errorLoadingLibrary":"There was an error loading the third party library.","confirmAddLibrary":"This will add {{numShapes}} shape(s) to your library. Are you sure?","imageDoesNotContainScene":"Importing images isn\'t supported at the moment.\\n\\nDid you want to import a scene? This image does not seem to contain any scene data. Have you enabled this during export?","cannotRestoreFromImage":"Scene couldn\'t be restored from this image file","resetLibrary":"This will clear your library. Are you sure?"},"toolBar":{"selection":"Selection","draw":"Free draw","rectangle":"Rectangle","diamond":"Diamond","ellipse":"Ellipse","arrow":"Arrow","line":"Line","text":"Text","library":"Library","lock":"Keep selected tool active after drawing"},"headings":{"canvasActions":"Canvas actions","selectedShapeActions":"Selected shape actions","shapes":"Shapes"},"hints":{"linearElement":"Click to start multiple points, drag for single line","freeDraw":"Click and drag, release when you\'re finished","text":"Tip: you can also add text by double-clicking anywhere with the selection tool","linearElementMulti":"Click on last point or press Escape or Enter to finish","lockAngle":"You can constrain angle by holding SHIFT","resize":"You can constrain proportions by holding SHIFT while resizing,\\nhold ALT to resize from the center","rotate":"You can constrain angles by holding SHIFT while rotating","lineEditor_info":"Double-click or press Enter to edit points","lineEditor_pointSelected":"Press Delete to remove point, CtrlOrCmd+D to duplicate, or drag to move","lineEditor_nothingSelected":"Select a point to move or remove, or hold Alt and click to add new points"},"canvasError":{"cannotShowPreview":"Cannot show preview","canvasTooBig":"The canvas may be too big.","canvasTooBigTip":"Tip: try moving the farthest elements a bit closer together."},"errorSplash":{"headingMain_pre":"Encountered an error. Try ","headingMain_button":"reloading the page.","clearCanvasMessage":"If reloading doesn\'t work, try ","clearCanvasMessage_button":"clearing the canvas.","clearCanvasCaveat":" This will result in loss of work ","trackedToSentry_pre":"The error with identifier ","trackedToSentry_post":" was tracked on our system.","openIssueMessage_pre":"We were very cautious not to include your scene information on the error. If your scene is not private, please consider following up on our ","openIssueMessage_button":"bug tracker.","openIssueMessage_post":" Please include information below by copying and pasting into the GitHub issue.","sceneContent":"Scene content:"},"roomDialog":{"desc_intro":"You can invite people to your current scene to collaborate with you.","desc_privacy":"Don\'t worry, the session uses end-to-end encryption, so whatever you draw will stay private. Not even our server will be able to see what you come up with.","button_startSession":"Start session","button_stopSession":"Stop session","desc_inProgressIntro":"Live-collaboration session is now in progress.","desc_shareLink":"Share this link with anyone you want to collaborate with:","desc_exitSession":"Stopping the session will disconnect you from the room, but you\'ll be able to continue working with the scene, locally. Note that this won\'t affect other people, and they\'ll still be able to collaborate on their version."},"errorDialog":{"title":"Error"},"helpDialog":{"blog":"Read our blog","click":"click","curvedArrow":"Curved arrow","curvedLine":"Curved line","documentation":"Documentation","drag":"drag","editor":"Editor","github":"Found an issue? Submit","howto":"Follow our guides","or":"or","preventBinding":"Prevent arrow binding","shapes":"Shapes","shortcuts":"Keyboard shortcuts","textFinish":"Finish editing (text)","textNewLine":"Add new line (text)","title":"Help","view":"View","zoomToFit":"Zoom to fit all elements","zoomToSelection":"Zoom to selection"},"encrypted":{"tooltip":"Your drawings are end-to-end encrypted so Excalidraw\'s servers will never see them."},"stats":{"angle":"Angle","element":"Element","elements":"Elements","height":"Height","scene":"Scene","selected":"Selected","storage":"Storage","title":"Stats for nerds","total":"Total","version":"Version","versionCopy":"Click to copy","versionNotAvailable":"Version not available","width":"Width"},"toast":{"copyStyles":"Copied styles.","copyToClipboard":"Copied to clipboard.","copyToClipboardAsPng":"Copied {{exportSelection}} to clipboard as PNG\\n({{exportColorScheme}})","fileSaved":"File saved.","fileSavedToFilename":"Saved to {filename}","canvas":"canvas","selection":"selection"}}')},
2051:z=>{z.exports=JSON.parse('{"ar-SA":84,"bg-BG":96,"ca-ES":95,"de-DE":100,"el-GR":100,"en":100,"es-ES":100,"fa-IR":91,"fi-FI":100,"fr-FR":100,"he-IL":92,"hi-IN":94,"hu-HU":84,"id-ID":100,"it-IT":100,"ja-JP":98,"kab-KAB":97,"ko-KR":95,"my-MM":78,"nb-NO":100,"nl-NL":99,"nn-NO":86,"oc-FR":93,"pa-IN":97,"pl-PL":98,"pt-BR":100,"pt-PT":98,"ro-RO":100,"ru-RU":98,"sk-SK":98,"sv-SE":100,"tr-TR":84,"uk-UA":97,"zh-CN":98,"zh-TW":100}')},788:(z,t,h)=>{function y(I){if(!h.o(B,I))return Promise.resolve().then(()=>
{var K=Error("Cannot find module '"+I+"'");throw K.code="MODULE_NOT_FOUND",K;});var N=B[I],P=N[0];return Promise.all(N.slice(1).map(h.e)).then(()=>h.t(P,3))}var B={"./ar-SA.json":[7294,558],"./bg-BG.json":[3860,384],"./ca-ES.json":[750,351],"./de-DE.json":[7439,43],"./el-GR.json":[9422,526],"./en.json":[2829],"./es-ES.json":[2863,317],"./fa-IR.json":[3853,710],"./fi-FI.json":[5472,472],"./fr-FR.json":[3280,364],"./he-IL.json":[3970,262],"./hi-IN.json":[5599,933],"./hu-HU.json":[1516,661],"./id-ID.json":[7992,
491],"./it-IT.json":[5963,465],"./ja-JP.json":[1323,137],"./kab-KAB.json":[9230,164],"./ko-KR.json":[7552,60],"./my-MM.json":[1778,242],"./nb-NO.json":[8751,246],"./nl-NL.json":[4675,196],"./nn-NO.json":[7558,920],"./oc-FR.json":[9945,565],"./pa-IN.json":[863,280],"./percentages.json":[2051],"./pl-PL.json":[122,852],"./pt-BR.json":[7443,381],"./pt-PT.json":[2560,149],"./ro-RO.json":[5654,752],"./ru-RU.json":[5609,869],"./sk-SK.json":[8684,401],"./sv-SE.json":[1570,698],"./tr-TR.json":[8146,213],"./uk-UA.json":[9746,
583],"./zh-CN.json":[9044,304],"./zh-TW.json":[2939,62]};y.keys=()=>Object.keys(B);y.id=788;z.exports=y},7154:z=>{function t(){return z.exports=t=Object.assign||function(h){for(var y=1;y<arguments.length;y++){var B=arguments[y],I;for(I in B)Object.prototype.hasOwnProperty.call(B,I)&&(h[I]=B[I])}return h},t.apply(this,arguments)}z.exports=t},6479:(z,t,h)=>{var y=h(7316);z.exports=function(B,I){if(null==B)return{};var N,P=y(B,I);if(Object.getOwnPropertySymbols){var K=Object.getOwnPropertySymbols(B);
for(N=0;N<K.length;N++){var C=K[N];0<=I.indexOf(C)||Object.prototype.propertyIsEnumerable.call(B,C)&&(P[C]=B[C])}}return P}},7316:z=>{z.exports=function(t,h){if(null==t)return{};var y,B={},I=Object.keys(t);for(y=0;y<I.length;y++){var N=I[y];0<=h.indexOf(N)||(B[N]=t[N])}return B}},8328:(z,t,h)=>{h.r(t);h.d(t,{default:()=>I});t=h(3645);var y=h.n(t);t=h(1667);t=h.n(t);var B=h(7464);h=h(9638);y=y()(function(N){return N[1]});B=t()(B.Z);h=t()(h.Z);y.push([z.id,'@font-face{font-family:"Virgil";src:url('+
B+');font-display:swap}@font-face{font-family:"Cascadia";src:url('+h+");font-display:swap}",""]);const I=y},6121:(z,t,h)=>{h.r(t);h.d(t,{default:()=>y});t=h(3645);h=h.n(t)()(function(B){return B[1]});h.push([z.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .Avatar{width:2.5rem;height:2.5rem;border-radius:1.25rem;display:flex;justify-content:center;align-items:center;color:#fff;cursor:pointer;font-size:.8rem;font-weight:500}",
""]);const y=h},2510:(z,t,h)=>{h.r(t);h.d(t,{default:()=>y});t=h(3645);h=h.n(t)()(function(B){return B[1]});h.push([z.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .CollabButton.is-collaborating{background-color:var(--button-special-active-bg-color)}.excalidraw .CollabButton.is-collaborating .ToolIcon__icon svg,.excalidraw .CollabButton.is-collaborating .ToolIcon__label{color:var(--icon-green-fill-color)}.excalidraw .CollabButton-collaborators{min-width:1em;position:absolute;bottom:-5px;padding:3px;border-radius:50%;background-color:#40c057;color:#fff;font-size:.7em;font-family:var(--ui-font)}:root[dir\x3dltr] .excalidraw .CollabButton-collaborators{right:-5px}:root[dir\x3drtl] .excalidraw .CollabButton-collaborators{left:-5px}",
""]);const y=h},7972:(z,t,h)=>{h.r(t);h.d(t,{default:()=>y});t=h(3645);h=h.n(t)()(function(B){return B[1]});h.push([z.id,':export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .color-picker{background:var(--popup-bg-color);border:0 solid rgba(255,255,255,.25);box-shadow:rgba(0,0,0,.25) 0 1px 4px;border-radius:4px;position:absolute}:root[dir\x3dltr] .excalidraw .color-picker{left:-5.5px}:root[dir\x3drtl] .excalidraw .color-picker{right:-5.5px}.excalidraw .color-picker-control-container{display:grid;grid-template-columns:auto 1fr;align-items:center}.excalidraw .color-picker-triangle{width:0;height:0;border-style:solid;border-width:0 9px 10px;border-color:transparent transparent var(--popup-bg-color);position:absolute;top:-10px}:root[dir\x3dltr] .excalidraw .color-picker-triangle{left:12px}:root[dir\x3drtl] .excalidraw .color-picker-triangle{right:12px}.excalidraw .color-picker-triangle-shadow{border-color:transparent transparent rgba(0,0,0,.1);top:-11px}.excalidraw .color-picker-content{padding:.5rem;display:grid;grid-template-columns:repeat(5, auto);grid-gap:.5rem;border-radius:4px}.excalidraw .color-picker-content:focus{outline:none;box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .color-picker-content .color-input-container{grid-column:1/span 5}.excalidraw .color-picker-swatch{position:relative;height:1.875rem;width:1.875rem;cursor:pointer;border-radius:4px;margin:0;box-sizing:border-box;border:1px solid #ddd;background-color:currentColor !important;filter:var(--appearance-filter)}.excalidraw .color-picker-swatch:focus{box-shadow:0 0 4px 1px currentColor;border-color:var(--select-highlight-color)}.excalidraw .color-picker-transparent{border-radius:4px;box-shadow:rgba(0,0,0,.1) 0 0 0 1px inset;position:absolute;top:0;right:0;bottom:0;left:0}.excalidraw .color-picker-transparent,.excalidraw .color-picker-label-swatch{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAMUlEQVQ4T2NkYGAQYcAP3uCTZhw1gGGYhAGBZIA/nYDCgBDAm9BGDWAAJyRCgLaBCAAgXwixzAS0pgAAAABJRU5ErkJggg\x3d\x3d") left center}.excalidraw .color-picker-hash{background:var(--input-border-color);height:1.875rem;width:1.875rem;color:var(--input-label-color);display:flex;align-items:center;justify-content:center;position:relative}:root[dir\x3dltr] .excalidraw .color-picker-hash{border-radius:4px 0 0 4px}:root[dir\x3drtl] .excalidraw .color-picker-hash{border-radius:0 4px 4px 0}.excalidraw .color-input-container:focus-within .color-picker-hash{box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .color-input-container:focus-within .color-picker-hash::before,.excalidraw .color-input-container:focus-within .color-picker-hash::after{content:"";width:1px;height:100%;position:absolute;top:0}.excalidraw .color-input-container:focus-within .color-picker-hash::before{background:var(--input-border-color)}:root[dir\x3dltr] .excalidraw .color-input-container:focus-within .color-picker-hash::before{right:-1px}:root[dir\x3drtl] .excalidraw .color-input-container:focus-within .color-picker-hash::before{left:-1px}.excalidraw .color-input-container:focus-within .color-picker-hash::after{background:var(--input-bg-color)}:root[dir\x3dltr] .excalidraw .color-input-container:focus-within .color-picker-hash::after{right:-2px}:root[dir\x3drtl] .excalidraw .color-input-container:focus-within .color-picker-hash::after{left:-2px}.excalidraw .color-input-container{display:flex}.excalidraw .color-picker-input{width:12ch;margin:0;font-size:1rem;background-color:var(--input-bg-color);color:var(--text-primary-color);border:0;outline:none;height:1.75em;box-shadow:var(--input-border-color) 0 0 0 1px inset;float:left;padding:1px;padding-inline-start:.5em;appearance:none}:root[dir\x3dltr] .excalidraw .color-picker-input{border-radius:0 4px 4px 0}:root[dir\x3drtl] .excalidraw .color-picker-input{border-radius:4px 0 0 4px}.excalidraw .color-picker-label-swatch{height:1.875rem;width:1.875rem;margin-inline-end:.25rem;border:1px solid #dee2e6;position:relative;overflow:hidden;background-color:transparent !important;filter:var(--appearance-filter)}.excalidraw .color-picker-label-swatch:after{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background:var(--swatch-color)}.excalidraw .color-picker-keybinding{position:absolute;bottom:2px;font-size:.7em}:root[dir\x3dltr] .excalidraw .color-picker-keybinding{right:2px}:root[dir\x3drtl] .excalidraw .color-picker-keybinding{left:2px}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .color-picker-keybinding{display:none}}.excalidraw .color-picker-type-canvasBackground .color-picker-keybinding{color:#aaa}.excalidraw .color-picker-type-elementBackground .color-picker-keybinding{color:#fff}.excalidraw .color-picker-swatch[aria-label\x3dtransparent] .color-picker-keybinding{color:#aaa}.excalidraw .color-picker-type-elementStroke .color-picker-keybinding{color:#d4d4d4}.excalidraw.Appearance_dark .color-picker-type-elementBackground .color-picker-keybinding{color:#000}.excalidraw.Appearance_dark .color-picker-swatch[aria-label\x3dtransparent] .color-picker-keybinding{color:#000}',
""]);const y=h},190:(z,t,h)=>{h.r(t);h.d(t,{default:()=>y});t=h(3645);h=h.n(t)()(function(B){return B[1]});h.push([z.id,':export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .context-menu{position:relative;border-radius:4px;box-shadow:0 3px 10px rgba(0,0,0,.2);padding:0;list-style:none;user-select:none;margin:-0.25rem 0 0 .125rem;padding:.5rem 0;background-color:var(--popup-secondary-bg-color);border:1px solid var(--button-gray-3);cursor:default}.excalidraw .context-menu button{color:var(--popup-text-color)}.excalidraw .context-menu-option{position:relative;width:100%;min-width:9.5rem;margin:0;padding:.25rem 1rem .25rem 1.25rem;text-align:start;border-radius:0;background-color:transparent;border:none;white-space:nowrap;display:grid;grid-template-columns:1fr .2fr;align-items:center}.excalidraw .context-menu-option.checkmark::before{position:absolute;left:6px;margin-bottom:1px;content:"✓"}.excalidraw .context-menu-option.dangerous .context-menu-option__label{color:#f03e3e}.excalidraw .context-menu-option .context-menu-option__label{justify-self:start;margin-inline-end:20px}.excalidraw .context-menu-option .context-menu-option__shortcut{justify-self:end;opacity:.6;font-family:inherit;font-size:.7rem}.excalidraw .context-menu-option:hover{color:var(--popup-bg-color);background-color:var(--select-highlight-color)}.excalidraw .context-menu-option:hover.dangerous{background-color:#fa5252}.excalidraw .context-menu-option:hover.dangerous .context-menu-option__label{color:var(--popup-bg-color)}.excalidraw .context-menu-option:focus{z-index:1}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .context-menu-option{display:block}.excalidraw .context-menu-option .context-menu-option__label{margin-inline-end:0}.excalidraw .context-menu-option .context-menu-option__shortcut{display:none}}.excalidraw .context-menu-option-separator{border:none;border-top:1px solid #adb5bd}',
""]);const y=h},6718:(z,t,h)=>{h.r(t);h.d(t,{default:()=>y});t=h(3645);h=h.n(t)()(function(B){return B[1]});h.push([z.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .Dialog{user-select:text;cursor:auto}.excalidraw .Dialog__title{display:grid;align-items:center;margin-top:0;grid-template-columns:1fr calc(var(--space-factor) * 7);grid-gap:var(--metric);padding:calc(var(--space-factor) * 2);text-align:center;font-variant:small-caps;font-size:1.2em}.excalidraw .Dialog__titleContent{flex:1}.excalidraw .Dialog .Modal__close{color:var(--icon-fill-color);margin:0}.excalidraw .Dialog__content{padding:0 16px 16px}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .Dialog{--metric: calc(var(--space-factor) * 4);--inset-left: max(var(--metric), var(--sal));--inset-right: max(var(--metric), var(--sar))}.excalidraw .Dialog__title{grid-template-columns:calc(var(--space-factor) * 7) 1fr calc( var(--space-factor) * 7 );position:sticky;top:0;padding:calc(var(--space-factor) * 2);background:var(--island-bg-color);font-size:1.25em;box-sizing:border-box;border-bottom:1px solid var(--button-gray-2);z-index:1}.excalidraw .Dialog__titleContent{text-align:center}.excalidraw .Dialog .Island{width:100vw;height:100%;box-sizing:border-box;overflow-y:auto;padding-left:max(calc(var(--padding) * var(--space-factor)), var(--sal));padding-right:max(calc(var(--padding) * var(--space-factor)), var(--sar));padding-bottom:max(calc(var(--padding) * var(--space-factor)), var(--sab))}.excalidraw .Dialog .Modal__close{order:-1}}",
""]);const y=h},3623:(z,t,h)=>{h.r(t);h.d(t,{default:()=>y});t=h(3645);h=h.n(t)()(function(B){return B[1]});h.push([z.id,':export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .ExportDialog__preview{--preview-padding: calc(var(--space-factor) * 4);background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAMUlEQVQ4T2NkYGAQYcAP3uCTZhw1gGGYhAGBZIA/nYDCgBDAm9BGDWAAJyRCgLaBCAAgXwixzAS0pgAAAABJRU5ErkJggg\x3d\x3d") left center;text-align:center;padding:var(--preview-padding);margin-bottom:calc(var(--space-factor) * 3)}.excalidraw .ExportDialog__preview canvas{max-width:calc(100% - var(--preview-padding) * 2);max-height:25rem}.excalidraw.Appearance_dark .ExportDialog__preview canvas{filter:none}.excalidraw .ExportDialog__actions{width:100%;display:flex;grid-gap:calc(var(--space-factor) * 2);align-items:top;justify-content:space-between}.excalidraw .ExportDialog__name{grid-column:project-name;margin:auto}.excalidraw .ExportDialog__name .TextInput{height:calc(1rem - 3px)}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .ExportDialog{display:flex;flex-direction:column}.excalidraw .ExportDialog__actions{flex-direction:column;align-items:center}.excalidraw .ExportDialog__actions\x3e*{margin-bottom:calc(var(--space-factor) * 3)}.excalidraw .ExportDialog__preview canvas{max-height:30vh}.excalidraw .ExportDialog__dialog,.excalidraw .ExportDialog__dialog .Island{height:100%;box-sizing:border-box}.excalidraw .ExportDialog__dialog .Island{overflow-y:auto}}',
""]);const y=h},103:(z,t,h)=>{h.r(t);h.d(t,{default:()=>y});t=h(3645);h=h.n(t)()(function(B){return B[1]});h.push([z.id,".excalidraw .FixedSideContainer{--margin: 0.25rem;position:absolute;pointer-events:none}.excalidraw .FixedSideContainer\x3e*{pointer-events:all}.excalidraw .FixedSideContainer_side_top{left:var(--margin);top:var(--margin);right:var(--margin);z-index:2}.excalidraw .FixedSideContainer_side_top.zen-mode{right:42px}",""]);const y=h},7061:(z,t,h)=>{h.r(t);h.d(t,{default:()=>y});t=h(3645);
h=h.n(t)()(function(B){return B[1]});h.push([z.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .HelpDialog h3{border-bottom:1px solid var(--button-gray-2);padding-bottom:4px}.excalidraw .HelpDialog--island{border:1px solid var(--button-gray-2);margin-bottom:16px}.excalidraw .HelpDialog--island-title{margin:0;padding:4px;background-color:var(--button-gray-1);text-align:center}.excalidraw .HelpDialog--shortcut{border-top:1px solid var(--button-gray-2)}.excalidraw .HelpDialog--key{word-break:keep-all;border:1px solid var(--button-gray-2);padding:2px 8px;margin:auto 4px;background-color:var(--button-gray-1);border-radius:2px;font-size:.8em;min-height:26px;box-sizing:border-box;display:flex;align-items:center;font-family:inherit}.excalidraw .HelpDialog--header{display:flex;flex-direction:row;justify-content:space-evenly;margin-bottom:32px;padding-bottom:16px}.excalidraw .HelpDialog--btn{border:1px solid var(--link-color);padding:8px 32px;border-radius:4px}.excalidraw .HelpDialog--btn:hover{text-decoration:none}",
""]);const y=h},1498:(z,t,h)=>{h.r(t);h.d(t,{default:()=>y});t=h(3645);h=h.n(t)()(function(B){return B[1]});h.push([z.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .HintViewer{pointer-events:none;box-sizing:border-box;position:absolute;display:flex;justify-content:center;left:0;top:100%;max-width:100%;width:100%;margin-top:6px;text-align:center;color:#868e96;font-size:.8rem}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .HintViewer{position:static;padding-right:2em}}.excalidraw .HintViewer\x3espan{padding:.2rem .4rem;background-color:var(--overlay-bg-color);border-radius:4px}",
""]);const y=h},666:(z,t,h)=>{h.r(t);h.d(t,{default:()=>y});t=h(3645);h=h.n(t)()(function(B){return B[1]});h.push([z.id,':export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .picker-container{display:inline-block;box-sizing:border-box;margin-right:.25rem}.excalidraw .picker{background:var(--popup-bg-color);border:0 solid rgba(255,255,255,.25);box-shadow:rgba(0,0,0,.25) 0 1px 4px;border-radius:4px;position:absolute}.excalidraw .picker-container button,.excalidraw .picker button{position:relative;display:flex;align-items:center;justify-content:center}.excalidraw .picker-container button:focus,.excalidraw .picker button:focus{outline:transparent;background-color:var(--button-gray-2)}.excalidraw .picker-container button:focus svg,.excalidraw .picker button:focus svg{opacity:1}.excalidraw .picker-container button:hover,.excalidraw .picker button:hover{background-color:var(--button-gray-2)}.excalidraw .picker-container button:active,.excalidraw .picker button:active{background-color:var(--button-gray-3)}.excalidraw .picker-container button:disabled,.excalidraw .picker button:disabled{cursor:not-allowed}.excalidraw .picker-container button svg,.excalidraw .picker button svg{margin:0;width:36px;height:18px;opacity:.6;pointer-events:none}.excalidraw .picker button{padding:.25rem .28rem .35rem .25rem}.excalidraw .picker-triangle{width:0;height:0;position:relative;top:-10px;z-index:10}:root[dir\x3dltr] .excalidraw .picker-triangle{left:12px}:root[dir\x3drtl] .excalidraw .picker-triangle{right:12px}.excalidraw .picker-triangle:before{content:"";position:absolute;border-style:solid;border-width:0 9px 10px;border-color:transparent transparent rgba(0,0,0,.1);top:-1px}.excalidraw .picker-triangle:after{content:"";position:absolute;border-style:solid;border-width:0 9px 10px;border-color:transparent transparent var(--popup-bg-color)}.excalidraw .picker-content{padding:.5rem;display:grid;grid-auto-flow:column;grid-gap:.5rem;border-radius:4px}:root[dir\x3drtl] .excalidraw .picker-content{padding:.4rem}.excalidraw .picker-keybinding{position:absolute;bottom:2px;font-size:.7em;color:var(--keybinding-color)}:root[dir\x3dltr] .excalidraw .picker-keybinding{right:2px}:root[dir\x3drtl] .excalidraw .picker-keybinding{left:2px}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .picker-keybinding{display:none}}.excalidraw .picker-type-canvasBackground .picker-keybinding{color:#aaa}.excalidraw .picker-type-elementBackground .picker-keybinding{color:#fff}.excalidraw .picker-swatch[aria-label\x3dtransparent] .picker-keybinding{color:#aaa}.excalidraw .picker-type-elementStroke .picker-keybinding{color:#d4d4d4}.excalidraw.Appearance_dark .picker-type-elementBackground .picker-keybinding{color:#000}.excalidraw.Appearance_dark .picker-swatch[aria-label\x3dtransparent] .picker-keybinding{color:#000}',
""]);const y=h},849:(z,t,h)=>{h.r(t);h.d(t,{default:()=>y});t=h(3645);h=h.n(t)()(function(B){return B[1]});h.push([z.id,".excalidraw .Island{--padding: 0;background-color:var(--island-bg-color);backdrop-filter:saturate(100%) blur(10px);box-shadow:var(--shadow-island);border-radius:4px;padding:calc(var(--padding) * var(--space-factor));position:relative;transition:box-shadow .5s ease-in-out}.excalidraw .Island.zen-mode{box-shadow:none}",""]);const y=h},6915:(z,t,h)=>{h.r(t);h.d(t,{default:()=>y});
t=h(3645);h=h.n(t)()(function(B){return B[1]});h.push([z.id,".excalidraw .layer-ui__library{margin:auto;display:flex;align-items:center;justify-content:center}.excalidraw .layer-ui__library .layer-ui__library-header{display:flex;align-items:center;width:100%;margin:2px 0}.excalidraw .layer-ui__library .layer-ui__library-header button{margin:0 2px}.excalidraw .layer-ui__library .layer-ui__library-header a{margin-inline-start:auto;padding-inline-end:18px;white-space:nowrap}.excalidraw .layer-ui__library-message{padding:10px 20px;max-width:200px}.excalidraw .layer-ui__library-items{max-height:50vh;overflow:auto}.excalidraw .layer-ui__wrapper{z-index:var(--zIndex-layerUI)}.excalidraw .layer-ui__wrapper .encrypted-icon{position:relative;margin-inline-start:15px;display:flex;justify-content:center;align-items:center;border-radius:var(--space-factor);color:#2b8a3e}.excalidraw .layer-ui__wrapper .encrypted-icon svg{width:1.2rem;height:1.2rem}.excalidraw .layer-ui__wrapper__github-corner{top:0;position:absolute;width:40px}:root[dir\x3dltr] .excalidraw .layer-ui__wrapper__github-corner{right:0}:root[dir\x3drtl] .excalidraw .layer-ui__wrapper__github-corner{left:0}.excalidraw .layer-ui__wrapper__footer{position:absolute;z-index:100;bottom:0;width:190px}:root[dir\x3dltr] .excalidraw .layer-ui__wrapper__footer{right:0}:root[dir\x3drtl] .excalidraw .layer-ui__wrapper__footer{left:0}.excalidraw .layer-ui__wrapper .zen-mode-transition{transition:transform .5s ease-in-out}:root[dir\x3dltr] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-left{transform:translate(-999px, 0)}:root[dir\x3dltr] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-right{transform:translate(999px, 0)}:root[dir\x3drtl] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-left{transform:translate(999px, 0)}:root[dir\x3drtl] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-right{transform:translate(-999px, 0)}:root[dir\x3dltr] .excalidraw .layer-ui__wrapper .zen-mode-transition.App-menu_bottom--transition-left{transform:translate(-92px, 0)}:root[dir\x3drtl] .excalidraw .layer-ui__wrapper .zen-mode-transition.App-menu_bottom--transition-left{transform:translate(92px, 0)}.excalidraw .layer-ui__wrapper .disable-zen-mode{height:30px;position:absolute;bottom:10px;font-size:10px;padding:10px;font-weight:500;opacity:0;visibility:hidden;transition:visibility 0s linear 0s,opacity .5s}[dir\x3dltr] .excalidraw .layer-ui__wrapper .disable-zen-mode{right:15px}[dir\x3drtl] .excalidraw .layer-ui__wrapper .disable-zen-mode{left:15px}.excalidraw .layer-ui__wrapper .disable-zen-mode--visible{opacity:1;visibility:visible;transition:visibility 0s linear 300ms,opacity .5s;transition-delay:.8s}",
""]);const y=h},7030:(z,t,h)=>{h.r(t);h.d(t,{default:()=>y});t=h(3645);h=h.n(t)()(function(B){return B[1]});h.push([z.id,".excalidraw .library-unit{align-items:center;border:1px solid var(--button-gray-2);display:flex;justify-content:center;position:relative;width:63px;height:63px}.excalidraw .library-unit__dragger{display:flex;height:100%;width:100%}.excalidraw .library-unit__dragger\x3esvg{filter:var(--appearance-filter);flex-grow:1;max-height:100%;max-width:100%}.excalidraw .library-unit__removeFromLibrary,.excalidraw .library-unit__removeFromLibrary:hover,.excalidraw .library-unit__removeFromLibrary:active{align-items:center;background:none;border:none;color:var(--icon-fill-color);display:flex;justify-content:center;margin:0;padding:0;position:absolute;right:5px;top:5px}.excalidraw .library-unit__removeFromLibrary\x3esvg{height:16px;width:16px}.excalidraw .library-unit__pulse{transform:scale(1);animation:library-unit__pulse-animation 1s ease-in infinite}.excalidraw .library-unit__adder{position:absolute;left:50%;top:50%;width:20px;height:20px;margin-left:-10px;margin-top:-10px;pointer-events:none}.excalidraw .library-unit__active{cursor:pointer}@keyframes library-unit__pulse-animation{0%{transform:scale(0.95)}50%{transform:scale(1)}100%{transform:scale(0.95)}}",
""]);const y=h},3994:(z,t,h)=>{h.r(t);h.d(t,{default:()=>y});t=h(3645);h=h.n(t)()(function(B){return B[1]});h.push([z.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw.excalidraw-modal-container{position:absolute;z-index:10}.excalidraw .Modal{position:absolute;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center;overflow:auto;padding:calc(var(--space-factor) * 10)}.excalidraw .Modal__background{position:absolute;top:0;left:0;right:0;bottom:0;z-index:1;background-color:rgba(0,0,0,.3);backdrop-filter:blur(2px)}.excalidraw .Modal__content{position:relative;z-index:2;width:100%;max-width:var(--max-width);max-height:100%;opacity:0;transform:translateY(10px);animation:Modal__content_fade-in .1s ease-out .05s forwards;position:relative;overflow-y:auto;background:var(--island-bg-color);backdrop-filter:none;border:1px solid var(--dialog-border-color);box-shadow:0 2px 10px rgba(0,0,0,.25);border-radius:6px}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .Modal__content{max-width:100%;border:0;border-radius:0}}@keyframes Modal__content_fade-in{from{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.excalidraw .Modal__close{width:calc(var(--space-factor) * 7);height:calc(var(--space-factor) * 7);display:flex;align-items:center;justify-content:center}.excalidraw .Modal__close svg{height:calc(var(--space-factor) * 5)}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .Modal{padding:0}.excalidraw .Modal__content{position:absolute;top:0;left:0;right:0;bottom:0}}",
""]);const y=h},700:(z,t,h)=>{h.r(t);h.d(t,{default:()=>y});t=h(3645);h=h.n(t)()(function(B){return B[1]});h.push([z.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .PasteChartDialog .Island{display:flex;flex-direction:column}}.excalidraw .PasteChartDialog .container{display:flex;align-items:center;justify-content:space-around;flex-wrap:wrap}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .PasteChartDialog .container{flex-direction:column;justify-content:center}}.excalidraw .PasteChartDialog .ChartPreview{margin:8px;text-align:center;width:192px;height:128px;border-radius:2px;padding:1px;border:1px solid #ced4da;display:flex;align-items:center;justify-content:center;background:transparent}.excalidraw .PasteChartDialog .ChartPreview div{display:inline-block}.excalidraw .PasteChartDialog .ChartPreview svg{max-height:120px;max-width:186px}.excalidraw .PasteChartDialog .ChartPreview:hover{padding:0;border:2px solid #339af0}",
""]);const y=h},287:(z,t,h)=>{h.r(t);h.d(t,{default:()=>y});t=h(3645);h=h.n(t)()(function(B){return B[1]});h.push([z.id,".excalidraw .popover{position:fixed;z-index:10}",""]);const y=h},5657:(z,t,h)=>{h.r(t);h.d(t,{default:()=>y});t=h(3645);h=h.n(t)()(function(B){return B[1]});h.push([z.id,".excalidraw .Stack{--gap: 0;display:grid;gap:calc(var(--space-factor) * var(--gap))}.excalidraw .Stack_vertical{grid-template-columns:auto;grid-auto-flow:row;grid-auto-rows:min-content}.excalidraw .Stack_horizontal{grid-template-rows:auto;grid-auto-flow:column;grid-auto-columns:min-content}",
""]);const y=h},7392:(z,t,h)=>{h.r(t);h.d(t,{default:()=>y});t=h(3645);h=h.n(t)()(function(B){return B[1]});h.push([z.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .Stats{position:absolute;top:64px;right:12px;font-size:12px;z-index:999}.excalidraw .Stats h3{margin:0 24px 8px 0;white-space:nowrap}.excalidraw .Stats .close{float:right;height:16px;width:16px;cursor:pointer}.excalidraw .Stats .close svg{width:100%;height:100%}.excalidraw .Stats table{width:100%}.excalidraw .Stats table th{border-bottom:1px solid var(--input-border-color);padding:4px}.excalidraw .Stats table tr td:nth-child(2){min-width:24px;text-align:right}:root[dir\x3drtl] .excalidraw .Stats{left:12px;right:initial}:root[dir\x3drtl] .excalidraw .Stats h3{margin:0 0 8px 24px}:root[dir\x3drtl] .excalidraw .Stats .close{float:left}",
""]);const y=h},6065:(z,t,h)=>{h.r(t);h.d(t,{default:()=>y});t=h(3645);h=h.n(t)()(function(B){return B[1]});h.push([z.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .TextInput{color:var(--text-primary-color);display:inline-block;border:1.5px solid var(--button-gray-1);line-height:1;padding:.75rem;white-space:nowrap;border-radius:var(--space-factor);background-color:var(--input-bg-color)}.excalidraw .TextInput:not(:focus):hover{background-color:var(--input-hover-bg-color)}.excalidraw .TextInput:focus{outline:none;box-shadow:0 0 0 2px var(--focus-highlight-color)}",
""]);const y=h},83:(z,t,h)=>{h.r(t);h.d(t,{default:()=>y});t=h(3645);h=h.n(t)()(function(B){return B[1]});h.push([z.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .Toast{animation:fade-in .5s;background-color:var(--button-gray-1);border-radius:4px;bottom:10px;box-sizing:border-box;cursor:default;left:50%;margin-left:-150px;padding:4px 0;position:absolute;text-align:center;width:300px;z-index:999999}.excalidraw .Toast__message{color:var(--popup-text-color);white-space:pre-wrap}@keyframes fade-in{from{opacity:0}to{opacity:1}}",
""]);const y=h},1554:(z,t,h)=>{h.r(t);h.d(t,{default:()=>y});t=h(3645);h=h.n(t)()(function(B){return B[1]});h.push([z.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .ToolIcon{display:inline-flex;align-items:center;position:relative;font-family:Cascadia;cursor:pointer;background-color:var(--button-gray-1);-webkit-tap-highlight-color:transparent;border-radius:var(--space-factor)}.excalidraw .ToolIcon__icon{width:2.5rem;height:2.5rem;color:var(--icon-fill-color);display:flex;justify-content:center;align-items:center;border-radius:var(--space-factor)}.excalidraw .ToolIcon__icon svg{position:relative;height:1em;fill:var(--icon-fill-color);color:var(--icon-fill-color)}.excalidraw .ToolIcon__icon+.ToolIcon__label{margin-inline-start:0}.excalidraw .ToolIcon__label{color:var(--icon-fill-color);font-family:var(--ui-font);margin:0 .8em;text-overflow:ellipsis}.excalidraw .ToolIcon_size_s .ToolIcon__icon{width:1.4rem;height:1.4rem;font-size:.8em}.excalidraw .excalidraw .ToolIcon_type_button,.excalidraw .Modal .ToolIcon_type_button,.excalidraw .ToolIcon_type_button{padding:0;border:none;margin:0;font-size:inherit}.excalidraw .excalidraw .ToolIcon_type_button:hover,.excalidraw .Modal .ToolIcon_type_button:hover,.excalidraw .ToolIcon_type_button:hover{background-color:var(--button-gray-1)}.excalidraw .excalidraw .ToolIcon_type_button:active,.excalidraw .Modal .ToolIcon_type_button:active,.excalidraw .ToolIcon_type_button:active{background-color:var(--button-gray-2)}.excalidraw .excalidraw .ToolIcon_type_button:focus,.excalidraw .Modal .ToolIcon_type_button:focus,.excalidraw .ToolIcon_type_button:focus{box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .excalidraw .ToolIcon_type_button.ToolIcon--selected,.excalidraw .Modal .ToolIcon_type_button.ToolIcon--selected,.excalidraw .ToolIcon_type_button.ToolIcon--selected{background-color:var(--button-gray-2)}.excalidraw .excalidraw .ToolIcon_type_button.ToolIcon--selected:active,.excalidraw .Modal .ToolIcon_type_button.ToolIcon--selected:active,.excalidraw .ToolIcon_type_button.ToolIcon--selected:active{background-color:var(--button-gray-3)}.excalidraw .excalidraw .ToolIcon_type_button--show,.excalidraw .Modal .ToolIcon_type_button--show,.excalidraw .ToolIcon_type_button--show{visibility:visible}.excalidraw .excalidraw .ToolIcon_type_button--hide,.excalidraw .Modal .ToolIcon_type_button--hide,.excalidraw .ToolIcon_type_button--hide{visibility:hidden}.excalidraw .ToolIcon_type_radio,.excalidraw .ToolIcon_type_checkbox{position:absolute;opacity:0;pointer-events:none}.excalidraw .ToolIcon_type_radio:not(.ToolIcon_toggle_opaque):checked+.ToolIcon__icon,.excalidraw .ToolIcon_type_checkbox:not(.ToolIcon_toggle_opaque):checked+.ToolIcon__icon{background-color:var(--button-gray-2)}.excalidraw .ToolIcon_type_radio:focus+.ToolIcon__icon,.excalidraw .ToolIcon_type_checkbox:focus+.ToolIcon__icon{box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .ToolIcon_type_radio:active+.ToolIcon__icon,.excalidraw .ToolIcon_type_checkbox:active+.ToolIcon__icon{background-color:var(--button-gray-3)}.excalidraw .ToolIcon_type_floating{background-color:transparent}.excalidraw .ToolIcon_type_floating:hover{background-color:transparent}.excalidraw .ToolIcon_type_floating:active{background-color:transparent}.excalidraw .ToolIcon_type_floating:focus{box-shadow:none}.excalidraw .ToolIcon_type_floating .ToolIcon__icon{width:2rem;height:2em}.excalidraw .ToolIcon.ToolIcon__lock.ToolIcon_type_floating{margin-left:.1rem}.excalidraw .ToolIcon__keybinding{position:absolute;bottom:2px;right:3px;font-size:.5em;color:var(--keybinding-color);font-family:var(--ui-font);user-select:none}@media(max-width: 425px){.excalidraw .Shape .ToolIcon__icon{width:2rem;height:2rem}.excalidraw .Shape .ToolIcon__icon svg{height:.8em}}@media(max-width: 760px){.excalidraw .ToolIcon.ToolIcon__lock{display:inline-block;position:absolute;top:60px;right:-8px;margin-left:0;border-radius:20px 0 0 20px;z-index:1;background-color:var(--button-gray-1)}.excalidraw .ToolIcon.ToolIcon__lock:hover{background-color:var(--button-gray-1)}.excalidraw .ToolIcon.ToolIcon__lock:active{background-color:var(--button-gray-2)}.excalidraw .ToolIcon.ToolIcon__lock .ToolIcon__icon{border-radius:inherit}.excalidraw .ToolIcon.ToolIcon__lock svg{position:static}}.excalidraw .TooltipIcon{width:.9em;height:.9em;margin-left:5px;margin-top:1px}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .TooltipIcon{display:none}}:root[dir\x3dltr] .excalidraw .unlocked-icon{left:2px}:root[dir\x3drtl] .excalidraw .unlocked-icon{right:2px}",
""]);const y=h},1970:(z,t,h)=>{h.r(t);h.d(t,{default:()=>y});t=h(3645);h=h.n(t)()(function(B){return B[1]});h.push([z.id,':export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .Tooltip{position:relative}.excalidraw .Tooltip__label{--arrow-size: 4px;visibility:hidden;background:#000;color:#fff;text-align:center;border-radius:6px;padding:8px;position:absolute;z-index:10;font-size:13px;line-height:1.5;font-weight:500;left:calc(50% + var(--arrow-size) / 2 - 1px);transform:translateX(-50%);word-wrap:break-word}.excalidraw .Tooltip__label::after{content:"";border:var(--arrow-size) solid transparent;position:absolute;left:calc(50% - var(--arrow-size))}.excalidraw .Tooltip__label--above{bottom:calc(100% + var(--arrow-size) + 3px)}.excalidraw .Tooltip__label--above::after{border-top-color:#000;top:100%}.excalidraw .Tooltip__label--below{top:calc(100% + var(--arrow-size) + 3px)}.excalidraw .Tooltip__label--below::after{border-bottom-color:#000;bottom:100%}.excalidraw .Tooltip:hover .Tooltip__label{visibility:visible}.excalidraw .Tooltip__label:hover{visibility:visible}',
""]);const y=h},961:(z,t,h)=>{h.r(t);h.d(t,{default:()=>y});t=h(3645);h=h.n(t)()(function(B){return B[1]});h.push([z.id,".excalidraw .UserList{pointer-events:none;padding:var(--space-factor) 40px var(--space-factor) var(--space-factor);display:flex;flex-wrap:wrap;justify-content:flex-end}.excalidraw .UserList\x3e*{pointer-events:all;margin:0 0 var(--space-factor) var(--space-factor)}.excalidraw .UserList_mobile{padding:0;justify-content:normal}.excalidraw .UserList_mobile\x3e*{margin:0 var(--space-factor) var(--space-factor) 0}",
""]);const y=h},4878:(z,t,h)=>{h.r(t);h.d(t,{default:()=>y});t=h(3645);h=h.n(t)()(function(B){return B[1]});h.push([z.id,".visually-hidden{position:absolute !important;height:1px;width:1px;overflow:hidden;clip:rect(1px, 1px, 1px, 1px);white-space:nowrap}.LoadingMessage{position:absolute;top:0;right:0;bottom:0;left:0;z-index:999;display:flex;align-items:center;justify-content:center;pointer-events:none}.LoadingMessage span{background-color:var(--button-gray-1);border-radius:5px;padding:.8em 1.2em;color:var(--popup-text-color);font-size:1.3em}",
""]);const y=h},1988:(z,t,h)=>{h.r(t);h.d(t,{default:()=>y});t=h(3645);h=h.n(t)()(function(B){return B[1]});h.push([z.id,':export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}:export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}:root{--appearance-filter: none;--button-destructive-bg-color: #ffe3e3;--button-destructive-color: #c92a2a;--button-gray-1: #e9ecef;--button-gray-2: #ced4da;--button-gray-3: #adb5bd;--button-special-active-bg-color: #ebfbee;--dialog-border-color: #868e96;--dropdown-icon: url(\'data:image/svg+xml,\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" width\x3d"292.4" height\x3d"292.4" viewBox\x3d"0 0 292 292"\x3e\x3cpath d\x3d"M287 197L159 69c-4-3-8-5-13-5s-9 2-13 5L5 197c-3 4-5 8-5 13s2 9 5 13c4 4 8 5 13 5h256c5 0 9-1 13-5s5-8 5-13-1-9-5-13z"/\x3e\x3c/svg\x3e\');--focus-highlight-color: #a5d8ff;--icon-fill-color: #000000;--icon-green-fill-color: #2b8a3e;--input-bg-color: #ffffff;--input-border-color: #dee2e6;--input-hover-bg-color: #f1f3f5;--input-label-color: #495057;--island-bg-color: rgba(255, 255, 255, 0.9);--keybinding-color: #adb5bd;--link-color: #1c7ed6;--overlay-bg-color: rgba(255, 255, 255, 0.88);--popup-bg-color: #ffffff;--popup-secondary-bg-color: #f1f3f5;--popup-text-color: #000000;--popup-text-inverted-color: #ffffff;--sab: env(safe-area-inset-bottom);--sal: env(safe-area-inset-left);--sar: env(safe-area-inset-right);--sat: env(safe-area-inset-top);--select-highlight-color: #339af0;--shadow-island: 0 1px 5px rgba(0, 0, 0, 0.15);--space-factor: 0.25rem;--text-primary-color: #343a40}.excalidraw.Appearance_dark{background:#000}.excalidraw.Appearance_dark.Appearance_dark-background-none{background:none}.excalidraw.Appearance_dark{--appearance-filter: invert(93%) hue-rotate(180deg);--button-destructive-bg-color: #5a0000;--button-destructive-color: #ffa8a8;--button-gray-1: #363636;--button-gray-2: #272727;--button-gray-3: #222;--button-special-active-bg-color: #204624;--dialog-border-color: #212529;--dropdown-icon: url(\'data:image/svg+xml,\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" width\x3d"292.4" height\x3d"292.4" viewBox\x3d"0 0 292 292"\x3e\x3cpath fill\x3d"%23ced4da" d\x3d"M287 197L159 69c-4-3-8-5-13-5s-9 2-13 5L5 197c-3 4-5 8-5 13s2 9 5 13c4 4 8 5 13 5h256c5 0 9-1 13-5s5-8 5-13-1-9-5-13z"/\x3e\x3c/svg\x3e\');--focus-highlight-color: #228be6;--icon-fill-color: #ced4da;--icon-green-fill-color: #69db7c;--input-bg-color: #121212;--input-border-color: #2e2e2e;--input-hover-bg-color: #181818;--input-label-color: #e9ecef;--island-bg-color: #1e1e1e;--keybinding-color: #868e96;--overlay-bg-color: rgba(52, 58, 64, 0.12);--popup-bg-color: #2c2c2c;--popup-secondary-bg-color: #222;--popup-text-color: #ced4da;--popup-text-inverted-color: #2c2c2c;--select-highlight-color: #4dabf7;--shadow-island: 0 1px 5px rgba(0, 0, 0, 0.3);--text-primary-color: #ced4da}:root{--zIndex-canvas: 1;--zIndex-wysiwyg: 2;--zIndex-layerUI: 3}.excalidraw{position:relative;overflow:hidden;color:var(--text-primary-color);display:flex;top:0;bottom:0;left:0;right:0}.excalidraw a{font-weight:500;text-decoration:none;color:var(--link-color)}.excalidraw a:hover{text-decoration:underline}.excalidraw canvas{touch-action:none;user-select:none;image-rendering:pixelated;image-rendering:-moz-crisp-edges;z-index:var(--zIndex-canvas)}.excalidraw.Appearance_dark canvas{filter:var(--appearance-filter)}.excalidraw .FixedSideContainer{padding-top:var(--sat, 0);padding-right:var(--sar, 0);padding-bottom:var(--sab, 0);padding-left:var(--sal, 0)}.excalidraw .panelRow{display:flex;justify-content:space-between}.excalidraw .panelColumn{display:flex;flex-direction:column}.excalidraw .panelColumn h3,.excalidraw .panelColumn legend,.excalidraw .panelColumn .control-label{margin-top:.333rem;margin-bottom:.333rem;font-size:.75rem;color:var(--text-primary-color);font-weight:bold;display:block}.excalidraw .panelColumn .control-label input{display:block;width:100%}.excalidraw .panelColumn h3:first-child,.excalidraw .panelColumn legend:first-child,.excalidraw .panelColumn .control-label:first-child{margin-top:0}.excalidraw .panelColumn legend{padding:0}.excalidraw .panelColumn .iconSelectList{flex-wrap:wrap;position:relative}.excalidraw .panelColumn .buttonList{flex-wrap:wrap}.excalidraw .panelColumn .buttonList label{margin-right:.25rem;font-size:.75rem;display:inline-block}.excalidraw .panelColumn .buttonList input[type\x3dradio],.excalidraw .panelColumn .buttonList input[type\x3dbutton]{opacity:0;position:absolute;pointer-events:none}.excalidraw .panelColumn .buttonList .iconRow{margin-top:8px}.excalidraw .panelColumn .buttonList .ToolIcon{margin:0;margin-inline-end:8px}.excalidraw .panelColumn .buttonList .ToolIcon:focus{outline:transparent;box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .panelColumn .buttonList .ToolIcon:hover{background-color:var(--button-gray-2)}.excalidraw .panelColumn .buttonList .ToolIcon:active{background-color:var(--button-gray-3)}.excalidraw .panelColumn .buttonList .ToolIcon:disabled{cursor:not-allowed}.excalidraw .panelColumn .buttonList .ToolIcon__icon{width:28px;height:28px}.excalidraw .panelColumn fieldset{margin:0;margin-top:.333rem;padding:0;border:none}.excalidraw .divider{width:1px;background-color:#e9ecef;margin:1px}.excalidraw .buttonList label:focus-within,.excalidraw input:focus{outline:transparent;box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw button,.excalidraw .buttonList label{user-select:none;background-color:var(--button-gray-1);border:0;border-radius:4px;margin:.125rem 0;padding:.25rem;white-space:nowrap;cursor:pointer}.excalidraw button:focus,.excalidraw .buttonList label:focus{outline:transparent;box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw button:hover,.excalidraw .buttonList label:hover{background-color:var(--button-gray-2)}.excalidraw button:active,.excalidraw .buttonList label:active{background-color:var(--button-gray-3)}.excalidraw button:disabled,.excalidraw .buttonList label:disabled{cursor:not-allowed}.excalidraw .active,.excalidraw .buttonList label.active{background-color:var(--button-gray-2)}.excalidraw .active:hover,.excalidraw .buttonList label.active:hover{background-color:var(--button-gray-2)}.excalidraw .active:active,.excalidraw .buttonList label.active:active{background-color:var(--button-gray-3)}.excalidraw .buttonList.buttonListIcon label{display:inline-flex;justify-content:center;align-items:center}.excalidraw .buttonList.buttonListIcon label svg{width:36px;height:18px;opacity:.6}.excalidraw .buttonList.buttonListIcon label.active svg{opacity:1}.excalidraw .App-top-bar{z-index:var(--zIndex-layerUI);display:flex;flex-direction:column;align-items:center}.excalidraw .App-bottom-bar{position:absolute;top:0;bottom:0;left:0;right:0;--bar-padding: calc(4 * var(--space-factor));padding-top:max(var(--bar-padding), var(--sat,0));padding-right:var(--sar, 0);padding-bottom:var(--sab, 0);padding-left:var(--sal, 0);z-index:4;display:flex;align-items:flex-end;pointer-events:none}.excalidraw .App-bottom-bar\x3e.Island{width:100%;max-width:100%;min-width:100%;box-sizing:border-box;max-height:100%;display:flex;flex-direction:column;pointer-events:initial}.excalidraw .App-bottom-bar\x3e.Island .panelColumn{padding:8px 8px 0 8px}.excalidraw .App-toolbar{width:100%;box-sizing:border-box}.excalidraw .App-toolbar-content{display:flex;align-items:center;justify-content:space-between;padding:8px}.excalidraw .App-mobile-menu{width:100%;overflow-x:visible;overflow-y:auto;box-sizing:border-box;margin-bottom:var(--bar-padding)}.excalidraw .App-menu{display:grid;color:var(--icon-fill-color)}.excalidraw .App-menu_top{grid-template-columns:1fr auto 1fr;grid-gap:4px;align-items:flex-start;cursor:default;pointer-events:none !important}.excalidraw .layer-ui__wrapper:not(.disable-pointerEvents) .App-menu_top\x3e*{pointer-events:all}.excalidraw .App-menu_top\x3e*:first-child{justify-self:flex-start}.excalidraw .App-menu_top\x3e*:last-child{justify-self:flex-end}.excalidraw .App-menu_bottom{position:absolute;bottom:0;grid-template-columns:1fr auto 1fr;grid-gap:4px;align-items:flex-start;cursor:default;pointer-events:none !important;z-index:100}:root[dir\x3dltr] .excalidraw .App-menu_bottom{left:.25rem}:root[dir\x3drtl] .excalidraw .App-menu_bottom{right:.25rem}.excalidraw .App-menu_bottom--transition-left section{width:185px}.excalidraw .App-menu_bottom section{display:flex}.excalidraw .layer-ui__wrapper:not(.disable-pointerEvents) .App-menu_bottom\x3e*{pointer-events:all}.excalidraw .App-menu_bottom\x3e*:first-child{justify-self:flex-start}.excalidraw .App-menu_bottom\x3e*:last-child{justify-self:flex-end}.excalidraw .App-menu_left{grid-template-rows:1fr auto 1fr;height:100%}.excalidraw .App-menu_right{grid-template-rows:1fr;height:100%}.excalidraw .App-menu__left{overflow-y:auto}.excalidraw .dropdown-select{height:1.5rem;padding:0;padding-inline-start:.5rem;padding-inline-end:1.5rem;color:var(--icon-fill-color);background-color:var(--button-gray-1);border-radius:var(--space-factor);border:1px solid var(--button-gray-2);font-size:.8rem;outline:none;appearance:none;background-image:var(--dropdown-icon);background-repeat:no-repeat;background-position:right .7rem top 50%,0 0;background-size:.65em auto,100%}:root[dir\x3drtl] .excalidraw .dropdown-select{background-position:left .7rem top 50%,0 0}.excalidraw .dropdown-select:focus{box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .dropdown-select:hover{background-color:var(--button-gray-2)}.excalidraw .dropdown-select:active{background-color:var(--button-gray-2)}.excalidraw .dropdown-select.dropdown-select--floating{position:absolute;margin:.5em}.excalidraw .dropdown-select__language.dropdown-select--floating{position:absolute;bottom:10px}:root[dir\x3dltr] .excalidraw .dropdown-select__language.dropdown-select--floating{right:44px}:root[dir\x3drtl] .excalidraw .dropdown-select__language.dropdown-select--floating{left:44px}.excalidraw .zIndexButton{margin:0;margin-inline-end:8px;padding:5px;display:inline-flex;align-items:center;justify-content:center}.excalidraw .zIndexButton svg{width:18px;height:18px}.excalidraw .scroll-back-to-content{color:var(--popup-text-color);position:absolute;left:50%;bottom:30px;transform:translateX(-50%);padding:10px 20px}.excalidraw .help-icon{position:absolute;cursor:pointer;fill:#868e96;bottom:14px;width:1.5rem}:root[dir\x3dltr] .excalidraw .help-icon{right:14px}:root[dir\x3drtl] .excalidraw .help-icon{left:14px}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw aside{display:none}.excalidraw .scroll-back-to-content{bottom:calc(80px + var(--sab, 0));z-index:-1}}:root[dir\x3drtl] .excalidraw .rtl-mirror{transform:scaleX(-1)}.excalidraw .github-corner{position:absolute;top:0;z-index:2}:root[dir\x3dltr] .excalidraw .github-corner{right:0}:root[dir\x3drtl] .excalidraw .github-corner{left:0}.excalidraw .zen-mode-visibility{visibility:visible;opacity:1;height:auto;width:auto;transition:opacity .5s}.excalidraw .zen-mode-visibility.zen-mode-visibility--hidden{visibility:hidden;opacity:0;height:0;width:0;transition:opacity .5s}.excalidraw .disable-pointerEvents{pointer-events:none !important}.excalidraw.excalidraw--view-mode .App-menu{display:flex;justify-content:space-between}@media print{.excalidraw .App-bottom-bar,.excalidraw .FixedSideContainer,.excalidraw .layer-ui__wrapper{display:none}}.ErrorSplash.excalidraw{min-height:100vh;padding:20px 0;overflow:auto;display:flex;align-items:center;justify-content:center;user-select:text}.ErrorSplash.excalidraw .ErrorSplash-messageContainer{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:40px;background-color:#ffe3e3;border:3px solid #c92a2a}.ErrorSplash.excalidraw .ErrorSplash-paragraph{margin:15px 0;max-width:600px}.ErrorSplash.excalidraw .ErrorSplash-paragraph.align-center{text-align:center}.ErrorSplash.excalidraw .bigger,.ErrorSplash.excalidraw .bigger button{font-size:1.1em}.ErrorSplash.excalidraw .smaller,.ErrorSplash.excalidraw .smaller button{font-size:.9em}.ErrorSplash.excalidraw .ErrorSplash-details{display:flex;flex-direction:column;align-items:flex-start}.ErrorSplash.excalidraw .ErrorSplash-details textarea{width:100%;margin:10px 0;font-family:"Cascadia";font-size:.8em}',
""]);const y=h},3245:(z,t,h)=>{h.r(t);h.d(t,{default:()=>y});t=h(3645);h=h.n(t)()(function(B){return B[1]});h.push([z.id,"",""]);h.locals={isMobileQuery:"(max-width: 600px), (max-height: 500px) and (max-width: 1000px)",appearanceFilter:"invert(93%) hue-rotate(180deg)"};const y=h},3645:z=>{z.exports=function(t){var h=[];return h.toString=function(){return this.map(function(y){var B=t(y);return y[2]?"@media ".concat(y[2]," {").concat(B,"}"):B}).join("")},h.i=function(y,B,I){"string"==typeof y&&(y=[[null,
y,""]]);var N={};if(I)for(var P=0;P<this.length;P++){var K=this[P][0];null!=K&&(N[K]=!0)}for(P=0;P<y.length;P++)K=[].concat(y[P]),I&&N[K[0]]||(B&&(K[2]?K[2]="".concat(B," and ").concat(K[2]):K[2]=B),h.push(K))},h}},1667:z=>{z.exports=function(t,h){return h||(h={}),"string"!=typeof(t=t&&t.__esModule?t.default:t)?t:(/^['"].*['"]$/.test(t)&&(t=t.slice(1,-1)),h.hash&&(t+=h.hash),/["'() \t\n]/.test(t)||h.needQuotes?'"'.concat(t.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):t)}},9638:(z,t,h)=>{h.d(t,{Z:()=>
y});const y=h.p+"excalidraw-assets/Cascadia.woff2"},7464:(z,t,h)=>{h.d(t,{Z:()=>y});const y=h.p+"excalidraw-assets/Virgil.woff2"},8288:(z,t,h)=>{h.d(t,{iC:()=>B,f:()=>I,qx:()=>N,Iw:()=>P,$e:()=>K,wZ:()=>C,ay:()=>G,oc:()=>x,Oh:()=>V,Ks:()=>y,Vi:()=>oa,$C:()=>S,ut:()=>qa,_D:()=>ia,n5:()=>da,rk:()=>Q,Hg:()=>W,hs:()=>Y,eQ:()=>D,k:()=>M,LO:()=>aa,I:()=>ea,Gj:()=>pa,nM:()=>ka,Lg:()=>ja,HM:()=>sa,V4:()=>ta,EH:()=>Ga,Gi:()=>Pa});var y;z=h(2189);h=h.n(z);var B="Excalidraw",I=10,N=8,P=5,K=1,C=30,G=Math.PI/
12,x={TEXT:"text",CROSSHAIR:"crosshair",GRABBING:"grabbing",POINTER:"pointer",MOVE:"move",AUTO:""},V={MAIN:0,WHEEL:1,SECONDARY:2,TOUCH:-1};!function(Aa){Aa.COPY="copy";Aa.PASTE="paste";Aa.CUT="cut";Aa.KEYDOWN="keydown";Aa.KEYUP="keyup";Aa.MOUSE_MOVE="mousemove";Aa.RESIZE="resize";Aa.UNLOAD="unload";Aa.BLUR="blur";Aa.DRAG_OVER="dragover";Aa.DROP="drop";Aa.GESTURE_END="gestureend";Aa.BEFORE_UNLOAD="beforeunload";Aa.GESTURE_START="gesturestart";Aa.GESTURE_CHANGE="gesturechange";Aa.POINTER_MOVE="pointermove";
Aa.POINTER_UP="pointerup";Aa.STATE_CHANGE="statechange";Aa.WHEEL="wheel";Aa.TOUCH_START="touchstart";Aa.TOUCH_END="touchend";Aa.HASHCHANGE="hashchange";Aa.VISIBILITY_CHANGE="visibilitychange";Aa.SCROLL="scroll"}(y||(y={}));var oa={TEST:"test",DEVELOPMENT:"development"},S={SHAPE_ACTIONS_MENU:"App-menu__left"},qa={1:"Virgil",2:"Helvetica",3:"Cascadia"},ia="Segoe UI Emoji",da=20,Q=1,W="left",Y="top",D="{version}",M=20,aa={excalidraw:"application/vnd.excalidraw+json",excalidrawlib:"application/vnd.excalidrawlib+json"},
ea={LOCAL_STORAGE_LIBRARY:"excalidraw-library"},pa=300,ka=500,ja=5E3,sa=100,ta=.1,Ga={VIEW:"viewMode",ZEN:"zenMode",GRID:"gridMode"},Pa=h().appearanceFilter},3956:(z,t,h)=>{function y(d,p){return Math.pow(d[0]-p[0],2)+Math.pow(d[1]-p[1],2)}function B(d,p,w){return[d[0]+(p[0]-d[0])*w,d[1]+(p[1]-d[1])*w]}function I(d,p,w,H){H=H||[];var U=d[p+0],ba=d[p+1],va=d[p+2];const ua=d[p+3];var Ba=3*ba[0]-2*U[0]-ua[0];Ba*=Ba;ba=3*ba[1]-2*U[1]-ua[1];ba*=ba;let Ra=3*va[0]-2*ua[0]-U[0];Ra*=Ra;U=3*va[1]-2*ua[1]-U[1];
(U*=U,Ba<Ra&&(Ba=Ra),ba<U&&(ba=U),Ba+ba)<w?(w=d[p+0],H.length?1<(Ia=H[H.length-1],ib=w,Math.sqrt(y(Ia,ib)))&&H.push(w):H.push(w),H.push(d[p+3])):(Ia=d[p+0],Ba=d[p+1],ib=d[p+2],d=d[p+3],p=B(Ia,Ba,.5),U=B(Ba,ib,.5),ib=B(ib,d,.5),Ba=B(p,U,.5),U=B(U,ib,.5),va=B(Ba,U,.5),I([Ia,p,Ba,va],0,w,H),I([va,U,ib,d],0,w,H));var Ia,ib;return H}function N(d,p){return P(d,0,d.length,p)}function P(d,p,w,H,U){U=U||[];const ba=d[p],va=d[w-1];let ua=0,Ba=1;for(let pb=p+1;pb<w-1;++pb){var Ra=d[pb];var Ia=ba,ib=va,rb=y(Ia,
ib);0===rb?Ra=y(Ra,Ia):(rb=((Ra[0]-Ia[0])*(ib[0]-Ia[0])+(Ra[1]-Ia[1])*(ib[1]-Ia[1]))/rb,Ra=(rb=Math.max(0,Math.min(1,rb)),y(Ra,B(Ia,ib,rb))));Ra>ua&&(ua=Ra,Ba=pb)}return Math.sqrt(ua)>H?(P(d,p,Ba+1,H,U),P(d,Ba,w,H,U)):(U.length||U.push(ba),U.push(va)),U}function K(d,p=.15,w){const H=[],U=(d.length-1)/3;for(let ba=0;ba<U;ba++)I(d,3*ba,p,H);return w&&0<w?P(H,0,H.length,w):H}function C(d,p,w){if(d&&d.length){const [H,U]=p;p=Math.PI/180*w;const ba=Math.cos(p),va=Math.sin(p);d.forEach(ua=>{const [Ba,Ra]=
ua;ua[0]=(Ba-H)*ba-(Ra-U)*va+H;ua[1]=(Ba-H)*va+(Ra-U)*ba+U})}}function G(d){const p=d[0];d=d[1];return Math.sqrt(Math.pow(p[0]-d[0],2)+Math.pow(p[1]-d[1],2))}function x(d,p,w,H){const U=p[1]-d[1];p=d[0]-p[0];d=U*d[0]+p*d[1];const ba=H[1]-w[1];H=w[0]-H[0];w=ba*w[0]+H*w[1];const va=U*H-ba*p;return va?[(H*d-p*w)/va,(U*w-ba*d)/va]:null}function V(d,p,w){const H=d.length;if(3>H)return!1;const U=[Number.MAX_SAFE_INTEGER,w];p=[p,w];w=0;for(let ba=0;ba<H;ba++){const va=d[ba],ua=d[(ba+1)%H];if(qa(va,ua,p,
U)){if(0===S(va,p,ua))return oa(va,p,ua);w++}}return 1==w%2}function oa(d,p,w){return p[0]<=Math.max(d[0],w[0])&&p[0]>=Math.min(d[0],w[0])&&p[1]<=Math.max(d[1],w[1])&&p[1]>=Math.min(d[1],w[1])}function S(d,p,w){d=(p[1]-d[1])*(w[0]-p[0])-(p[0]-d[0])*(w[1]-p[1]);return 0===d?0:0<d?1:2}function qa(d,p,w,H){const U=S(d,p,w),ba=S(d,p,H),va=S(w,H,d),ua=S(w,H,p);return U!==ba&&va!==ua||!(0!==U||!oa(d,w,p))||!(0!==ba||!oa(d,H,p))||!(0!==va||!oa(w,d,H))||!(0!==ua||!oa(w,p,H))}function ia(d,p){const w=[0,0],
H=Math.round(p.hachureAngle+90);H&&C(d,w,H);p=function(U,ba){var va=[...U];va[0].join(",")!==va[va.length-1].join(",")&&va.push([va[0][0],va[0][1]]);U=[];if(va&&2<va.length){let Ba=ba.hachureGap;0>Ba&&(Ba=4*ba.strokeWidth);Ba=Math.max(Ba,.1);ba=[];for(var ua=0;ua<va.length-1;ua++){const ib=va[ua],rb=va[ua+1];if(ib[1]!==rb[1]){const pb=Math.min(ib[1],rb[1]);ba.push({ymin:pb,ymax:Math.max(ib[1],rb[1]),x:pb===ib[1]?ib[0]:rb[0],islope:(rb[0]-ib[0])/(rb[1]-ib[1])})}}if(ba.sort((ib,rb)=>ib.ymin<rb.ymin?
-1:ib.ymin>rb.ymin?1:ib.x<rb.x?-1:ib.x>rb.x?1:ib.ymax===rb.ymax?0:(ib.ymax-rb.ymax)/Math.abs(ib.ymax-rb.ymax)),!ba.length)return U;let Ra=[],Ia=ba[0].ymin;for(;Ra.length||ba.length;){if(ba.length){va=-1;for(ua=0;ua<ba.length&&!(ba[ua].ymin>Ia);ua++)va=ua;ba.splice(0,va+1).forEach(ib=>{Ra.push({s:Ia,edge:ib})})}if(Ra=Ra.filter(ib=>!(ib.edge.ymax<=Ia)),Ra.sort((ib,rb)=>ib.edge.x===rb.edge.x?0:(ib.edge.x-rb.edge.x)/Math.abs(ib.edge.x-rb.edge.x)),1<Ra.length)for(va=0;va<Ra.length;va+=2){ua=va+1;if(ua>=
Ra.length)break;U.push([[Math.round(Ra[va].edge.x),Ia],[Math.round(Ra[ua].edge.x),Ia]])}Ia+=Ba;Ra.forEach(ib=>{ib.edge.x+=Ba*ib.edge.islope})}}return U}(d,p);return H&&(C(d,w,-H),function(U,ba,va){const ua=[];U.forEach(Ba=>ua.push(...Ba));C(ua,ba,va)}(p,w,-H)),p}function da(d){const p=[];a:{var w=d;for(var H=[];""!==w;){if(!w.match(/^([ \t\r\n,]+)/))if(w.match(/^([aAcChHlLmMqQsStTvVzZ])/))H[H.length]={type:0,text:RegExp.$1};else{if(!w.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/)){w=
[];break a}H[H.length]={type:1,text:`${parseFloat(RegExp.$1)}`}}w=w.substr(RegExp.$1.length)}w=(H[H.length]={type:2,text:""},H)}H="BOD";let U=0;for(var ba=w[U];2!==ba.type;){let va=0;const ua=[];if("BOD"===H){if("M"!==ba.text&&"m"!==ba.text)return da("M0,0"+d);U++;va=dh[ba.text];H=ba.text}else 1===ba.type?va=dh[H]:(U++,va=dh[ba.text],H=ba.text);if(!(U+va<w.length))throw Error("Path data ended short");for(ba=U;ba<U+va;ba++){const Ba=w[ba];if(1!==Ba.type)throw Error("Param not a number: "+H+","+Ba.text);
ua[ua.length]=+Ba.text}if("number"!=typeof dh[H])throw Error("Bad segment: "+H);p.push({key:H,data:ua});U+=va;ba=w[U];"M"===H&&(H="L");"m"===H&&(H="l")}return p}function Q(d){let p=0,w=0,H=0,U=0;const ba=[];for(const {key:va,data:ua}of d)switch(va){case "M":ba.push({key:"M",data:[...ua]});[p,w]=ua;[H,U]=ua;break;case "m":p+=ua[0];w+=ua[1];ba.push({key:"M",data:[p,w]});H=p;U=w;break;case "L":ba.push({key:"L",data:[...ua]});[p,w]=ua;break;case "l":p+=ua[0];w+=ua[1];ba.push({key:"L",data:[p,w]});break;
case "C":ba.push({key:"C",data:[...ua]});p=ua[4];w=ua[5];break;case "c":d=ua.map((Ba,Ra)=>Ra%2?Ba+w:Ba+p);ba.push({key:"C",data:d});p=d[4];w=d[5];break;case "Q":ba.push({key:"Q",data:[...ua]});p=ua[2];w=ua[3];break;case "q":d=ua.map((Ba,Ra)=>Ra%2?Ba+w:Ba+p);ba.push({key:"Q",data:d});p=d[2];w=d[3];break;case "A":ba.push({key:"A",data:[...ua]});p=ua[5];w=ua[6];break;case "a":p+=ua[5];w+=ua[6];ba.push({key:"A",data:[ua[0],ua[1],ua[2],ua[3],ua[4],p,w]});break;case "H":ba.push({key:"H",data:[...ua]});
p=ua[0];break;case "h":p+=ua[0];ba.push({key:"H",data:[p]});break;case "V":ba.push({key:"V",data:[...ua]});w=ua[0];break;case "v":w+=ua[0];ba.push({key:"V",data:[w]});break;case "S":ba.push({key:"S",data:[...ua]});p=ua[2];w=ua[3];break;case "s":d=ua.map((Ba,Ra)=>Ra%2?Ba+w:Ba+p);ba.push({key:"S",data:d});p=d[2];w=d[3];break;case "T":ba.push({key:"T",data:[...ua]});p=ua[0];w=ua[1];break;case "t":p+=ua[0];w+=ua[1];ba.push({key:"T",data:[p,w]});break;case "Z":case "z":ba.push({key:"Z",data:[]}),p=H,w=
U}return ba}function W(d){const p=[];var w="";let H=0,U=0,ba=0,va=0,ua=0,Ba=0;for(const {key:Ia,data:ib}of d){switch(Ia){case "M":p.push({key:"M",data:[...ib]});[H,U]=ib;[ba,va]=ib;break;case "C":p.push({key:"C",data:[...ib]});H=ib[4];U=ib[5];ua=ib[2];Ba=ib[3];break;case "L":p.push({key:"L",data:[...ib]});[H,U]=ib;break;case "H":H=ib[0];p.push({key:"L",data:[H,U]});break;case "V":U=ib[0];p.push({key:"L",data:[H,U]});break;case "S":var Ra=d=0;"C"===w||"S"===w?(d=H+(H-ua),Ra=U+(U-Ba)):(d=H,Ra=U);p.push({key:"C",
data:[d,Ra,...ib]});ua=ib[0];Ba=ib[1];H=ib[2];U=ib[3];break;case "T":const [rb,pb]=ib;Ra=d=0;"Q"===w||"T"===w?(d=H+(H-ua),Ra=U+(U-Ba)):(d=H,Ra=U);p.push({key:"C",data:[H+2*(d-H)/3,U+2*(Ra-U)/3,rb+2*(d-rb)/3,pb+2*(Ra-pb)/3,rb,pb]});ua=d;Ba=Ra;H=rb;U=pb;break;case "Q":const [dc,Vb,Bc,fd]=ib;p.push({key:"C",data:[H+2*(dc-H)/3,U+2*(Vb-U)/3,Bc+2*(dc-Bc)/3,fd+2*(Vb-fd)/3,Bc,fd]});ua=dc;Ba=Vb;H=Bc;U=fd;break;case "A":w=Math.abs(ib[0]);d=Math.abs(ib[1]);Ra=ib[2];const hd=ib[3],ud=ib[4],le=ib[5],ke=ib[6];
if(0===w||0===d)p.push({key:"C",data:[H,U,le,ke,le,ke]}),H=le,U=ke;else if(H!==le||U!==ke)D(H,U,le,ke,w,d,Ra,hd,ud).forEach(function(Oe){p.push({key:"C",data:Oe})}),H=le,U=ke;break;case "Z":p.push({key:"Z",data:[]}),H=ba,U=va}w=Ia}return p}function Y(d,p,w){return[d*Math.cos(w)-p*Math.sin(w),d*Math.sin(w)+p*Math.cos(w)]}function D(d,p,w,H,U,ba,va,ua,Ba,Ra){const Ia=(ib=va,Math.PI*ib/180);var ib;ib=[];if(Ra)[ua,rb,pb,dc]=Ra;else{[d,p]=Y(d,p,-Ia);[w,H]=Y(w,H,-Ia);var rb=(d-w)/2;var pb=(p-H)/2;var dc=
rb*rb/(U*U)+pb*pb/(ba*ba);1<dc&&(dc=Math.sqrt(dc),U*=dc,ba*=dc);dc=U*U;var Vb=ba*ba;ua=(ua===Ba?-1:1)*Math.sqrt(Math.abs((dc*Vb-dc*pb*pb-Vb*rb*rb)/(dc*pb*pb+Vb*rb*rb)));pb=ua*U*pb/ba+(d+w)/2;dc=ua*-ba*rb/U+(p+H)/2;ua=Math.asin(parseFloat(((p-dc)/ba).toFixed(9)));rb=Math.asin(parseFloat(((H-dc)/ba).toFixed(9)));d<pb&&(ua=Math.PI-ua);w<pb&&(rb=Math.PI-rb);0>ua&&(ua=2*Math.PI+ua);0>rb&&(rb=2*Math.PI+rb);Ba&&ua>rb&&(ua-=2*Math.PI);!Ba&&rb>ua&&(rb-=2*Math.PI)}if(Math.abs(rb-ua)>120*Math.PI/180){ib=rb;
Vb=w;const Bc=H;rb=Ba&&rb>ua?ua+120*Math.PI/180:ua+120*Math.PI/180*-1;ib=D(w=pb+U*Math.cos(rb),H=dc+ba*Math.sin(rb),Vb,Bc,U,ba,va,0,Ba,[rb,ib,pb,dc])}va=Math.tan((rb-ua)/4);U=4/3*U*va;va*=4/3*ba;ba=[d,p];d=[d+U*Math.sin(ua),p-va*Math.cos(ua)];p=[w+U*Math.sin(rb),H-va*Math.cos(rb)];w=[w,H];if(d[0]=2*ba[0]-d[0],d[1]=2*ba[1]-d[1],Ra)return[d,p,w].concat(ib);ib=[d,p,w].concat(ib);Ra=[];for(w=0;w<ib.length;w+=3)H=Y(ib[w][0],ib[w][1],Ia),d=Y(ib[w+1][0],ib[w+1][1],Ia),p=Y(ib[w+2][0],ib[w+2][1],Ia),Ra.push([H[0],
H[1],d[0],d[1],p[0],p[1]]);return Ra}function M(d,p,w){const H=(d||[]).length;if(2<H){const U=[];for(let ba=0;ba<H-1;ba++)U.push(...Aa(d[ba][0],d[ba][1],d[ba+1][0],d[ba+1][1],w));return p&&U.push(...Aa(d[H-1][0],d[H-1][1],d[0][0],d[0][1],w)),{type:"path",ops:U}}return 2===H?{type:"path",ops:Aa(d[0][0],d[0][1],d[1][0],d[1][1],w)}:{type:"path",ops:[]}}function aa(d,p){let w=kb(d,1+.2*p.roughness,p);if(!p.disableMultiStroke){var H=1.5*(1+.22*p.roughness);const U=Object.assign({},p);U.randomizer=void 0;
p.seed&&(U.seed=p.seed+1);d=kb(d,H,U);w=w.concat(d)}return{type:"path",ops:w}}function ea(d,p,w){const H=2*Math.PI/Math.max(w.curveStepCount,w.curveStepCount/Math.sqrt(200)*Math.sqrt(2*Math.PI*Math.sqrt((Math.pow(d/2,2)+Math.pow(p/2,2))/2)));d=Math.abs(d/2);p=Math.abs(p/2);const U=1-w.curveFitting;return d+=Pa(d*U,w),p+=Pa(p*U,w),{increment:H,rx:d,ry:p}}function pa(d,p,w,H){const [U,ba]=Ob(H.increment,d,p,H.rx,H.ry,1,H.increment*Ga(.1,Ga(.4,1,w),w),w);let va=Gb(U,null,w);w.disableMultiStroke||([d]=
Ob(H.increment,d,p,H.rx,H.ry,1.5,0,w),w=Gb(d,null,w),va=va.concat(w));return{estimatedPoints:ba,opset:{type:"path",ops:va}}}function ka(d,p,w,H,U,ba,va,ua,Ba){w=Math.abs(w/2);H=Math.abs(H/2);w+=Pa(.01*w,Ba);for(H+=Pa(.01*H,Ba);0>U;)U+=2*Math.PI,ba+=2*Math.PI;ba-U>2*Math.PI&&(U=0,ba=2*Math.PI);var Ra=Math.min(2*Math.PI/Ba.curveStepCount/2,(ba-U)/2);const Ia=Tb(Ra,d,p,w,H,U,ba,1,Ba);Ba.disableMultiStroke||(Ra=Tb(Ra,d,p,w,H,U,ba,1.5,Ba),Ia.push(...Ra));return va&&(ua?Ia.push(...Aa(d,p,d+w*Math.cos(U),
p+H*Math.sin(U),Ba),...Aa(d,p,d+w*Math.cos(ba),p+H*Math.sin(ba),Ba)):Ia.push({op:"lineTo",data:[d,p]},{op:"lineTo",data:[d+w*Math.cos(U),p+H*Math.sin(U)]})),{type:"path",ops:Ia}}function ja(d,p){const w=[];if(d.length){const H=p.maxRandomnessOffset||0,U=d.length;if(2<U){w.push({op:"move",data:[d[0][0]+Pa(H,p),d[0][1]+Pa(H,p)]});for(let ba=1;ba<U;ba++)w.push({op:"lineTo",data:[d[ba][0]+Pa(H,p),d[ba][1]+Pa(H,p)]})}}return{type:"fillPath",ops:w}}function sa(d,p){var w=Hd;let H=p.fillStyle||"hachure";
if(!Bf[H])switch(H){case "zigzag":Bf[H]||(Bf[H]=new de(w));break;case "cross-hatch":Bf[H]||(Bf[H]=new nf(w));break;case "dots":Bf[H]||(Bf[H]=new Yg(w));break;case "dashed":Bf[H]||(Bf[H]=new Oh(w));break;case "zigzag-line":Bf[H]||(Bf[H]=new Ph(w));break;default:H="hachure",Bf[H]||(Bf[H]=new Rd(w))}return Bf[H].fillPolygon(d,p)}function ta(d){return d.randomizer||(d.randomizer=new Se(d.seed||0)),d.randomizer.next()}function Ga(d,p,w,H=1){return w.roughness*H*(ta(w)*(p-d)+d)}function Pa(d,p,w=1){return Ga(-d,
d,p,w)}function Aa(d,p,w,H,U,ba=!1){const va=ba?U.disableMultiStrokeFill:U.disableMultiStroke;ba=ab(d,p,w,H,U,!0,!1);if(va)return ba;d=ab(d,p,w,H,U,!0,!0);return ba.concat(d)}function ab(d,p,w,H,U,ba,va){var ua=Math.pow(d-w,2)+Math.pow(p-H,2),Ba=Math.sqrt(ua);let Ra;Ra=200>Ba?1:500<Ba?.4:-.0016668*Ba+1.233334;let Ia=U.maxRandomnessOffset||0;Ia*Ia*100>ua&&(Ia=Ba/10);ua=Ia/2;Ba=.2+.2*ta(U);let ib=U.bowing*U.maxRandomnessOffset*(H-p)/200,rb=U.bowing*U.maxRandomnessOffset*(d-w)/200;ib=Pa(ib,U,Ra);rb=
Pa(rb,U,Ra);const pb=[];return ba&&(va?pb.push({op:"move",data:[d+Pa(ua,U,Ra),p+Pa(ua,U,Ra)]}):pb.push({op:"move",data:[d+Pa(Ia,U,Ra),p+Pa(Ia,U,Ra)]})),va?pb.push({op:"bcurveTo",data:[ib+d+(w-d)*Ba+Pa(ua,U,Ra),rb+p+(H-p)*Ba+Pa(ua,U,Ra),ib+d+2*(w-d)*Ba+Pa(ua,U,Ra),rb+p+2*(H-p)*Ba+Pa(ua,U,Ra),w+Pa(ua,U,Ra),H+Pa(ua,U,Ra)]}):pb.push({op:"bcurveTo",data:[ib+d+(w-d)*Ba+Pa(Ia,U,Ra),rb+p+(H-p)*Ba+Pa(Ia,U,Ra),ib+d+2*(w-d)*Ba+Pa(Ia,U,Ra),rb+p+2*(H-p)*Ba+Pa(Ia,U,Ra),w+Pa(Ia,U,Ra),H+Pa(Ia,U,Ra)]}),pb}function kb(d,
p,w){const H=[];H.push([d[0][0]+Pa(p,w),d[0][1]+Pa(p,w)]);H.push([d[0][0]+Pa(p,w),d[0][1]+Pa(p,w)]);for(let U=1;U<d.length;U++)H.push([d[U][0]+Pa(p,w),d[U][1]+Pa(p,w)]),U===d.length-1&&H.push([d[U][0]+Pa(p,w),d[U][1]+Pa(p,w)]);return Gb(H,null,w)}function Gb(d,p,w){const H=d.length,U=[];if(3<H){const ba=[],va=1-w.curveTightness;U.push({op:"move",data:[d[1][0],d[1][1]]});for(let ua=1;ua+2<H;ua++){const Ba=d[ua];ba[0]=[Ba[0],Ba[1]];ba[1]=[Ba[0]+(va*d[ua+1][0]-va*d[ua-1][0])/6,Ba[1]+(va*d[ua+1][1]-va*
d[ua-1][1])/6];ba[2]=[d[ua+1][0]+(va*d[ua][0]-va*d[ua+2][0])/6,d[ua+1][1]+(va*d[ua][1]-va*d[ua+2][1])/6];ba[3]=[d[ua+1][0],d[ua+1][1]];U.push({op:"bcurveTo",data:[ba[1][0],ba[1][1],ba[2][0],ba[2][1],ba[3][0],ba[3][1]]})}p&&2===p.length&&(d=w.maxRandomnessOffset,U.push({op:"lineTo",data:[p[0]+Pa(d,w),p[1]+Pa(d,w)]}))}else 3===H?(U.push({op:"move",data:[d[1][0],d[1][1]]}),U.push({op:"bcurveTo",data:[d[1][0],d[1][1],d[2][0],d[2][1],d[2][0],d[2][1]]})):2===H&&U.push(...Aa(d[0][0],d[0][1],d[1][0],d[1][1],
w));return U}function Ob(d,p,w,H,U,ba,va,ua){const Ba=[],Ra=[],Ia=Pa(.5,ua)-Math.PI/2;Ra.push([Pa(ba,ua)+p+.9*H*Math.cos(Ia-d),Pa(ba,ua)+w+.9*U*Math.sin(Ia-d)]);for(let ib=Ia;ib<2*Math.PI+Ia-.01;ib+=d){const rb=[Pa(ba,ua)+p+H*Math.cos(ib),Pa(ba,ua)+w+U*Math.sin(ib)];Ba.push(rb);Ra.push(rb)}return Ra.push([Pa(ba,ua)+p+H*Math.cos(Ia+2*Math.PI+.5*va),Pa(ba,ua)+w+U*Math.sin(Ia+2*Math.PI+.5*va)]),Ra.push([Pa(ba,ua)+p+.98*H*Math.cos(Ia+va),Pa(ba,ua)+w+.98*U*Math.sin(Ia+va)]),Ra.push([Pa(ba,ua)+p+.9*H*Math.cos(Ia+
.5*va),Pa(ba,ua)+w+.9*U*Math.sin(Ia+.5*va)]),[Ra,Ba]}function Tb(d,p,w,H,U,ba,va,ua,Ba){var Ra=ba+Pa(.1,Ba);ba=[];for(ba.push([Pa(ua,Ba)+p+.9*H*Math.cos(Ra-d),Pa(ua,Ba)+w+.9*U*Math.sin(Ra-d)]);Ra<=va;Ra+=d)ba.push([Pa(ua,Ba)+p+H*Math.cos(Ra),Pa(ua,Ba)+w+U*Math.sin(Ra)]);return ba.push([p+H*Math.cos(va),w+U*Math.sin(va)]),ba.push([p+H*Math.cos(va),w+U*Math.sin(va)]),Gb(ba,null,Ba)}function Mb(d,p,w,H,U,ba,va,ua){const Ba=[],Ra=[ua.maxRandomnessOffset||1,(ua.maxRandomnessOffset||1)+.3];let Ia;const ib=
ua.disableMultiStroke?1:2;for(let rb=0;rb<ib;rb++)0===rb?Ba.push({op:"move",data:[va[0],va[1]]}):Ba.push({op:"move",data:[va[0]+Pa(Ra[0],ua),va[1]+Pa(Ra[0],ua)]}),Ia=[U+Pa(Ra[rb],ua),ba+Pa(Ra[rb],ua)],Ba.push({op:"bcurveTo",data:[d+Pa(Ra[rb],ua),p+Pa(Ra[rb],ua),w+Pa(Ra[rb],ua),H+Pa(Ra[rb],ua),Ia[0],Ia[1]]});return Ba}function bc(d){var p,w,H="";if("string"==typeof d||"number"==typeof d)H+=d;else if("object"==typeof d)if(Array.isArray(d))for(p=0;p<d.length;p++)d[p]&&(w=bc(d[p]))&&(H&&(H+=" "),H+=w);
else for(p in d)d[p]&&(H&&(H+=" "),H+=p);return H}function xc(){for(var d,p,w=0,H="";w<arguments.length;)(d=arguments[w++])&&(p=bc(d))&&(H&&(H+=" "),H+=p);return H}function Eb(d,p){var w=Object.keys(d);if(Object.getOwnPropertySymbols){var H=Object.getOwnPropertySymbols(d);p&&(H=H.filter(function(U){return Object.getOwnPropertyDescriptor(d,U).enumerable}));w.push.apply(w,H)}return w}function fc(d){for(var p=1;p<arguments.length;p++){var w=null!=arguments[p]?arguments[p]:{};p%2?Eb(Object(w),!0).forEach(function(H){od()(d,
H,w[H])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(w)):Eb(Object(w)).forEach(function(H){Object.defineProperty(d,H,Object.getOwnPropertyDescriptor(w,H))})}return d}function Yb(d,p){var w=Object.keys(d);if(Object.getOwnPropertySymbols){var H=Object.getOwnPropertySymbols(d);p&&(H=H.filter(function(U){return Object.getOwnPropertyDescriptor(d,U).enumerable}));w.push.apply(w,H)}return w}function xb(d){for(var p=1;p<arguments.length;p++){var w=null!=arguments[p]?
arguments[p]:{};p%2?Yb(Object(w),!0).forEach(function(H){od()(d,H,w[H])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(w)):Yb(Object(w)).forEach(function(H){Object.defineProperty(d,H,Object.getOwnPropertyDescriptor(w,H))})}return d}function Ja(d,p){var w=Object.keys(d);if(Object.getOwnPropertySymbols){var H=Object.getOwnPropertySymbols(d);p&&(H=H.filter(function(U){return Object.getOwnPropertyDescriptor(d,U).enumerable}));w.push.apply(w,H)}return w}function Na(d){for(var p=
1;p<arguments.length;p++){var w=null!=arguments[p]?arguments[p]:{};p%2?Ja(Object(w),!0).forEach(function(H){od()(d,H,w[H])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(w)):Ja(Object(w)).forEach(function(H){Object.defineProperty(d,H,Object.getOwnPropertyDescriptor(w,H))})}return d}function Ma(d,p){var w=Object.keys(d);if(Object.getOwnPropertySymbols){var H=Object.getOwnPropertySymbols(d);p&&(H=H.filter(function(U){return Object.getOwnPropertyDescriptor(d,
U).enumerable}));w.push.apply(w,H)}return w}function Fa(d){for(var p=1;p<arguments.length;p++){var w=null!=arguments[p]?arguments[p]:{};p%2?Ma(Object(w),!0).forEach(function(H){od()(d,H,w[H])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(w)):Ma(Object(w)).forEach(function(H){Object.defineProperty(d,H,Object.getOwnPropertyDescriptor(w,H))})}return d}function Qa(d,p){var w=Object.keys(d);if(Object.getOwnPropertySymbols){var H=Object.getOwnPropertySymbols(d);
p&&(H=H.filter(function(U){return Object.getOwnPropertyDescriptor(d,U).enumerable}));w.push.apply(w,H)}return w}function db(d){for(var p=1;p<arguments.length;p++){var w=null!=arguments[p]?arguments[p]:{};p%2?Qa(Object(w),!0).forEach(function(H){od()(d,H,w[H])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(w)):Qa(Object(w)).forEach(function(H){Object.defineProperty(d,H,Object.getOwnPropertyDescriptor(w,H))})}return d}function Rb(d,p){var w=Object.keys(d);
if(Object.getOwnPropertySymbols){var H=Object.getOwnPropertySymbols(d);p&&(H=H.filter(function(U){return Object.getOwnPropertyDescriptor(d,U).enumerable}));w.push.apply(w,H)}return w}function Qb(d,p){var w=Object.keys(d);if(Object.getOwnPropertySymbols){var H=Object.getOwnPropertySymbols(d);p&&(H=H.filter(function(U){return Object.getOwnPropertyDescriptor(d,U).enumerable}));w.push.apply(w,H)}return w}function Ac(d){for(var p=1;p<arguments.length;p++){var w=null!=arguments[p]?arguments[p]:{};p%2?Qb(Object(w),
!0).forEach(function(H){od()(d,H,w[H])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(w)):Qb(Object(w)).forEach(function(H){Object.defineProperty(d,H,Object.getOwnPropertyDescriptor(w,H))})}return d}function Jc(d,p){var w=Object.keys(d);if(Object.getOwnPropertySymbols){var H=Object.getOwnPropertySymbols(d);p&&(H=H.filter(function(U){return Object.getOwnPropertyDescriptor(d,U).enumerable}));w.push.apply(w,H)}return w}function yc(d){for(var p=1;p<arguments.length;p++){var w=
null!=arguments[p]?arguments[p]:{};p%2?Jc(Object(w),!0).forEach(function(H){od()(d,H,w[H])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(w)):Jc(Object(w)).forEach(function(H){Object.defineProperty(d,H,Object.getOwnPropertyDescriptor(w,H))})}return d}function Gc(d,p){var w=Object.keys(d);if(Object.getOwnPropertySymbols){var H=Object.getOwnPropertySymbols(d);p&&(H=H.filter(function(U){return Object.getOwnPropertyDescriptor(d,U).enumerable}));w.push.apply(w,
H)}return w}function Wc(d){for(var p=1;p<arguments.length;p++){var w=null!=arguments[p]?arguments[p]:{};p%2?Gc(Object(w),!0).forEach(function(H){od()(d,H,w[H])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(w)):Gc(Object(w)).forEach(function(H){Object.defineProperty(d,H,Object.getOwnPropertyDescriptor(w,H))})}return d}function Kd(d,p){var w=Object.keys(d);if(Object.getOwnPropertySymbols){var H=Object.getOwnPropertySymbols(d);p&&(H=H.filter(function(U){return Object.getOwnPropertyDescriptor(d,
U).enumerable}));w.push.apply(w,H)}return w}function kd(d){for(var p=1;p<arguments.length;p++){var w=null!=arguments[p]?arguments[p]:{};p%2?Kd(Object(w),!0).forEach(function(H){od()(d,H,w[H])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(w)):Kd(Object(w)).forEach(function(H){Object.defineProperty(d,H,Object.getOwnPropertyDescriptor(w,H))})}return d}function we(d,p){var w=Object.keys(d);if(Object.getOwnPropertySymbols){var H=Object.getOwnPropertySymbols(d);
p&&(H=H.filter(function(U){return Object.getOwnPropertyDescriptor(d,U).enumerable}));w.push.apply(w,H)}return w}function te(d){for(var p=1;p<arguments.length;p++){var w=null!=arguments[p]?arguments[p]:{};p%2?we(Object(w),!0).forEach(function(H){od()(d,H,w[H])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(w)):we(Object(w)).forEach(function(H){Object.defineProperty(d,H,Object.getOwnPropertyDescriptor(w,H))})}return d}function rd(d){var p=d.options,w=d.value,
H=d.label,U=d.onChange,ba=d.onClose,va=Ca().useRef(),ua=Ca().useRef(),Ba=Ca().useRef(null);Ca().useEffect(function(){ua.current?ua.current.focus():Ba.current&&Ba.current.focus()},[]);return Ca().createElement("div",{className:"picker",role:"dialog","aria-modal":"true","aria-label":H,onKeyDown:function(Ra){var Ia=p.find(function(dc){return dc.keyBinding===Ra.key.toLowerCase()});if(Ra.metaKey||Ra.altKey||Ra.ctrlKey||!Ia)if("Tab"===Ra.key)setTimeout(function(){ua.current!==document.activeElement&&ba()},
0);else if(yg(Ra.key)){Ia=ra.rtl;if(-1!==(pb=Array.prototype.indexOf.call(Ba.current.children,document.activeElement))){var ib=p.length,rb=pb;switch(Ra.key){case Ia?"ArrowLeft":"ArrowRight":case "ArrowDown":rb=(pb+1)%ib;break;case Ia?"ArrowRight":"ArrowLeft":case "ArrowUp":rb=(ib+pb-1)%ib}Ba.current.children[rb].focus()}Ra.preventDefault()}else"Escape"!==Ra.key&&"Enter"!==Ra.key||(Ra.preventDefault(),ba());else{var pb=p.indexOf(Ia);Ba.current.children[pb].focus();Ra.preventDefault()}Ra.nativeEvent.stopImmediatePropagation()}},
Ca().createElement("div",{className:"picker-content",ref:Ba},p.map(function(Ra,Ia){return Ca().createElement("button",{className:"picker-option",onClick:function(ib){ib.currentTarget.focus();U(Ra.value)},title:"".concat(Ra.text," — ").concat(Ra.keyBinding.toUpperCase()),"aria-label":Ra.text||"none","aria-keyshortcuts":Ra.keyBinding,key:Ra.text,ref:function(ib){ib&&0===Ia&&(va.current=ib);ib&&Ra.value===w&&(ua.current=ib)},onFocus:function(){U(Ra.value)}},Ra.icon,Ca().createElement("span",{className:"picker-keybinding"},
Ra.keyBinding))})))}function vd(d){var p,w=d.value,H=d.label,U=d.options,ba=d.onChange;d=d.group;d=void 0===d?"":d;var va=Ca().useState(!1),ua=va[0],Ba=va[1],Ra=Ca().useRef(null);va=ra.rtl;return Ca().createElement("label",{className:"picker-container"},Ca().createElement("button",{name:d,className:ua?"active":"","aria-label":H,onClick:function(){return Ba(!ua)},ref:Ra},null===(p=U.find(function(Ia){return Ia.value===w}))||void 0===p?void 0:p.icon),Ca().createElement(Ca().Suspense,{fallback:""},ua?
Ca().createElement(Ca().Fragment,null,Ca().createElement(gb,Od()({onCloseRequest:function(Ia){return Ia.target!==Ra.current&&Ba(!1)}},va?{right:5.5}:{left:-5.5}),Ca().createElement(rd,{options:U,value:w,label:H,onChange:ba,onClose:function(){var Ia;Ba(!1);null===(Ia=Ra.current)||void 0===Ia||Ia.focus()}})),Ca().createElement("div",{className:"picker-triangle"})):null))}function Ge(d,p){var w=Object.keys(d);if(Object.getOwnPropertySymbols){var H=Object.getOwnPropertySymbols(d);p&&(H=H.filter(function(U){return Object.getOwnPropertyDescriptor(d,
U).enumerable}));w.push.apply(w,H)}return w}function Ne(d){for(var p=1;p<arguments.length;p++){var w=null!=arguments[p]?arguments[p]:{};p%2?Ge(Object(w),!0).forEach(function(H){od()(d,H,w[H])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(w)):Ge(Object(w)).forEach(function(H){Object.defineProperty(d,H,Object.getOwnPropertyDescriptor(w,H))})}return d}function Ue(){return(0,jc.useContext)(kg)}function pf(d,p){var w=Object.keys(d);if(Object.getOwnPropertySymbols){var H=
Object.getOwnPropertySymbols(d);p&&(H=H.filter(function(U){return Object.getOwnPropertyDescriptor(d,U).enumerable}));w.push.apply(w,H)}return w}function Ke(d){for(var p=1;p<arguments.length;p++){var w=null!=arguments[p]?arguments[p]:{};p%2?pf(Object(w),!0).forEach(function(H){od()(d,H,w[H])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(w)):pf(Object(w)).forEach(function(H){Object.defineProperty(d,H,Object.getOwnPropertyDescriptor(w,H))})}return d}function Ff(d,
p){var w=Object.keys(d);if(Object.getOwnPropertySymbols){var H=Object.getOwnPropertySymbols(d);p&&(H=H.filter(function(U){return Object.getOwnPropertyDescriptor(d,U).enumerable}));w.push.apply(w,H)}return w}function Fg(d){for(var p=1;p<arguments.length;p++){var w=null!=arguments[p]?arguments[p]:{};p%2?Ff(Object(w),!0).forEach(function(H){od()(d,H,w[H])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(w)):Ff(Object(w)).forEach(function(H){Object.defineProperty(d,
H,Object.getOwnPropertyDescriptor(w,H))})}return d}async function th(...d){return(await wm).default(...d)}async function ih(...d){return(await rf).default(...d)}function Le(d,p){var w=Object.keys(d);if(Object.getOwnPropertySymbols){var H=Object.getOwnPropertySymbols(d);p&&(H=H.filter(function(U){return Object.getOwnPropertyDescriptor(d,U).enumerable}));w.push.apply(w,H)}return w}function Ve(d){for(var p=1;p<arguments.length;p++){var w=null!=arguments[p]?arguments[p]:{};p%2?Le(Object(w),!0).forEach(function(H){od()(d,
H,w[H])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(w)):Le(Object(w)).forEach(function(H){Object.defineProperty(d,H,Object.getOwnPropertyDescriptor(w,H))})}return d}function sg(d,p){var w=Object.keys(d);if(Object.getOwnPropertySymbols){var H=Object.getOwnPropertySymbols(d);p&&(H=H.filter(function(U){return Object.getOwnPropertyDescriptor(d,U).enumerable}));w.push.apply(w,H)}return w}function Fe(d){for(var p=1;p<arguments.length;p++){var w=null!=arguments[p]?
arguments[p]:{};p%2?sg(Object(w),!0).forEach(function(H){od()(d,H,w[H])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(w)):sg(Object(w)).forEach(function(H){Object.defineProperty(d,H,Object.getOwnPropertyDescriptor(w,H))})}return d}function qb(d,p){var w=Object.keys(d);if(Object.getOwnPropertySymbols){var H=Object.getOwnPropertySymbols(d);p&&(H=H.filter(function(U){return Object.getOwnPropertyDescriptor(d,U).enumerable}));w.push.apply(w,H)}return w}function Bb(d){for(var p=
1;p<arguments.length;p++){var w=null!=arguments[p]?arguments[p]:{};p%2?qb(Object(w),!0).forEach(function(H){od()(d,H,w[H])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(w)):qb(Object(w)).forEach(function(H){Object.defineProperty(d,H,Object.getOwnPropertyDescriptor(w,H))})}return d}function mb(d,p){var w=Object.keys(d);if(Object.getOwnPropertySymbols){var H=Object.getOwnPropertySymbols(d);p&&(H=H.filter(function(U){return Object.getOwnPropertyDescriptor(d,
U).enumerable}));w.push.apply(w,H)}return w}function Wa(d){for(var p=1;p<arguments.length;p++){var w=null!=arguments[p]?arguments[p]:{};p%2?mb(Object(w),!0).forEach(function(H){od()(d,H,w[H])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(w)):mb(Object(w)).forEach(function(H){Object.defineProperty(d,H,Object.getOwnPropertyDescriptor(w,H))})}return d}function fb(d,p){var w=Object.keys(d);if(Object.getOwnPropertySymbols){var H=Object.getOwnPropertySymbols(d);
p&&(H=H.filter(function(U){return Object.getOwnPropertyDescriptor(d,U).enumerable}));w.push.apply(w,H)}return w}function tb(d){for(var p=1;p<arguments.length;p++){var w=null!=arguments[p]?arguments[p]:{};p%2?fb(Object(w),!0).forEach(function(H){od()(d,H,w[H])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(w)):fb(Object(w)).forEach(function(H){Object.defineProperty(d,H,Object.getOwnPropertyDescriptor(w,H))})}return d}function Sb(d,p){var w=Object.keys(d);
if(Object.getOwnPropertySymbols){var H=Object.getOwnPropertySymbols(d);p&&(H=H.filter(function(U){return Object.getOwnPropertyDescriptor(d,U).enumerable}));w.push.apply(w,H)}return w}function qc(d){for(var p=1;p<arguments.length;p++){var w=null!=arguments[p]?arguments[p]:{};p%2?Sb(Object(w),!0).forEach(function(H){od()(d,H,w[H])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(w)):Sb(Object(w)).forEach(function(H){Object.defineProperty(d,H,Object.getOwnPropertyDescriptor(w,
H))})}return d}function tc(d,p){var w=Object.keys(d);if(Object.getOwnPropertySymbols){var H=Object.getOwnPropertySymbols(d);p&&(H=H.filter(function(U){return Object.getOwnPropertyDescriptor(d,U).enumerable}));w.push.apply(w,H)}return w}function Nc(d){for(var p=1;p<arguments.length;p++){var w=null!=arguments[p]?arguments[p]:{};p%2?tc(Object(w),!0).forEach(function(H){od()(d,H,w[H])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(w)):tc(Object(w)).forEach(function(H){Object.defineProperty(d,
H,Object.getOwnPropertyDescriptor(w,H))})}return d}function sd(d,p){var w=Object.keys(d);if(Object.getOwnPropertySymbols){var H=Object.getOwnPropertySymbols(d);p&&(H=H.filter(function(U){return Object.getOwnPropertyDescriptor(d,U).enumerable}));w.push.apply(w,H)}return w}function Yc(d){for(var p=1;p<arguments.length;p++){var w=null!=arguments[p]?arguments[p]:{};p%2?sd(Object(w),!0).forEach(function(H){od()(d,H,w[H])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(w)):
sd(Object(w)).forEach(function(H){Object.defineProperty(d,H,Object.getOwnPropertyDescriptor(w,H))})}return d}function Wd(d,p){var w=Object.keys(d);if(Object.getOwnPropertySymbols){var H=Object.getOwnPropertySymbols(d);p&&(H=H.filter(function(U){return Object.getOwnPropertyDescriptor(d,U).enumerable}));w.push.apply(w,H)}return w}function sc(d){for(var p=1;p<arguments.length;p++){var w=null!=arguments[p]?arguments[p]:{};p%2?Wd(Object(w),!0).forEach(function(H){od()(d,H,w[H])}):Object.getOwnPropertyDescriptors?
Object.defineProperties(d,Object.getOwnPropertyDescriptors(w)):Wd(Object(w)).forEach(function(H){Object.defineProperty(d,H,Object.getOwnPropertyDescriptor(w,H))})}return d}function Wb(d,p){var w=Object.keys(d);if(Object.getOwnPropertySymbols){var H=Object.getOwnPropertySymbols(d);p&&(H=H.filter(function(U){return Object.getOwnPropertyDescriptor(d,U).enumerable}));w.push.apply(w,H)}return w}function he(d){for(var p=1;p<arguments.length;p++){var w=null!=arguments[p]?arguments[p]:{};p%2?Wb(Object(w),
!0).forEach(function(H){od()(d,H,w[H])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(w)):Wb(Object(w)).forEach(function(H){Object.defineProperty(d,H,Object.getOwnPropertyDescriptor(w,H))})}return d}function cd(d,p){var w=Object.keys(d);if(Object.getOwnPropertySymbols){var H=Object.getOwnPropertySymbols(d);p&&(H=H.filter(function(U){return Object.getOwnPropertyDescriptor(d,U).enumerable}));w.push.apply(w,H)}return w}function Ae(d){for(var p=1;p<arguments.length;p++){var w=
null!=arguments[p]?arguments[p]:{};p%2?cd(Object(w),!0).forEach(function(H){od()(d,H,w[H])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(w)):cd(Object(w)).forEach(function(H){Object.defineProperty(d,H,Object.getOwnPropertyDescriptor(w,H))})}return d}function ob(d,p){var w=Object.keys(d);if(Object.getOwnPropertySymbols){var H=Object.getOwnPropertySymbols(d);p&&(H=H.filter(function(U){return Object.getOwnPropertyDescriptor(d,U).enumerable}));w.push.apply(w,
H)}return w}function ic(d){for(var p=1;p<arguments.length;p++){var w=null!=arguments[p]?arguments[p]:{};p%2?ob(Object(w),!0).forEach(function(H){od()(d,H,w[H])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(w)):ob(Object(w)).forEach(function(H){Object.defineProperty(d,H,Object.getOwnPropertyDescriptor(w,H))})}return d}function jb(d,p){var w=Object.keys(d);if(Object.getOwnPropertySymbols){var H=Object.getOwnPropertySymbols(d);p&&(H=H.filter(function(U){return Object.getOwnPropertyDescriptor(d,
U).enumerable}));w.push.apply(w,H)}return w}function kc(d){for(var p=1;p<arguments.length;p++){var w=null!=arguments[p]?arguments[p]:{};p%2?jb(Object(w),!0).forEach(function(H){od()(d,H,w[H])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(w)):jb(Object(w)).forEach(function(H){Object.defineProperty(d,H,Object.getOwnPropertyDescriptor(w,H))})}return d}function md(d,p){var w=Object.keys(d);if(Object.getOwnPropertySymbols){var H=Object.getOwnPropertySymbols(d);
p&&(H=H.filter(function(U){return Object.getOwnPropertyDescriptor(d,U).enumerable}));w.push.apply(w,H)}return w}function Ad(d){for(var p=1;p<arguments.length;p++){var w=null!=arguments[p]?arguments[p]:{};p%2?md(Object(w),!0).forEach(function(H){od()(d,H,w[H])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(w)):md(Object(w)).forEach(function(H){Object.defineProperty(d,H,Object.getOwnPropertyDescriptor(w,H))})}return d}function Ud(d,p){var w=Object.keys(d);
if(Object.getOwnPropertySymbols){var H=Object.getOwnPropertySymbols(d);p&&(H=H.filter(function(U){return Object.getOwnPropertyDescriptor(d,U).enumerable}));w.push.apply(w,H)}return w}function We(d){for(var p=1;p<arguments.length;p++){var w=null!=arguments[p]?arguments[p]:{};p%2?Ud(Object(w),!0).forEach(function(H){od()(d,H,w[H])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(w)):Ud(Object(w)).forEach(function(H){Object.defineProperty(d,H,Object.getOwnPropertyDescriptor(w,
H))})}return d}function Ic(d,p){var w=Object.keys(d);if(Object.getOwnPropertySymbols){var H=Object.getOwnPropertySymbols(d);p&&(H=H.filter(function(U){return Object.getOwnPropertyDescriptor(d,U).enumerable}));w.push.apply(w,H)}return w}function Tc(d){for(var p=1;p<arguments.length;p++){var w=null!=arguments[p]?arguments[p]:{};p%2?Ic(Object(w),!0).forEach(function(H){od()(d,H,w[H])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(w)):Ic(Object(w)).forEach(function(H){Object.defineProperty(d,
H,Object.getOwnPropertyDescriptor(w,H))})}return d}function mc(d,p){var w=Object.keys(d);if(Object.getOwnPropertySymbols){var H=Object.getOwnPropertySymbols(d);p&&(H=H.filter(function(U){return Object.getOwnPropertyDescriptor(d,U).enumerable}));w.push.apply(w,H)}return w}function wb(d){for(var p=1;p<arguments.length;p++){var w=null!=arguments[p]?arguments[p]:{};p%2?mc(Object(w),!0).forEach(function(H){od()(d,H,w[H])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(w)):
mc(Object(w)).forEach(function(H){Object.defineProperty(d,H,Object.getOwnPropertyDescriptor(w,H))})}return d}function yd(d,p){var w=Object.keys(d);if(Object.getOwnPropertySymbols){var H=Object.getOwnPropertySymbols(d);p&&(H=H.filter(function(U){return Object.getOwnPropertyDescriptor(d,U).enumerable}));w.push.apply(w,H)}return w}function lf(d,p){var w=Object.keys(d);if(Object.getOwnPropertySymbols){var H=Object.getOwnPropertySymbols(d);p&&(H=H.filter(function(U){return Object.getOwnPropertyDescriptor(d,
U).enumerable}));w.push.apply(w,H)}return w}function Nd(d,p){var w=Object.keys(d);if(Object.getOwnPropertySymbols){var H=Object.getOwnPropertySymbols(d);p&&(H=H.filter(function(U){return Object.getOwnPropertyDescriptor(d,U).enumerable}));w.push.apply(w,H)}return w}function Wf(d){for(var p=1;p<arguments.length;p++){var w=null!=arguments[p]?arguments[p]:{};p%2?Nd(Object(w),!0).forEach(function(H){od()(d,H,w[H])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(w)):
Nd(Object(w)).forEach(function(H){Object.defineProperty(d,H,Object.getOwnPropertyDescriptor(w,H))})}return d}function Ea(d,p){var w=Object.keys(d);if(Object.getOwnPropertySymbols){var H=Object.getOwnPropertySymbols(d);p&&(H=H.filter(function(U){return Object.getOwnPropertyDescriptor(d,U).enumerable}));w.push.apply(w,H)}return w}function Ua(d){for(var p=1;p<arguments.length;p++){var w=null!=arguments[p]?arguments[p]:{};p%2?Ea(Object(w),!0).forEach(function(H){od()(d,H,w[H])}):Object.getOwnPropertyDescriptors?
Object.defineProperties(d,Object.getOwnPropertyDescriptors(w)):Ea(Object(w)).forEach(function(H){Object.defineProperty(d,H,Object.getOwnPropertyDescriptor(w,H))})}return d}h.r(t);h.d(t,{default:()=>du,defaultLang:()=>Xa,getElementMap:()=>Yi,getSceneVersion:()=>Zk,getSyncableElements:()=>Ik,languages:()=>Z,restore:()=>dn,restoreAppState:()=>bn,restoreElements:()=>tk});var Ta=h(7154),hb=h.n(Ta),Ib=h(6479),rc=h.n(Ib),jc=h(4698),Ca=h.n(jc),hc=h(8288);const Uc=JSON.parse('{"u2":"@excalidraw/excalidraw","i8":"0.4.2"}');
"production"!==hc.Vi.TEST&&(h.p=window.EXCALIDRAW_ASSET_PATH||"https://unpkg.com/".concat(Uc.u2,"@").concat(Uc.i8,"/dist/"));var Ld=h(5374),Pc=h.n(Ld),Sd=h(2829),Xf=h(2051),ae=function(d,p){function w(Ba){return function(Ra){return function(Ia){if(H)throw new TypeError("Generator is already executing.");for(;ua;)try{if(H=1,U&&(ba=2&Ia[0]?U.return:Ia[0]?U.throw||((ba=U.return)&&ba.call(U),0):U.next)&&!(ba=ba.call(U,Ia[1])).done)return ba;switch(U=0,ba&&(Ia=[2&Ia[0],ba.value]),Ia[0]){case 0:case 1:ba=
Ia;break;case 4:return ua.label++,{value:Ia[1],done:!1};case 5:ua.label++;U=Ia[1];Ia=[0];continue;case 7:Ia=ua.ops.pop();ua.trys.pop();continue;default:if(!(ba=ua.trys,(ba=0<ba.length&&ba[ba.length-1])||6!==Ia[0]&&2!==Ia[0])){ua=0;continue}if(3===Ia[0]&&(!ba||Ia[1]>ba[0]&&Ia[1]<ba[3]))ua.label=Ia[1];else if(6===Ia[0]&&ua.label<ba[1])ua.label=ba[1],ba=Ia;else if(ba&&ua.label<ba[2])ua.label=ba[2],ua.ops.push(Ia);else{ba[2]&&ua.ops.pop();ua.trys.pop();continue}}Ia=p.call(d,ua)}catch(ib){Ia=[6,ib],U=
0}finally{H=ba=0}if(5&Ia[0])throw Ia[1];return{value:Ia[0]?Ia[1]:void 0,done:!0}}([Ba,Ra])}}var H,U,ba,va,ua={label:0,sent:function(){if(1&ba[0])throw ba[1];return ba[1]},trys:[],ops:[]};return va={next:w(0),throw:w(1),return:w(2)},"function"==typeof Symbol&&(va[Symbol.iterator]=function(){return this}),va},Xa={code:"en",label:"English"},Z=[{code:"ar-SA",label:"العربية",rtl:!0},{code:"bg-BG",label:"Български"},{code:"ca-ES",label:"Català"},{code:"de-DE",label:"Deutsch"},{code:"el-GR",label:"Ελληνικά"},
{code:"es-ES",label:"Español"},{code:"fa-IR",label:"فارسی",rtl:!0},{code:"fi-FI",label:"Suomi"},{code:"fr-FR",label:"Français"},{code:"he-IL",label:"עברית",rtl:!0},{code:"hi-IN",label:"हिन्दी"},{code:"hu-HU",label:"Magyar"},{code:"id-ID",label:"Bahasa Indonesia"},{code:"it-IT",label:"Italiano"},{code:"ja-JP",label:"日本語"},{code:"kab-KAB",label:"Taqbaylit"},{code:"ko-KR",label:"한국어"},{code:"my-MM",label:"Burmese"},{code:"nb-NO",label:"Norsk bokmål"},{code:"nl-NL",label:"Nederlands"},{code:"nn-NO",label:"Norsk nynorsk"},
{code:"oc-FR",label:"Occitan"},{code:"pa-IN",label:"ਪੰਜਾਬੀ"},{code:"pl-PL",label:"Polski"},{code:"pt-BR",label:"Português Brasileiro"},{code:"pt-PT",label:"Português"},{code:"ro-RO",label:"Română"},{code:"ru-RU",label:"Русский"},{code:"sk-SK",label:"Slovenčina"},{code:"sv-SE",label:"Svenska"},{code:"tr-TR",label:"Türkçe"},{code:"uk-UA",label:"Українська"},{code:"zh-CN",label:"简体中文"},{code:"zh-TW",label:"繁體中文"}].concat([Xa]).sort(function(d,p){return d.label>p.label?1:-1}).filter(function(d){return 85<=
Xf[d.code]});"production"===hc.Vi.DEVELOPMENT&&Z.unshift({code:"__test__",label:"test language"},{code:"".concat("__test__",".rtl"),label:"‪test language (rtl)‬",rtl:!0});var ha,ra=Xa,La={},eb=function(){var d=Pc()(function(p){return ae(this,function(w){switch(w.label){case 0:return ra=p,document.documentElement.dir=ra.rtl?"rtl":"ltr",document.documentElement.lang=ra.code,p.code.startsWith("__test__")?(La={},[3,3]):[3,1];case 1:return[4,h(788)("./".concat(ra.code,".json"))];case 2:La=w.sent(),w.label=
3;case 3:return[2]}})});return function(p){return d.apply(this,arguments)}}(),ub=function(d,p){for(var w=0;w<p.length;++w){var H=p[w];if(void 0===d[H])return;d=d[H]}if("string"==typeof d)return d},cb=function(d,p){if(ra.code.startsWith("__test__"))return d=p?"".concat(d,"(").concat(JSON.stringify(p).slice(1,-1),")"):d,"‪[[".concat(d,"]]‬");var w=d.split(".");w=ub(La,w)||ub(Sd,w);if(void 0===w)throw Error("Can't find translation for ".concat(d));if(p)for(var H in p)w=w.replace("{{".concat(H,"}}"),
p[H]);return w},nc=function(){return Ca().createElement("div",{className:"LoadingMessage"},Ca().createElement("span",null,cb("labels.loadingScene")))},Zc=(ha=function(d,p){return(ha=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,H){w.__proto__=H}||function(w,H){for(var U in H)Object.prototype.hasOwnProperty.call(H,U)&&(w[U]=H[U])})(d,p)},function(d,p){function w(){this.constructor=d}ha(d,p);d.prototype=null===p?Object.create(p):(w.prototype=p.prototype,new w)}),Cd=function(d,p){function w(Ba){return function(Ra){return function(Ia){if(H)throw new TypeError("Generator is already executing.");
for(;ua;)try{if(H=1,U&&(ba=2&Ia[0]?U.return:Ia[0]?U.throw||((ba=U.return)&&ba.call(U),0):U.next)&&!(ba=ba.call(U,Ia[1])).done)return ba;switch(U=0,ba&&(Ia=[2&Ia[0],ba.value]),Ia[0]){case 0:case 1:ba=Ia;break;case 4:return ua.label++,{value:Ia[1],done:!1};case 5:ua.label++;U=Ia[1];Ia=[0];continue;case 7:Ia=ua.ops.pop();ua.trys.pop();continue;default:if(!(ba=ua.trys,(ba=0<ba.length&&ba[ba.length-1])||6!==Ia[0]&&2!==Ia[0])){ua=0;continue}if(3===Ia[0]&&(!ba||Ia[1]>ba[0]&&Ia[1]<ba[3]))ua.label=Ia[1];else if(6===
Ia[0]&&ua.label<ba[1])ua.label=ba[1],ba=Ia;else if(ba&&ua.label<ba[2])ua.label=ba[2],ua.ops.push(Ia);else{ba[2]&&ua.ops.pop();ua.trys.pop();continue}}Ia=p.call(d,ua)}catch(ib){Ia=[6,ib],U=0}finally{H=ba=0}if(5&Ia[0])throw Ia[1];return{value:Ia[0]?Ia[1]:void 0,done:!0}}([Ba,Ra])}}var H,U,ba,va,ua={label:0,sent:function(){if(1&ba[0])throw ba[1];return ba[1]},trys:[],ops:[]};return va={next:w(0),throw:w(1),return:w(2)},"function"==typeof Symbol&&(va[Symbol.iterator]=function(){return this}),va},se=function(d){function p(){for(var w=
[],H=0;H<arguments.length;H++)w[H]=arguments[H];var U;H=this;return U=H=d.apply(this,w)||this,H.state={isLoading:!0},U}return Zc(p,d),p.prototype.componentDidMount=function(){var w=this;return Pc()(function(){var H;return Cd(this,function(U){switch(U.label){case 0:return H=Z.find(function(ba){return ba.code===w.props.langCode})||Xa,[4,eb(H)];case 1:return U.sent(),w.setState({isLoading:!1}),[2]}})})()},p.prototype.render=function(){return this.state.isLoading?Ca().createElement(nc,null):this.props.children},
p}(Ca().Component),ye=h(566),od=h.n(ye);class Rd{constructor(d){this.helper=d}fillPolygon(d,p){return this._fillPolygon(d,p)}_fillPolygon(d,p,w=!1){let H=ia(d,p);w&&(d=this.connectingLines(d,H),H=H.concat(d));return{type:"fillSketch",ops:this.renderLines(H,p)}}renderLines(d,p){const w=[];for(const H of d)w.push(...this.helper.doubleLineOps(H[0][0],H[0][1],H[1][0],H[1][1],p));return w}connectingLines(d,p){const w=[];if(1<p.length)for(let U=1;U<p.length;U++){var H=p[U-1];3>G(H)||(H=[p[U][0],H[1]],3<
G(H)&&(H=this.splitOnIntersections(d,H),w.push(...H)))}return w}midPointInPolygon(d,p){return V(d,(p[0][0]+p[1][0])/2,(p[0][1]+p[1][1])/2)}splitOnIntersections(d,p){var w=Math.max(5,.1*G(p)),H=[];for(var U=0;U<d.length;U++){var ba=d[U],va=d[(U+1)%d.length];if(qa(ba,va,...p)&&(ba=x(ba,va,p[0],p[1]))){va=G([ba,p[0]]);const ua=G([ba,p[1]]);va>w&&ua>w&&H.push({point:ba,distance:va})}}if(1<H.length){w=H.sort((ua,Ba)=>ua.distance-Ba.distance).map(ua=>ua.point);if(V(d,...p[0])||w.shift(),V(d,...p[1])||w.pop(),
1>=w.length)return this.midPointInPolygon(d,p)?[p]:[];p=[p[0],...w,p[1]];w=[];for(H=0;H<p.length-1;H+=2)U=[p[H],p[H+1]],this.midPointInPolygon(d,U)&&w.push(U);return w}return this.midPointInPolygon(d,p)?[p]:[]}}class de extends Rd{fillPolygon(d,p){return this._fillPolygon(d,p,!0)}}class nf extends Rd{fillPolygon(d,p){const w=this._fillPolygon(d,p);p=Object.assign({},p,{hachureAngle:p.hachureAngle+90});d=this._fillPolygon(d,p);return w.ops=w.ops.concat(d.ops),w}}class Yg{constructor(d){this.helper=
d}fillPolygon(d,p){d=ia(d,p=Object.assign({},p,{curveStepCount:4,hachureAngle:0,roughness:1}));return this.dotsOnLines(d,p)}dotsOnLines(d,p){const w=[];let H=p.hachureGap;0>H&&(H=4*p.strokeWidth);H=Math.max(H,.1);let U=p.fillWeight;0>U&&(U=p.strokeWidth/2);const ba=H/4;for(const Ra of d){var va=G(Ra);d=Math.ceil(va/H)-1;va-=d*H;const Ia=(Ra[0][0]+Ra[1][0])/2-H/4,ib=Math.min(Ra[0][1],Ra[1][1]);for(let rb=0;rb<d;rb++){var ua=ib+va+rb*H,Ba=this.helper.randOffsetWithRange(Ia-ba,Ia+ba,p);ua=this.helper.randOffsetWithRange(ua-
ba,ua+ba,p);Ba=this.helper.ellipse(Ba,ua,U,U,p);w.push(...Ba.ops)}}return{type:"fillSketch",ops:w}}}class Oh{constructor(d){this.helper=d}fillPolygon(d,p){d=ia(d,p);return{type:"fillSketch",ops:this.dashedLine(d,p)}}dashedLine(d,p){const w=0>p.dashOffset?0>p.hachureGap?4*p.strokeWidth:p.hachureGap:p.dashOffset,H=0>p.dashGap?0>p.hachureGap?4*p.strokeWidth:p.hachureGap:p.dashGap,U=[];return d.forEach(ba=>{var va=G(ba);const ua=Math.floor(va/(w+H));va=(va+H-ua*(w+H))/2;let Ba=ba[0];var Ra=ba[1];Ba[0]>
Ra[0]&&(Ba=ba[1],Ra=ba[0]);ba=Math.atan((Ra[1]-Ba[1])/(Ra[0]-Ba[0]));for(Ra=0;Ra<ua;Ra++){var Ia=Ra*(w+H),ib=Ia+w;Ia=[Ba[0]+Ia*Math.cos(ba)+va*Math.cos(ba),Ba[1]+Ia*Math.sin(ba)+va*Math.sin(ba)];ib=[Ba[0]+ib*Math.cos(ba)+va*Math.cos(ba),Ba[1]+ib*Math.sin(ba)+va*Math.sin(ba)];U.push(...this.helper.doubleLineOps(Ia[0],Ia[1],ib[0],ib[1],p))}}),U}}class Ph{constructor(d){this.helper=d}fillPolygon(d,p){const w=0>p.hachureGap?4*p.strokeWidth:p.hachureGap,H=0>p.zigzagOffset?w:p.zigzagOffset;d=ia(d,p=Object.assign({},
p,{hachureGap:w+H}));return{type:"fillSketch",ops:this.zigzagLines(d,H,p)}}zigzagLines(d,p,w){const H=[];return d.forEach(U=>{var ba=G(U);ba=Math.round(ba/(2*p));let va=U[0];var ua=U[1];va[0]>ua[0]&&(va=U[1],ua=U[0]);U=Math.atan((ua[1]-va[1])/(ua[0]-va[0]));for(ua=0;ua<ba;ua++){var Ba=2*ua*p,Ra=2*(ua+1)*p,Ia=Math.sqrt(2*Math.pow(p,2));Ba=[va[0]+Ba*Math.cos(U),va[1]+Ba*Math.sin(U)];Ra=[va[0]+Ra*Math.cos(U),va[1]+Ra*Math.sin(U)];Ia=[Ba[0]+Ia*Math.cos(U+Math.PI/4),Ba[1]+Ia*Math.sin(U+Math.PI/4)];H.push(...this.helper.doubleLineOps(Ba[0],
Ba[1],Ia[0],Ia[1],w),...this.helper.doubleLineOps(Ia[0],Ia[1],Ra[0],Ra[1],w))}}),H}}const Bf={};class Se{constructor(d){this.seed=d}next(){return this.seed?(2**31-1&(this.seed=Math.imul(48271,this.seed)))/2**31:Math.random()}}const dh={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0},Hd={randOffset:function(d,p){return Pa(d,p)},randOffsetWithRange:function(d,p,w){return Ga(d,p,w)},ellipse:function(d,p,w,H,U){w=ea(w,H,U);return pa(d,p,U,w).opset},doubleLineOps:function(d,
p,w,H,U){return Aa(d,p,w,H,U,!0)}};class Bh{constructor(d){this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,stroke:"#000",strokeWidth:1,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,seed:0,combineNestedSvgPaths:!1,disableMultiStroke:!1,disableMultiStrokeFill:!1};this.config=d||{};this.config.options&&(this.defaultOptions=this._o(this.config.options))}static newSeed(){return Math.floor(Math.random()*
2**31)}_o(d){return d?Object.assign({},this.defaultOptions,d):this.defaultOptions}_d(d,p,w){return{shape:d,sets:p||[],options:w||this.defaultOptions}}line(d,p,w,H,U){U=this._o(U);return this._d("line",[{type:"path",ops:Aa(d,p,w,H,U)}],U)}rectangle(d,p,w,H,U){U=this._o(U);const ba=[];var va=M([[d,p],[d+w,p],[d+w,p+H],[d,p+H]],!0,U);U.fill&&(d=[[d,p],[d+w,p],[d+w,p+H],[d,p+H]],"solid"===U.fillStyle?ba.push(ja(d,U)):ba.push(sa(d,U)));return"none"!==U.stroke&&ba.push(va),this._d("rectangle",ba,U)}ellipse(d,
p,w,H,U){U=this._o(U);const ba=[];H=ea(w,H,U);w=pa(d,p,U,H);U.fill&&("solid"===U.fillStyle?(d=pa(d,p,U,H).opset,d.type="fillPath",ba.push(d)):ba.push(sa(w.estimatedPoints,U)));return"none"!==U.stroke&&ba.push(w.opset),this._d("ellipse",ba,U)}circle(d,p,w,H){d=this.ellipse(d,p,w,w,H);return d.shape="circle",d}linearPath(d,p){p=this._o(p);return this._d("linearPath",[M(d,!1,p)],p)}arc(d,p,w,H,U,ba,va=!1,ua){ua=this._o(ua);const Ba=[],Ra=ka(d,p,w,H,U,ba,va,!0,ua);if(va&&ua.fill)if("solid"===ua.fillStyle)d=
ka(d,p,w,H,U,ba,!0,!1,ua),d.type="fillPath",Ba.push(d);else{va=Ba.push;w=Math.abs(w/2);H=Math.abs(H/2);w+=Pa(.01*w,ua);for(H+=Pa(.01*H,ua);0>U;)U+=2*Math.PI,ba+=2*Math.PI;ba-U>2*Math.PI&&(U=0,ba=2*Math.PI);const Ia=(ba-U)/ua.curveStepCount,ib=[];for(;U<=ba;U+=Ia)ib.push([d+w*Math.cos(U),p+H*Math.sin(U)]);d=(ib.push([d+w*Math.cos(ba),p+H*Math.sin(ba)]),ib.push([d,p]),sa(ib,ua));va.call(Ba,d)}return"none"!==ua.stroke&&Ba.push(Ra),this._d("arc",Ba,ua)}curve(d,p){p=this._o(p);const w=[],H=aa(d,p);p.fill&&
"none"!==p.fill&&3<=d.length&&(d=K(function(U,ba=0){var va=U.length;if(3>va)throw Error("A curve must have at least three points.");const ua=[];if(3===va)ua.push([...U[0]],[...U[1]],[...U[2]],[...U[2]]);else{va=[];va.push(U[0],U[0]);for(var Ba=1;Ba<U.length;Ba++)va.push(U[Ba]),Ba===U.length-1&&va.push(U[Ba]);U=[];ba=1-ba;ua.push([...va[0]]);for(Ba=1;Ba+2<va.length;Ba++){const Ra=va[Ba];U[0]=[Ra[0],Ra[1]];U[1]=[Ra[0]+(ba*va[Ba+1][0]-ba*va[Ba-1][0])/6,Ra[1]+(ba*va[Ba+1][1]-ba*va[Ba-1][1])/6];U[2]=[va[Ba+
1][0]+(ba*va[Ba][0]-ba*va[Ba+2][0])/6,va[Ba+1][1]+(ba*va[Ba][1]-ba*va[Ba+2][1])/6];U[3]=[va[Ba+1][0],va[Ba+1][1]];ua.push(U[1],U[2],U[3])}}return ua}(d),10,(1+p.roughness)/2),"solid"===p.fillStyle?w.push(ja(d,p)):w.push(sa(d,p)));return"none"!==p.stroke&&w.push(H),this._d("curve",w,p)}polygon(d,p){p=this._o(p);const w=[],H=M(d,!0,p);return p.fill&&("solid"===p.fillStyle?w.push(ja(d,p)):w.push(sa(d,p))),"none"!==p.stroke&&w.push(H),this._d("polygon",w,p)}path(d,p){const w=this._o(p),H=[];if(!d)return this._d("path",
H,w);d=(d||"").replace(/\n/g," ").replace(/(-\s)/g,"-").replace("/(ss)/g"," ");p=w.fill&&"transparent"!==w.fill&&"none"!==w.fill;const U="none"!==w.stroke,ba=!!(w.simplification&&1>w.simplification),va=function(ua,Ba,Ra){var Ia=W(Q(da(ua)));ua=[];let ib=[];var rb=[0,0];let pb=[];const dc=()=>{4<=pb.length&&ib.push(...K(pb,Ba));pb=[]};for(const {key:Vb,data:Bc}of Ia)switch(Vb){case "M":dc();ib.length&&(ua.push(ib),ib=[]);rb=[Bc[0],Bc[1]];ib.push(rb);break;case "L":dc();ib.push([Bc[0],Bc[1]]);break;
case "C":pb.length||(Ia=ib.length?ib[ib.length-1]:rb,pb.push([Ia[0],Ia[1]]));pb.push([Bc[0],Bc[1]]);pb.push([Bc[2],Bc[3]]);pb.push([Bc[4],Bc[5]]);break;case "Z":dc(),ib.push([rb[0],rb[1]])}dc();ib.length&&(ua.push(ib),ib=[]);if(!Ra)return ua;rb=[];for(const Vb of ua)ua=N(Vb,Ra),ua.length&&rb.push(ua);return rb}(d,1,ba?4-4*w.simplification:(1+w.roughness)/2);if(p)if(w.combineNestedSvgPaths){const ua=[];va.forEach(Ba=>ua.push(...Ba));"solid"===w.fillStyle?H.push(ja(ua,w)):H.push(sa(ua,w))}else va.forEach(ua=>
{"solid"===w.fillStyle?H.push(ja(ua,w)):H.push(sa(ua,w))});return U&&(ba?va.forEach(ua=>{H.push(M(ua,!1,w))}):H.push(function(ua,Ba){ua=W(Q(da(ua)));const Ra=[];let Ia=[0,0],ib=[0,0];for(const {key:rb,data:pb}of ua)switch(rb){case "M":const dc=1*(Ba.maxRandomnessOffset||0);Ra.push({op:"move",data:pb.map(ke=>ke+Pa(dc,Ba))});ib=[pb[0],pb[1]];Ia=[pb[0],pb[1]];break;case "L":Ra.push(...Aa(ib[0],ib[1],pb[0],pb[1],Ba));ib=[pb[0],pb[1]];break;case "C":const [Vb,Bc,fd,hd,ud,le]=pb;Ra.push(...Mb(Vb,Bc,fd,
hd,ud,le,ib,Ba));ib=[ud,le];break;case "Z":Ra.push(...Aa(ib[0],ib[1],Ia[0],Ia[1],Ba)),ib=[Ia[0],Ia[1]]}return{type:"path",ops:Ra}}(d,w))),this._d("path",H,w)}opsToPath(d){let p="";for(const w of d.ops)switch(d=w.data,w.op){case "move":p+=`M${d[0]} ${d[1]} `;break;case "bcurveTo":p+=`C${d[0]} ${d[1]}, ${d[2]} ${d[3]}, ${d[4]} ${d[5]} `;break;case "lineTo":p+=`L${d[0]} ${d[1]} `}return p.trim()}toPaths(d){var p=d.sets||[];d=d.options||this.defaultOptions;const w=[];for(const H of p){p=null;switch(H.type){case "path":p=
{d:this.opsToPath(H),stroke:d.stroke,strokeWidth:d.strokeWidth,fill:"none"};break;case "fillPath":p={d:this.opsToPath(H),stroke:"none",strokeWidth:0,fill:d.fill||"none"};break;case "fillSketch":p=this.fillSketch(H,d)}p&&w.push(p)}return w}fillSketch(d,p){let w=p.fillWeight;return 0>w&&(w=p.strokeWidth/2),{d:this.opsToPath(d),stroke:p.fill||"none",strokeWidth:w,fill:"none"}}}class oi{constructor(d,p){this.canvas=d;this.ctx=this.canvas.getContext("2d");this.gen=new Bh(p)}draw(d){const p=d.sets||[],
w=d.options||this.getDefaultOptions(),H=this.ctx;for(const U of p)switch(U.type){case "path":H.save();H.strokeStyle="none"===w.stroke?"transparent":w.stroke;H.lineWidth=w.strokeWidth;w.strokeLineDash&&H.setLineDash(w.strokeLineDash);w.strokeLineDashOffset&&(H.lineDashOffset=w.strokeLineDashOffset);this._drawToContext(H,U);H.restore();break;case "fillPath":H.save();H.fillStyle=w.fill||"";this._drawToContext(H,U,"curve"===d.shape||"polygon"===d.shape?"evenodd":"nonzero");H.restore();break;case "fillSketch":this.fillSketch(H,
U,w)}}fillSketch(d,p,w){let H=w.fillWeight;0>H&&(H=w.strokeWidth/2);d.save();w.fillLineDash&&d.setLineDash(w.fillLineDash);w.fillLineDashOffset&&(d.lineDashOffset=w.fillLineDashOffset);d.strokeStyle=w.fill||"";d.lineWidth=H;this._drawToContext(d,p);d.restore()}_drawToContext(d,p,w="nonzero"){d.beginPath();for(const H of p.ops){const U=H.data;switch(H.op){case "move":d.moveTo(U[0],U[1]);break;case "bcurveTo":d.bezierCurveTo(U[0],U[1],U[2],U[3],U[4],U[5]);break;case "lineTo":d.lineTo(U[0],U[1])}}"fillPath"===
p.type?d.fill(w):d.stroke()}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}line(d,p,w,H,U){d=this.gen.line(d,p,w,H,U);return this.draw(d),d}rectangle(d,p,w,H,U){d=this.gen.rectangle(d,p,w,H,U);return this.draw(d),d}ellipse(d,p,w,H,U){d=this.gen.ellipse(d,p,w,H,U);return this.draw(d),d}circle(d,p,w,H){d=this.gen.circle(d,p,w,H);return this.draw(d),d}linearPath(d,p){d=this.gen.linearPath(d,p);return this.draw(d),d}polygon(d,p){d=this.gen.polygon(d,p);return this.draw(d),
d}arc(d,p,w,H,U,ba,va=!1,ua){d=this.gen.arc(d,p,w,H,U,ba,va,ua);return this.draw(d),d}curve(d,p){d=this.gen.curve(d,p);return this.draw(d),d}path(d,p){d=this.gen.path(d,p);return this.draw(d),d}}class uk{constructor(d,p){this.svg=d;this.gen=new Bh(p)}draw(d){var p=d.sets||[];const w=d.options||this.getDefaultOptions(),H=this.svg.ownerDocument||window.document,U=H.createElementNS("http://www.w3.org/2000/svg","g");for(const ba of p){p=null;switch(ba.type){case "path":p=H.createElementNS("http://www.w3.org/2000/svg",
"path");p.setAttribute("d",this.opsToPath(ba));p.setAttribute("stroke",w.stroke);p.setAttribute("stroke-width",w.strokeWidth+"");p.setAttribute("fill","none");w.strokeLineDash&&p.setAttribute("stroke-dasharray",w.strokeLineDash.join(" ").trim());w.strokeLineDashOffset&&p.setAttribute("stroke-dashoffset",`${w.strokeLineDashOffset}`);break;case "fillPath":p=H.createElementNS("http://www.w3.org/2000/svg","path");p.setAttribute("d",this.opsToPath(ba));p.setAttribute("stroke","none");p.setAttribute("stroke-width",
"0");p.setAttribute("fill",w.fill||"");"curve"!==d.shape&&"polygon"!==d.shape||p.setAttribute("fill-rule","evenodd");break;case "fillSketch":p=this.fillSketch(H,ba,w)}p&&U.appendChild(p)}return U}fillSketch(d,p,w){let H=w.fillWeight;0>H&&(H=w.strokeWidth/2);d=d.createElementNS("http://www.w3.org/2000/svg","path");return d.setAttribute("d",this.opsToPath(p)),d.setAttribute("stroke",w.fill||""),d.setAttribute("stroke-width",H+""),d.setAttribute("fill","none"),w.fillLineDash&&d.setAttribute("stroke-dasharray",
w.fillLineDash.join(" ").trim()),w.fillLineDashOffset&&d.setAttribute("stroke-dashoffset",`${w.fillLineDashOffset}`),d}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}opsToPath(d){return this.gen.opsToPath(d)}line(d,p,w,H,U){d=this.gen.line(d,p,w,H,U);return this.draw(d)}rectangle(d,p,w,H,U){d=this.gen.rectangle(d,p,w,H,U);return this.draw(d)}ellipse(d,p,w,H,U){d=this.gen.ellipse(d,p,w,H,U);return this.draw(d)}circle(d,p,w,H){d=this.gen.circle(d,p,w,H);return this.draw(d)}linearPath(d,
p){d=this.gen.linearPath(d,p);return this.draw(d)}polygon(d,p){d=this.gen.polygon(d,p);return this.draw(d)}arc(d,p,w,H,U,ba,va=!1,ua){d=this.gen.arc(d,p,w,H,U,ba,va,ua);return this.draw(d)}curve(d,p){d=this.gen.curve(d,p);return this.draw(d)}path(d,p){d=this.gen.path(d,p);return this.draw(d)}}const Qh={canvas:(d,p)=>new oi(d,p),svg:(d,p)=>new uk(d,p),generator:d=>new Bh(d),newSeed:()=>Bh.newSeed()};var be=function(d){return null!=d&&"text"===d.type},Gg=function(d){return null!=d&&ej(d.type)},ej=function(d){return"arrow"===
d||"line"===d||"draw"===d},ng=function(d){return null!=d&&"arrow"===d.type},vk=function(d){return null!=d&&("rectangle"===d.type||"diamond"===d.type||"ellipse"===d.type||"text"===d.type)},Hf=function(d,p,w,H,U){return[(d-w)*Math.cos(U)-(p-H)*Math.sin(U)+w,(d-w)*Math.sin(U)+(p-H)*Math.cos(U)+H]},fj=function(d,p,w){return Hf(d[0],d[1],p[0],p[1],w)},Yf=function(d,p,w,H,U,ba,va,ua){var Ba=Math.cos(H);H=Math.sin(H);return d.e&&d.w?p+=U+va:d.e?(p+=U*(1+Ba),w+=U*H,p+=va*(1-Ba),w+=va*-H):d.w&&(p+=U*(1-Ba),
w+=U*-H,p+=va*(1+Ba),w+=va*H),d.n&&d.s?w+=ba+ua:d.n?(p+=ba*H,w+=ba*(1-Ba),p+=ua*-H,w+=ua*(1+Ba)):d.s&&(p+=ba*-H,w+=ba*(1+Ba),p+=ua*H,w+=ua*(1-Ba)),[p,w]},bi=function(d,p){if(void 0===p&&(p=1),3<=d.length){var w=[d[0],d[d.length-1]];d=w[0];w=w[1];return Math.hypot(w[0]-d[0],w[1]-d[1])<=hc.qx/p}return!1},Ci=function(d,p,w){var H=d.length;if(3>H)return!1;var U=[Number.MAX_SAFE_INTEGER,w];p=[p,w];for(var ba=w=0;ba<H;ba++){var va=d[ba],ua=d[(ba+1)%H],Ba=va,Ra=ua,Ia=p,ib=U,rb=gj(Ba,Ra,Ia),pb=gj(Ba,Ra,ib),
dc=gj(Ia,ib,Ba),Vb=gj(Ia,ib,Ra);if(rb!==pb&&dc!==Vb||0===rb&&wk(Ba,Ia,Ra)||0===pb&&wk(Ba,ib,Ra)||0===dc&&wk(Ia,Ba,ib)||0===Vb&&wk(Ia,Ra,ib)){if(0===gj(va,p,ua))return wk(va,p,ua);w++}}return 1==w%2},wk=function(d,p,w){return p[0]<=Math.max(d[0],w[0])&&p[0]>=Math.min(d[0],w[0])&&p[1]<=Math.max(d[1],w[1])&&p[1]>=Math.min(d[1],w[1])},gj=function(d,p,w){d=(p[1]-d[1])*(w[0]-p[0])-(p[0]-d[0])*(w[1]-p[1]);return 0===d?0:0<d?1:2},pi=function(d,p,w){return w?[Math.round(d/w)*w,Math.round(p/w)*w]:[d,p]},Ei=
function(d,p,w){var H=w.map(function(Ba){return Ba[d]}),U=Math.max.apply(Math,H);H=Math.min.apply(Math,H);U-=H;var ba=0===U?1:p/U,va=1/0;p=w.map(function(Ba){return Ba.map(function(Ra,Ia){if(Ia!==d)return Ra;Ra*=ba;return va=Math.min(Ra,va),Ra})});if(2===p.length)return p;var ua=H-va;return p.map(function(Ba){return Ba.map(function(Ra,Ia){return Ia===d?Ra+ua:Ra})})},hg=function(d){return Gg(d)?tj(d):[d.x,d.y,d.x+d.width,d.y+d.height]},Fi=function(d){for(var p=0,w=d.sets;p<w.length;p++){var H=w[p];
if("path"===H.type)return H.ops}return d.sets[0].ops},yk=function(d,p){var w=[0,0];d=d.reduce(function(H,U){var ba,va=U.op;U=U.data;if("move"===va)w=U;else if("bcurveTo"===va){var ua=[U[0],U[1]],Ba=[U[2],U[3]],Ra=[U[4],U[5]],Ia=w;w=Ra;va=function(pb,dc){return Math.pow(1-pb,3)*Ra[dc]+3*pb*Math.pow(1-pb,2)*Ba[dc]+3*Math.pow(pb,2)*(1-pb)*ua[dc]+Ia[dc]*Math.pow(pb,3)};for(U=0;1>=U;){var ib=va(U,0),rb=va(U,1);p&&(ib=(ba=p(ib,rb))[0],rb=ba[1]);H.minY=Math.min(H.minY,rb);H.minX=Math.min(H.minX,ib);H.maxX=
Math.max(H.maxX,ib);H.maxY=Math.max(H.maxY,rb);U+=.1}}return H},{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0});return[d.minX,d.minY,d.maxX,d.maxY]},tj=function(d){if(2>d.points.length||!ui.get(d)){var p=d.points.reduce(function(w,H){var U=H[0];H=H[1];return w.minY=Math.min(w.minY,H),w.minX=Math.min(w.minX,U),w.maxX=Math.max(w.maxX,U),w.maxY=Math.max(w.maxY,H),w},{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0});return[p.minX+d.x,p.minY+d.y,p.maxX+d.x,p.maxY+d.y]}p=ui.get(d);p=Fi(p[0]);p=yk(p);return[p[0]+d.x,p[1]+
d.y,p[2]+d.x,p[3]+d.y]},qi=function(d){var p=hg(d),w=p[0],H=p[1],U=p[2],ba=p[3];p=(w+U)/2;var va=(H+ba)/2;if(Gg(d))return function(ib,rb,pb){if(2>ib.points.length||!ui.get(ib)){var dc=ib.points.reduce(function(Vb,Bc){var fd,hd=Bc[0];Bc=Bc[1];return hd=(fd=Hf(ib.x+hd,ib.y+Bc,rb,pb,ib.angle))[0],Bc=fd[1],Vb.minY=Math.min(Vb.minY,Bc),Vb.minX=Math.min(Vb.minX,hd),Vb.maxX=Math.max(Vb.maxX,hd),Vb.maxY=Math.max(Vb.maxY,Bc),Vb},{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0});return[dc.minX,dc.minY,dc.maxX,dc.maxY]}dc=
ui.get(ib);dc=Fi(dc[0]);return yk(dc,function(Vb,Bc){return Hf(ib.x+Vb,ib.y+Bc,rb,pb,ib.angle)})}(d,p,va);if("diamond"===d.type){H=Hf(p,H,p,va,d.angle);var ua=H[0];H=H[1];ba=Hf(p,ba,p,va,d.angle);var Ba=ba[0];ba=ba[1];var Ra=Hf(w,va,p,va,d.angle);w=Ra[0];Ra=Ra[1];va=Hf(U,va,p,va,d.angle);p=va[0];va=va[1];return[Math.min(ua,Ba,w,p),Math.min(H,ba,Ra,va),Math.max(ua,Ba,w,p),Math.max(H,ba,Ra,va)]}if("ellipse"===d.type)return U=(U-w)/2,ua=(ba-H)/2,H=Math.cos(d.angle),Ba=Math.sin(d.angle),d=Math.hypot(U*
H,ua*Ba),U=Math.hypot(ua*H,U*Ba),[p-d,va-U,p+d,va+U];Ba=Hf(w,H,p,va,d.angle);ua=Ba[0];Ba=Ba[1];Ra=Hf(w,ba,p,va,d.angle);w=Ra[0];Ra=Ra[1];var Ia=Hf(U,ba,p,va,d.angle);ba=Ia[0];Ia=Ia[1];va=Hf(U,H,p,va,d.angle);p=va[0];va=va[1];return[Math.min(ua,w,ba,p),Math.min(Ba,Ra,Ia,va),Math.max(ua,w,ba,p),Math.max(Ba,Ra,Ia,va)]},Cg=function(d){if(!d.length)return[0,0,0,0];var p=1/0,w=-1/0,H=1/0,U=-1/0;return d.forEach(function(ba){ba=qi(ba);var va=ba[1],ua=ba[2],Ba=ba[3];p=Math.min(p,ba[0]);H=Math.min(H,va);w=
Math.max(w,ua);U=Math.max(U,Ba)}),[p,H,w,U]},Qg=function(d,p,w){if(!Gg(d))return[d.x,d.y,d.x+p,d.y+w];p=Ei(0,p,Ei(1,w,d.points));w=Qh.generator();p="sharp"===d.strokeSharpness?w.linearPath(p,Th(d)):w.curve(p,Th(d));p=Fi(p);p=yk(p);return[p[0]+d.x,p[1]+d.y,p[2]+d.x,p[3]+d.y]},Be=function(d,p,w){var H=Qh.generator();p="sharp"===w?H.linearPath(p,Th(d)):H.curve(p,Th(d));p=Fi(p);p=yk(p);return[p[0]+d.x,p[1]+d.y,p[2]+d.x,p[3]+d.y]};const Ee=JSON.parse('{"ix":"#ffffff","Sn":"#000000","MA":["#f8f9fa","#f1f3f5",0,0,"#ced4da","#adb5bd","#868e96","#495057","#343a40"],"Q6":["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],"iQ":["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],"pl":["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],"ht":["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],"QN":["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],"iN":["#e7f5ff","#d0ebff","#a5d8ff","#74c0fc","#4dabf7","#339af0","#228be6","#1c7ed6","#1971c2","#1864ab"],"sl":["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],"$C":["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],"ek":["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],"LR":["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],"er":["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],"$y":["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"]}');
var uh=function(){for(var d=0,p=0,w=arguments.length;p<w;p++)d+=arguments[p].length;d=Array(d);var H=0;for(p=0;p<w;p++)for(var U=arguments[p],ba=0,va=U.length;ba<va;ba++,H++)d[H]=U[ba];return d},Kg=function(d){return[Ee.Q6[d],Ee.iQ[d],Ee.pl[d],Ee.ht[d],Ee.QN[d],Ee.iN[d],Ee.sl[d],Ee.$C[d],Ee.ek[d],Ee.LR[d],Ee.er[d],Ee.$y[d]]};const zk={canvasBackground:uh([Ee.ix,Ee.MA[0],Ee.MA[1]],Kg(0)),elementBackground:uh(["transparent",Ee.MA[4],Ee.MA[6]],Kg(6)),elementStroke:uh([Ee.Sn,Ee.MA[8],Ee.MA[7]],Kg(9))};
var Zf=h(6207),Lg=/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),Hj=/^Win/.test(window.navigator.platform),cf=Lg?"metaKey":"ctrlKey",yg=function(d){return"ArrowLeft"===d||"ArrowRight"===d||"ArrowDown"===d||"ArrowUp"===d},hj=function(d){return d.charAt(0).toUpperCase()+d.slice(1)},Dg=function(d){return d instanceof HTMLElement&&"wysiwyg"===d.dataset.type||d instanceof HTMLBRElement||d instanceof HTMLTextAreaElement||d instanceof HTMLInputElement&&("text"===d.type||"number"===d.type)},Ti=function(d){var p=
d.fontFamily;return"".concat(d.fontSize,"px ").concat("".concat(hc.ut[p],", ").concat(hc._D))},Ui=function(d,p){var w=document.createElement("div"),H=document.body;w.style.position="absolute";w.style.whiteSpace="pre";w.style.font=p;H.appendChild(w);w.innerText=d.split("\n").map(function(U){return U||" "}).join("\n");d=w.offsetWidth;p=w.offsetHeight;H=document.createElement("span");H.style.display="inline-block";H.style.overflow="hidden";H.style.width="1px";H.style.height="1px";w.appendChild(H);H=
H.offsetTop+H.offsetHeight;return document.body.removeChild(w),{width:d,height:p,baseline:H}},ri=function(d,p){var w,H=0,U=function(){for(var ba=[],va=0;va<arguments.length;va++)ba[va]=arguments[va];w=ba;clearTimeout(H);H=window.setTimeout(function(){return d.apply(void 0,ba)},p)};return U.flush=function(){clearTimeout(H);w&&d.apply(void 0,w)},U.cancel=function(){clearTimeout(H)},U},Gi=function(d){d&&(d.style.cursor="")},Hi=function(d,p){d&&(d.style.cursor=p)},si=function(d,p){d&&("selection"===p?
Gi(d):d.style.cursor=hc.oc.CROSSHAIR)},vh=function(){var d;return"HTML"===(null===(d=document.fullscreenElement)||void 0===d?void 0:d.nodeName)},Vd=function(d){return d=d.replace(/\bAlt\b/i,"Alt").replace(/\bShift\b/i,"Shift").replace(/\b(Enter|Return)\b/i,"Enter").replace(/\bDel\b/i,"Delete"),Lg?d.replace(/\bCtrlOrCmd\b/i,"Cmd").replace(/\bAlt\b/i,"Option"):d.replace(/\bCtrlOrCmd\b/i,"Ctrl")},vg=function(d,p){var w=p.zoom,H=1/w.value;return{x:(d.clientX-w.translation.x-p.offsetLeft)*H-p.scrollX,
y:(d.clientY-w.translation.y-p.offsetTop)*H-p.scrollY}},lh=function(d,p){var w=p.zoom;return{x:(d.sceneX+p.scrollX+p.offsetLeft)*w.value+w.translation.x,y:(d.sceneY+p.scrollY+p.offsetTop)*w.value+w.translation.y}},$f=function(d){return getComputedStyle(document.documentElement).getPropertyValue("--".concat(d))},wh=new RegExp("^[^".concat("A-Za-zÀ-ÖØ-öø-ʸ̀-֐ࠀ-῿Ⰰ-﬜﷾-﹯﻽-￿","]*[").concat("֑-߿יִ-﷽ﹰ-ﻼ","]")),Eg=function(d){return{x:d[0],y:d[1]}},Bk=function(d){if("AbortError"!==(null==d?void 0:d.name))throw d;
},ag=function(d){return function(p){(0,Zf.unstable_batchedUpdates)(d,p)}},sl=function(d,p){var w,H=[{value:1,symbol:"b"},{value:1E3,symbol:"k"},{value:1E6,symbol:"M"},{value:1E9,symbol:"G"}];for(w=H.length-1;0<w&&!(d>=H[w].value);w--);return(d/H[w].value).toFixed(p).replace(/\.0+$|(\.[0-9]*[1-9])0+$/,"$1")+H[w].symbol},Lf=function(){var d;return(null===(d=document.querySelector('meta[name\x3d"version"]'))||void 0===d?void 0:d.content)||hc.eQ},Ch=function(){var d=new Map,p=hc.rk,w=hc.n5,H=Ee.Sn,U=
hc.Hg,ba=window.innerHeight,va="".concat(cb("labels.untitled"),"-"),ua=va.concat;var Ba=new Date;var Ra=Ba.getFullYear();var Ia="".concat(Ba.getMonth()+1).padStart(2,"0"),ib="".concat(Ba.getDate()).padStart(2,"0"),rb="".concat(Ba.getHours()).padStart(2,"0");Ba="".concat(Ba.getMinutes()).padStart(2,"0");Ra="".concat(Ra,"-").concat(Ia,"-").concat(ib,"-").concat(rb).concat(Ba);return{appearance:"light",collaborators:d,currentChartType:"bar",currentItemBackgroundColor:"transparent",currentItemEndArrowhead:"arrow",
currentItemFillStyle:"hachure",currentItemFontFamily:p,currentItemFontSize:w,currentItemLinearStrokeSharpness:"round",currentItemOpacity:100,currentItemRoughness:1,currentItemStartArrowhead:null,currentItemStrokeColor:H,currentItemStrokeSharpness:"sharp",currentItemStrokeStyle:"solid",currentItemStrokeWidth:1,currentItemTextAlign:U,cursorButton:"up",draggingElement:null,editingElement:null,editingGroupId:null,editingLinearElement:null,elementLocked:!1,elementType:"selection",errorMessage:null,exportBackground:!0,
exportEmbedScene:!1,exportWithDarkMode:!1,fileHandle:null,gridSize:null,height:ba,isBindingEnabled:!0,isLibraryOpen:!1,isLoading:!1,isResizing:!1,isRotating:!1,lastPointerDownWith:"mouse",multiElement:null,name:ua.call(va,Ra),openMenu:null,pasteDialog:{shown:!1,data:null},previousSelectedElementIds:{},resizingElement:null,scrolledOutside:!1,scrollX:0,scrollY:0,selectedElementIds:{},selectedGroupIds:{},selectionElement:null,shouldAddWatermark:!1,shouldCacheIgnoreZoom:!1,showHelpDialog:!1,showStats:!1,
startBoundElement:null,suggestedBindings:[],toastMessage:null,viewBackgroundColor:Ee.ix,width:window.innerWidth,zenModeEnabled:!1,zoom:{value:1,translation:{x:0,y:0}},viewModeEnabled:!1}},mh={appearance:{browser:!0,export:!1},collaborators:{browser:!1,export:!1},currentChartType:{browser:!0,export:!1},currentItemBackgroundColor:{browser:!0,export:!1},currentItemEndArrowhead:{browser:!0,export:!1},currentItemFillStyle:{browser:!0,export:!1},currentItemFontFamily:{browser:!0,export:!1},currentItemFontSize:{browser:!0,
export:!1},currentItemLinearStrokeSharpness:{browser:!0,export:!1},currentItemOpacity:{browser:!0,export:!1},currentItemRoughness:{browser:!0,export:!1},currentItemStartArrowhead:{browser:!0,export:!1},currentItemStrokeColor:{browser:!0,export:!1},currentItemStrokeSharpness:{browser:!0,export:!1},currentItemStrokeStyle:{browser:!0,export:!1},currentItemStrokeWidth:{browser:!0,export:!1},currentItemTextAlign:{browser:!0,export:!1},cursorButton:{browser:!0,export:!1},draggingElement:{browser:!1,export:!1},
editingElement:{browser:!1,export:!1},editingGroupId:{browser:!0,export:!1},editingLinearElement:{browser:!1,export:!1},elementLocked:{browser:!0,export:!1},elementType:{browser:!0,export:!1},errorMessage:{browser:!1,export:!1},exportBackground:{browser:!0,export:!1},exportEmbedScene:{browser:!0,export:!1},exportWithDarkMode:{browser:!0,export:!1},fileHandle:{browser:!1,export:!1},gridSize:{browser:!0,export:!0},height:{browser:!1,export:!1},isBindingEnabled:{browser:!1,export:!1},isLibraryOpen:{browser:!1,
export:!1},isLoading:{browser:!1,export:!1},isResizing:{browser:!1,export:!1},isRotating:{browser:!1,export:!1},lastPointerDownWith:{browser:!0,export:!1},multiElement:{browser:!1,export:!1},name:{browser:!0,export:!1},offsetLeft:{browser:!1,export:!1},offsetTop:{browser:!1,export:!1},openMenu:{browser:!0,export:!1},pasteDialog:{browser:!1,export:!1},previousSelectedElementIds:{browser:!0,export:!1},resizingElement:{browser:!1,export:!1},scrolledOutside:{browser:!0,export:!1},scrollX:{browser:!0,
export:!1},scrollY:{browser:!0,export:!1},selectedElementIds:{browser:!0,export:!1},selectedGroupIds:{browser:!0,export:!1},selectionElement:{browser:!1,export:!1},shouldAddWatermark:{browser:!0,export:!1},shouldCacheIgnoreZoom:{browser:!0,export:!1},showHelpDialog:{browser:!1,export:!1},showStats:{browser:!0,export:!1},startBoundElement:{browser:!1,export:!1},suggestedBindings:{browser:!1,export:!1},toastMessage:{browser:!1,export:!1},viewBackgroundColor:{browser:!0,export:!0},width:{browser:!1,
export:!1},zenModeEnabled:{browser:!0,export:!1},zoom:{browser:!0,export:!1},viewModeEnabled:{browser:!1,export:!1}},ti=function(d,p){for(var w={},H=0,U=Object.keys(d);H<U.length;H++){var ba=U[H],va=mh[ba];null!=va&&va[p]&&(w[ba]=d[ba])}return w},og=Ch(),Sh=[12,8],Vk=[3,6],ci=function(d,p,w){switch(w.globalAlpha=d.opacity/100,d.type){case "rectangle":case "diamond":case "ellipse":p.draw(ui.get(d));break;case "arrow":case "draw":case "line":ui.get(d).forEach(function(ib){p.draw(ib)});break;default:if(!be(d))throw Error("Unimplemented type ".concat(d.type));
var H=wh.test(d.text),U=H&&!w.canvas.isConnected;U&&document.body.appendChild(w.canvas);w.canvas.setAttribute("dir",H?"rtl":"ltr");H=w.font;w.font=Ti(d);var ba=w.fillStyle;w.fillStyle=d.strokeColor;var va=w.textAlign;w.textAlign=d.textAlign;var ua=d.text.replace(/\r\n?/g,"\n").split("\n"),Ba=d.height/ua.length,Ra=d.height-d.baseline;d="center"===d.textAlign?d.width/2:"right"===d.textAlign?d.width:0;for(var Ia=0;Ia<ua.length;Ia++)w.fillText(ua[Ia],d,(Ia+1)*Ba-Ra);w.fillStyle=ba;w.font=H;w.textAlign=
va;U&&w.canvas.remove()}w.globalAlpha=1},Ck=new WeakMap,ui=new WeakMap,Th=function(d){var p={seed:d.seed,strokeLineDash:"dashed"===d.strokeStyle?Sh:"dotted"===d.strokeStyle?Vk:void 0,disableMultiStroke:"solid"!==d.strokeStyle,strokeWidth:"solid"!==d.strokeStyle?d.strokeWidth+.5:d.strokeWidth,fillWeight:d.strokeWidth/2,hachureGap:4*d.strokeWidth,roughness:d.roughness,stroke:d.strokeColor};switch(d.type){case "rectangle":case "diamond":case "ellipse":return p.fillStyle=d.fillStyle,p.fill="transparent"===
d.backgroundColor?void 0:d.backgroundColor,"ellipse"===d.type&&(p.curveFitting=1),p;case "line":case "draw":return bi(d.points)&&(p.fillStyle=d.fillStyle,p.fill="transparent"===d.backgroundColor?void 0:d.backgroundColor),p;case "arrow":return p;default:throw Error("Unimplemented type ".concat(d.type));}},Vj=function(d,p){var w=ui.get(d)||null;if(!w){switch(Ck.delete(d),d.type){case "rectangle":if("round"===d.strokeSharpness){w=d.width;var H=d.height,U=.25*Math.min(w,H);w=p.path("M ".concat(U," 0 L ").concat(w-
U," 0 Q ").concat(w," 0, ").concat(w," ").concat(U," L ").concat(w," ").concat(H-U," Q ").concat(w," ").concat(H,", ").concat(w-U," ").concat(H," L ").concat(U," ").concat(H," Q 0 ").concat(H,", 0 ").concat(H-U," L 0 ").concat(U," Q 0 0, ").concat(U," 0"),Th(d))}else w=p.rectangle(0,0,d.width,d.height,Th(d));break;case "diamond":w=function(va){var ua=Math.floor(va.width/2)+1,Ba=Math.floor(va.height/2)+1;return[ua,0,va.width,Ba,ua,va.height,0,Ba]}(d);w=p.polygon([[w[0],w[1]],[w[2],w[3]],[w[4],w[5]],
[w[6],w[7]]],Th(d));break;case "ellipse":w=p.ellipse(d.width/2,d.height/2,d.width,d.height,Th(d));break;case "line":case "draw":case "arrow":var ba=Th(d);w=d.points.length?d.points:[[0,0]];if(w="sharp"===d.strokeSharpness?ba.fill?[p.polygon(w,ba)]:[p.linearPath(w,ba)]:[p.curve(w,ba)],"arrow"===d.type){H=d.startArrowhead;H=void 0===H?null:H;U=d.endArrowhead;U=void 0===U?"arrow":U;function va(ua,Ba,Ra,Ia){Ba=function(dc,Vb,Bc,fd){Vb=Fi(Vb[0]);if(1>Vb.length)return null;var hd="start"===Bc?1:Vb.length-
1,ud=Vb[hd].data,le=[ud[4],ud[5]],ke=[ud[2],ud[3]],Oe=[ud[0],ud[1]];Vb=Vb[hd-1];var Je=[0,0];"move"===Vb.op?Je=Vb.data:"bcurveTo"===Vb.op&&(Je=[Vb.data[4],Vb.data[5]]);hd=function(zd,Yd){return Math.pow(1-zd,3)*le[Yd]+3*zd*Math.pow(1-zd,2)*ke[Yd]+3*Math.pow(zd,2)*(1-zd)*Oe[Yd]+Je[Yd]*Math.pow(zd,3)};Vb="start"===Bc?Je:le;Bc=Vb[0];Vb=Vb[1];ud=[hd(.3,0),hd(.3,1)];hd=ud[0];ud=ud[1];var df=Math.hypot(Bc-hd,Vb-ud);hd=(Bc-hd)/df;ud=(Vb-ud)/df;df={arrow:30,bar:15,dot:15}[fd];dc=dc.points.reduce(function(zd,
Yd,ie,af){ie=0<ie?af[ie-1]:[0,0];return zd+Math.hypot(Yd[0]-ie[0],Yd[1]-ie[1])},0);df=Math.min(df,dc/2);dc=Bc-hd*df;hd=Vb-ud*df;if("dot"===fd)return[Bc,Vb,Math.hypot(hd-Vb,dc-Bc)];ud={arrow:20,bar:90}[fd];df=Hf(dc,hd,Bc,Vb,-ud*Math.PI/180);fd=df[0];df=df[1];dc=Hf(dc,hd,Bc,Vb,ud*Math.PI/180);return[Bc,Vb,fd,df,dc[0],dc[1]]}(ua,Ba,Ra,Ia);if(null===Ba)return[];if("dot"===Ia)return[p.circle(Ba[0],Ba[1],Ba[2],fc(fc({},ba),{},{fill:ua.strokeColor,fillStyle:"solid"}))];Ia=Ba[0];Ra=Ba[1];var ib=Ba[2],rb=
Ba[3],pb=Ba[4];Ba=Ba[5];return"dotted"===ua.strokeStyle?ba.strokeLineDash=[3,4]:delete ba.strokeLineDash,[p.line(ib,rb,Ia,Ra,ba),p.line(pb,Ba,Ia,Ra,ba)]}null!==H&&(H=va(d,w,"start",H),w.push.apply(w,H));null!==U&&(H=va(d,w,"end",U),w.push.apply(w,H))}break;case "text":w=[]}ui.set(d,w)}},en=function(d,p,w,H,U){var ba=p.generator;switch(d.type){case "selection":w.translate(d.x+U.scrollX,d.y+U.scrollY);p=w.fillStyle;w.fillStyle="rgba(0, 0, 255, 0.10)";w.fillRect(0,0,d.width,d.height);w.fillStyle=p;w.translate(-d.x-
U.scrollX,-d.y-U.scrollY);break;case "rectangle":case "diamond":case "ellipse":case "line":case "draw":case "arrow":case "text":if(Vj(d,ba),H){p=U?U.zoom:og.zoom;ba=(H=Ck.get(d))&&H.canvasZoom!==p.value&&!(null!=U&&U.shouldCacheIgnoreZoom);if(!H||ba){H=document.createElement("canvas");ba=H.getContext("2d");var va=0,ua=0;if(Gg(d)){va=hg(d);var Ba=va[0];ua=va[1];var Ra=va[3];H.width=Math.abs(Ba-va[2])*window.devicePixelRatio*p.value+40*p.value;H.height=Math.abs(ua-Ra)*window.devicePixelRatio*p.value+
40*p.value;va=d.x>Ba?Math.floor(Math.abs(d.x-Ba))*window.devicePixelRatio*p.value:0;ua=d.y>ua?Math.floor(Math.abs(d.y-ua))*window.devicePixelRatio*p.value:0;ba.translate(va,ua)}else H.width=d.width*window.devicePixelRatio*p.value+40*p.value,H.height=d.height*window.devicePixelRatio*p.value+40*p.value;ba.translate(20*p.value,20*p.value);ba.scale(window.devicePixelRatio*p.value,window.devicePixelRatio*p.value);Ba=Qh.canvas(H);p=(ci(d,Ba,ba),ba.translate(-20*p.value,-20*p.value),ba.scale(1/(window.devicePixelRatio*
p.value),1/(window.devicePixelRatio*p.value)),{element:d,canvas:H,canvasZoom:p.value,canvasOffsetX:va,canvasOffsetY:ua});d=(Ck.set(d,p),p)}else d=H;p=d.element;va=hg(p);H=va[0];ba=va[1];ua=va[2];va=va[3];Ba=((H+ua)/2+U.scrollX)*window.devicePixelRatio;U=((ba+va)/2+U.scrollY)*window.devicePixelRatio;w.scale(1/window.devicePixelRatio,1/window.devicePixelRatio);w.translate(Ba,U);w.rotate(p.angle);w.drawImage(d.canvas,-(ua-H)/2*window.devicePixelRatio-20*d.canvasZoom/d.canvasZoom,-(va-ba)/2*window.devicePixelRatio-
20*d.canvasZoom/d.canvasZoom,d.canvas.width/d.canvasZoom,d.canvas.height/d.canvasZoom);w.rotate(-p.angle);w.translate(-Ba,-U);w.scale(window.devicePixelRatio,window.devicePixelRatio);!0}else ba=hg(d),ua=ba[0],H=ba[1],va=ba[2],Ba=ba[3],ba=(ua+va)/2+U.scrollX,U=(H+Ba)/2+U.scrollY,ua=(va-ua)/2-(d.x-ua),H=(Ba-H)/2-(d.y-H),w.translate(ba,U),w.rotate(d.angle),w.translate(-ua,-H),ci(d,p,w),w.translate(ua,H),w.rotate(-d.angle),w.translate(-ba,-U);break;default:throw Error("Unimplemented type ".concat(d.type));
}},xh=function(){function d(){this.callbacks=new Set;this.nonDeletedElements=[];this.elements=[];this.elementsMap=new Map}return d.mapElementToScene=function(p,w){"string"==typeof p?this.sceneMapById.set(p,w):this.sceneMapByElement.set(p,w)},d.getScene=function(p){return"string"==typeof p?this.sceneMapById.get(p)||null:this.sceneMapByElement.get(p)||null},d.prototype.getElementsIncludingDeleted=function(){return this.elements},d.prototype.getElements=function(){return this.nonDeletedElements},d.prototype.getElement=
function(p){return this.elementsMap.get(p)||null},d.prototype.getNonDeletedElement=function(p){return(p=this.getElement(p))&&!p.isDeleted?p:null},d.prototype.getNonDeletedElements=function(p){var w=this,H=[];return p.forEach(function(U){U=w.getNonDeletedElement(U);null!=U&&H.push(U)}),H},d.prototype.replaceAllElements=function(p){var w=this;this.elements=p;this.elementsMap.clear();p.forEach(function(H){w.elementsMap.set(H.id,H);d.mapElementToScene(H,w)});this.nonDeletedElements=fe(this.elements);
this.informMutation()},d.prototype.informMutation=function(){for(var p=0,w=Array.from(this.callbacks);p<w.length;p++)(0,w[p])()},d.prototype.addCallback=function(p){var w=this;if(this.callbacks.has(p))throw Error();return this.callbacks.add(p),function(){if(!w.callbacks.has(p))throw Error();w.callbacks.delete(p)}},d.prototype.destroy=function(){var p=this;d.sceneMapById.forEach(function(w,H){w===p&&d.sceneMapById.delete(H)});this.callbacks.clear()},d}();xh.sceneMapByElement=new WeakMap;xh.sceneMapById=
new Map;var Jm=new Se(Date.now()),Wj=function(){return Math.floor(Jm.next()*Math.pow(2,31))},vi=function(){return((d=21)=>{let p="",w=crypto.getRandomValues(new Uint8Array(d));for(;d--;){let H=63&w[d];p+=36>H?H.toString(36):62>H?(H-26).toString(36).toUpperCase():63>H?"_":"-"}return p})()},jf=function(d,p){var w,H=!1,U=p.points,ba;for(ba in void 0!==U&&(p=xb(xb({},function(pb){var dc=pb.map(function(Vb){return Vb[0]});pb=pb.map(function(Vb){return Vb[1]});return{width:Math.max.apply(Math,dc)-Math.min.apply(Math,
dc),height:Math.max.apply(Math,pb)-Math.min.apply(Math,pb)}}(U)),p)),p){var va=p[ba];if(void 0!==va&&(d[ba]!==va||"object"==typeof va&&null!==va&&"groupIds"!==ba)){if("points"===ba){var ua=d[ba],Ba=va;if(ua.length===Ba.length){for(var Ra=!1,Ia=ua.length;--Ia;){var ib=ua[Ia],rb=Ba[Ia];if(ib[0]!==rb[0]||ib[1]!==rb[1]){Ra=!0;break}}if(!Ra)continue}}d[ba]=va;H=!0}}H&&(void 0===p.height&&void 0===p.width&&void 0===U||ui.delete(d),d.version++,d.versionNonce=Wj(),null===(w=xh.getScene(d))||void 0===w||w.informMutation())},
zg=function(d,p){return xb(xb(xb({},d),p),{},{version:d.version+1,versionNonce:Wj()})},Rh=function(d){return Gg(d)?2>d.points.length:0===d.width&&0===d.height},Xe=function(d,p,w){var H=Math.abs(p),U=Math.abs(w);"line"===d||"arrow"===d||"draw"===d?(d=Math.round(Math.atan(U/H)/hc.ay)*hc.ay,0===d?w=0:d===Math.PI/2?p=0:w=Math.round(H*Math.tan(d))*Math.sign(w)||w):"selection"!==d&&(w=H*Math.sign(w));return{width:p,height:w}},Kl=function(d){var p={width:d.width,height:d.height,x:d.x,y:d.y};if(0>d.width){var w=
Math.abs(d.width);p.width=w;p.x=d.x-w}0>d.height&&(w=Math.abs(d.height),p.height=w,p.y=d.y-w);return p},Of=h(5474),Uh=h.n(Of),ul=function(){for(var d=0,p=0,w=arguments.length;p<w;p++)d+=arguments[p].length;d=Array(d);var H=0;for(p=0;p<w;p++)for(var U=arguments[p],ba=0,va=U.length;ba<va;ba++,H++)d[H]=U[ba];return d},Yj=function(d,p,w){var H,U;w=w.filter(function(ba){return ba.groupIds.includes(d)});return 2>w.length?p.selectedGroupIds[d]||p.editingGroupId===d?Na(Na({},p),{},{selectedGroupIds:Na(Na({},
p.selectedGroupIds),{},(H={},H[d]=!1,H)),editingGroupId:null}):p:Na(Na({},p),{},{selectedGroupIds:Na(Na({},p.selectedGroupIds),{},(U={},U[d]=!0,U)),selectedElementIds:Na(Na({},p.selectedElementIds),Object.fromEntries(w.map(function(ba){return[ba.id,!0]})))})},yh=function(d,p){return p.groupIds.filter(function(w){return w!==d.editingGroupId}).find(function(w){return d.selectedGroupIds[w]})},Ji=function(d){return Object.entries(d.selectedGroupIds).filter(function(p){p[0];return p[1]}).map(function(p){var w=
p[0];p[1];return w})},Vh=function(d,p){for(var w=Na({},d),H=0,U=uf(p,d);H<U.length;H++){var ba=U[H].groupIds;if(d.editingGroupId){var va=ba.indexOf(d.editingGroupId);-1<va&&(ba=ba.slice(0,va))}0<ba.length&&(w=Yj(ba[ba.length-1],w,p))}return w},Zj=function(d,p){return d.filter(function(w){return w.groupIds.includes(p)})},wj=function(d,p){var w,H,U=p.x,ba=p.y,va=p.strokeColor,ua=p.backgroundColor,Ba=p.fillStyle,Ra=p.strokeWidth,Ia=p.strokeStyle,ib=p.roughness,rb=p.opacity,pb=p.width;pb=void 0===pb?
0:pb;var dc=p.height;dc=void 0===dc?0:dc;var Vb=p.angle;Vb=void 0===Vb?0:Vb;var Bc=p.groupIds;Bc=void 0===Bc?[]:Bc;var fd=p.strokeSharpness,hd=p.boundElementIds;hd=void 0===hd?null:hd;p=Uh()(p,"x y strokeColor backgroundColor fillStyle strokeWidth strokeStyle roughness opacity width height angle groupIds strokeSharpness boundElementIds".split(" "));return{id:p.id||vi(),type:d,x:U,y:ba,width:pb,height:dc,angle:Vb,strokeColor:va,backgroundColor:ua,fillStyle:Ba,strokeWidth:Ra,strokeStyle:Ia,roughness:ib,
opacity:rb,groupIds:Bc,strokeSharpness:fd,seed:null!==(w=p.seed)&&void 0!==w?w:Wj(),version:p.version||1,versionNonce:null!==(H=p.versionNonce)&&void 0!==H?H:0,isDeleted:!1,boundElementIds:hd}},Ml=function(d){return wj(d.type,d)},Wh=function(d,p){return{x:"center"===d.textAlign?p.width/2:"right"===d.textAlign?p.width:0,y:"middle"===d.verticalAlign?p.height/2:0}},Ij=function(d){var p=Ui(d.text,Ti(d)),w=Wh(d,p);return zg(Fa(Fa({},wj("text",d)),{},{text:d.text,fontSize:d.fontSize,fontFamily:d.fontFamily,
textAlign:d.textAlign,verticalAlign:d.verticalAlign,x:d.x-w.x,y:d.y-w.y,width:p.width,height:p.height,baseline:p.baseline}),{})},Ye=function(d){return Fa(Fa({},wj(d.type,d)),{},{points:d.points||[],lastCommittedPoint:null,startBinding:null,endBinding:null,startArrowhead:d.startArrowhead,endArrowhead:d.endArrowhead})},Jj=function(d,p){if(void 0===p&&(p=0),null==d||"object"!=typeof d)return d;if("[object Object]"===Object.prototype.toString.call(d)){var w="function"==typeof d.constructor?Object.create(Object.getPrototypeOf(d)):
{},H;for(H in d)d.hasOwnProperty(H)&&(0!==p||"shape"!==H&&"canvas"!==H)&&(w[H]=Jj(d[H],p+1));return w}if(Array.isArray(d)){w=d.length;for(H=Array(w);w--;)H[w]=Jj(d[w],p+1);return H}return d},Wi=function(d,p,w,H){w=Jj(w);return w.id=vi(),w.seed=Wj(),w.groupIds=function(U,ba,va){var ua=ul(U);ba=ba?U.indexOf(ba):-1;U=-1<ba?ba:U.length;for(ba=0;ba<U;ba++)ua[ba]=va(ua[ba]);return ua}(w.groupIds,d,function(U){return p.has(U)||p.set(U,vi()),p.get(U)}),H&&(w=Object.assign(w,H)),w},Qe={mouse:8,pen:16,touch:28},
vl={e:!0,s:!0,n:!0,w:!0},Ol={e:!0,s:!0,n:!0,w:!0},Xh={e:!0,s:!0,n:!0,w:!0,nw:!0,se:!0},xj={e:!0,s:!0,n:!0,w:!0,ne:!0,sw:!0},fh=function(d,p,w,H,U,ba,va){d=Hf(d+w/2,p+H/2,U,ba,va);return[d[0]-w/2,d[1]-H/2,w,H]},Ak=function(d,p,w,H,U){var ba=d[0],va=d[1],ua=d[2];d=d[3];void 0===U&&(U={});var Ba=Qe[H];H=Ba/w.value;var Ra=Ba/w.value,Ia=Ba/w.value,ib=Ba/w.value,rb=ua-ba,pb=d-va,dc=(ba+ua)/2,Vb=(va+d)/2,Bc=4/w.value;Ba=(Ba-8)/(2*w.value);var fd={nw:U.nw?void 0:fh(ba-Bc-Ia+Ba,va-Bc-ib+Ba,H,Ra,dc,Vb,p),ne:U.ne?
void 0:fh(ua+Bc-Ba,va-Bc-ib+Ba,H,Ra,dc,Vb,p),sw:U.sw?void 0:fh(ba-Bc-Ia+Ba,d+Bc-Ba,H,Ra,dc,Vb,p),se:U.se?void 0:fh(ua+Bc-Ba,d+Bc-Ba,H,Ra,dc,Vb,p),rotation:U.rotation?void 0:fh(ba+rb/2-H/2,va-Bc-ib+Ba-16/w.value,H,Ra,dc,Vb,p)};w=5*Qe.mouse/w.value;return Math.abs(rb)>w&&(U.n||(fd.n=fh(ba+rb/2-H/2,va-Bc-ib+Ba,H,Ra,dc,Vb,p)),U.s||(fd.s=fh(ba+rb/2-H/2,d+Bc-Ba,H,Ra,dc,Vb,p))),Math.abs(pb)>w&&(U.w||(fd.w=fh(ba-Bc-Ia+Ba,va+pb/2-Ra/2,H,Ra,dc,Vb,p)),U.e||(fd.e=fh(ua+Bc-Ba,va+pb/2-Ra/2,H,Ra,dc,Vb,p))),fd},
uj=function(d,p,w){void 0===w&&(w="mouse");var H={};if("arrow"===d.type||"line"===d.type||"draw"===d.type){if(2===d.points.length){var U=d.points[1];0===U[0]||0===U[1]?H=xj:0<U[0]&&0>U[1]?H=Xh:0<U[0]&&0<U[1]?H=xj:0>U[0]&&0<U[1]?H=Xh:0>U[0]&&0>U[1]&&(H=xj)}}else"text"===d.type&&(H=Ol);return Ak(hg(d),d.angle,p,w,H)},xi=function(d,p){return[0,0,0,0,p,d,1,0]},Zg=function(d,p){void 0===d&&(d=0);void 0===p&&(p=0);var w=[0,0,0,0,0,0,0,0];if(0>p||7<p)throw Error("Expected `index` betwen 0 and 7, got `".concat(p,
"`"));return 0!==d&&(w[p]=d),w},Ih=function(d){return[d[0],d[1],d[2],d[3],-d[4],-d[5],-d[6],-d[7]]},tl=function(d,p){return"number"==typeof p?[d[0]-p,d[1],d[2],d[3],d[4],d[5],d[6],d[7]]:[d[0]-p[0],d[1]-p[1],d[2]-p[2],d[3]-p[3],d[4]-p[4],d[5]-p[5],d[6]-p[6],d[7]-p[7]]},Ek=function(d,p){return"number"==typeof p?[d[0]*p,d[1]*p,d[2]*p,d[3]*p,d[4]*p,d[5]*p,d[6]*p,d[7]*p]:[p[0]*d[0]+p[2]*d[2]+p[3]*d[3]-p[6]*d[6],p[1]*d[0]+p[0]*d[1]-p[4]*d[2]+p[5]*d[3]+p[2]*d[4]-p[3]*d[5]-p[7]*d[6]-p[6]*d[7],p[2]*d[0]+p[0]*
d[2]-p[6]*d[3]+p[3]*d[6],p[3]*d[0]+p[6]*d[2]+p[0]*d[3]-p[2]*d[6],p[4]*d[0]+p[2]*d[1]-p[1]*d[2]+p[7]*d[3]+p[0]*d[4]+p[6]*d[5]-p[5]*d[6]+p[3]*d[7],p[5]*d[0]-p[3]*d[1]+p[7]*d[2]+p[1]*d[3]-p[6]*d[4]+p[0]*d[5]+p[4]*d[6]+p[2]*d[7],p[6]*d[0]+p[3]*d[2]-p[2]*d[3]+p[0]*d[6],p[7]*d[0]+p[6]*d[1]+p[5]*d[2]+p[4]*d[3]+p[3]*d[4]+p[2]*d[5]+p[1]*d[6]+p[0]*d[7]]},dk=function(d,p){return[Kj(d,p),d[1]*p[7]+d[4]*p[5]-d[5]*p[4]+d[7]*p[1],d[2]*p[7]-d[4]*p[6]+d[6]*p[4]+d[7]*p[2],d[3]*p[7]+d[5]*p[6]-d[6]*p[5]+d[7]*p[3],d[4]*
p[7]+d[7]*p[4],d[5]*p[7]+d[7]*p[5],d[6]*p[7]+d[7]*p[6],d[7]*p[7]]},Kj=function(d,p){return d[0]*p[7]+d[1]*p[6]+d[2]*p[5]+d[3]*p[4]+d[4]*p[3]+d[5]*p[2]+d[6]*p[1]+d[7]*p[0]},Mm=function(d){return Math.sqrt(Math.abs(d[0]*d[0]-d[2]*d[2]-d[3]*d[3]+d[6]*d[6]))},ij=function(d){var p=Mm(d);return 0===p||1===p?d:Ek(d,(0>d[6]?-1:1)/p)},Ll=(Zg(1,1),Zg(1,2),Zg(1,3),Zg(1,4),Zg(1,5),Zg(1,6),Zg(1,7),function(d,p,w){return ij([0,w,d,p,0,0,0,0])}),ak=function(d,p){return w=d,[(H=p)[0]*w[0]+H[2]*w[2]+H[3]*w[3]-H[6]*
w[6],H[1]*w[0]+H[0]*w[1]-H[4]*w[2]+H[5]*w[3]+H[2]*w[4]-H[3]*w[5]-H[7]*w[6]-H[6]*w[7],H[2]*w[0]+H[0]*w[2]-H[6]*w[3]+H[3]*w[6],H[3]*w[0]+H[6]*w[2]+H[0]*w[3]-H[2]*w[6],H[4]*w[0]+H[7]*w[3]+H[0]*w[4]+H[3]*w[7],H[5]*w[0]+H[7]*w[2]+H[0]*w[5]+H[2]*w[7],H[6]*w[0]+H[0]*w[6],H[7]*w[0]+H[0]*w[7]];var w,H},bk=function(d){return[0,0,0,0,d[1],d[0],1,0]},ei=function(d){return[d[5],d[4]]},lj=function(d,p){return w=Ek(d,Math.sin(p/2)),H=Math.cos(p/2),"number"==typeof H?[w[0]+H,w[1],w[2],w[3],w[4],w[5],w[6],w[7]]:[w[0]+
H[0],w[1]+H[1],w[2]+H[2],w[3]+H[3],w[4]+H[4],w[5]+H[5],w[6]+H[6],w[7]+H[7]];var w,H},Li=function(d,p){return ij(Ek(Ek(d,p),Ih(d)))},Gk=function(d,p,w,H){var U=10/p.zoom.value;return!ck(d,p,[w,H])&&Pl(d,[w,H],U)},ck=function(d,p,w){p=10/p.zoom.value;if("text"===d.type)var H=cm;else"arrow"===d.type?H=!1:(H="transparent"!==d.backgroundColor,H="line"===d.type||"draw"===d.type?H&&bi(d.points):H),H=H?fk:Dk;return kj({element:d,point:w,threshold:p,check:H})},Pl=function(d,p,w){var H=p[0],U=p[1],ba=hg(d);
p=ba[0];var va=ba[1],ua=ba[2];ba=ba[3];H=Hf(H,U,(p+ua)/2,(va+ba)/2,-d.angle);d=H[0];H=H[1];return d>p-w&&d<ua+w&&H>va-w&&H<ba+w},Hk=function(d,p){var w=p.x;p=p.y;var H=Xi(d,d.width,d.height);return kj({element:d,point:[w,p],threshold:H,check:Cn})},Xi=function(d,p,w){return Math.max(16,Math.min(.25*("diamond"===d.type?1/Math.sqrt(2):1)*Math.min(p,w),32))},kj=function(d){switch(d.element.type){case "rectangle":case "text":case "diamond":case "ellipse":var p=bm(d.element,d.point);return d.check(p,d.threshold);
case "arrow":case "line":case "draw":return co(d);case "selection":return console.warn("This should not happen, we need to investigate why it does."),!1}},bm=function(d,p){switch(d.type){case "rectangle":case "text":var w=Si(d,p),H=w[1],U=w[2];d=Math;p=d.max;w=Ll(0,1,-w[3]);w=Kj(H,w);U=Ll(1,0,-U);H=Kj(H,U);return p.call(d,w,H);case "diamond":return H=Si(d,p),d=H[1],p=H[2],H=H[3],p=Ll(H,p,-H*p),Kj(d,p);case "ellipse":return d=hn(d,p),p=d[1],-Math.sign(p[1])*Kj(d[0],p)}},cm=function(d,p){return 0>d},
fk=function(d,p){return d<p},Dk=function(d,p){return Math.abs(d)<p},Cn=function(d,p){return 0<=d&&d<p},hn=function(d,p){p=Si(d,p);d=p[1];var w=p[2],H=p[3];p=ei(d);var U=p[0],ba=p[1],va=.707,ua=.707;[0,1,2,3].forEach(function(Ba){Ba=(w*w-H*H)*Math.pow(va,3)/w;var Ra=(H*H-w*w)*Math.pow(ua,3)/H,Ia=U-Ba,ib=ba-Ra,rb=Math.hypot(H*ua-Ra,w*va-Ba),pb=Math.hypot(ib,Ia);va=Math.min(1,Math.max(0,(Ia*rb/pb+Ba)/w));ua=Math.min(1,Math.max(0,(ib*rb/pb+Ra)/H));Ba=Math.hypot(ua,va);va/=Ba;ua/=Ba});p=xi(w*va,H*ua);
return[d,ak(ij(dk(p,d)),p)]},co=function(d){var p=d.element,w=d.threshold;if(!ui.get(p))return!1;var H=Si(d.element,d.point),U=H[0],ba=H[1],va=H[2];H=Ll(0,1,-H[3]);va=Ll(1,0,-va);if(!fk(Kj(ba,H),w)||!fk(Kj(ba,va),w))return!1;U=ei(U);var ua=U[0],Ba=U[1];U=ui.get(p);return d.check===fk&&U.some(function(Ra){var Ia=p.strokeSharpness;var ib=[],rb=!1,pb=0;for(Ra=Fi(Ra);pb<Ra.length;pb++){var dc=Ra[pb];"move"===dc.op?(rb=!rb)&&ib.push([dc.data[0],dc.data[1]]):"bcurveTo"===dc.op&&rb&&(ib.push([dc.data[0],
dc.data[1]]),ib.push([dc.data[2],dc.data[3]]),ib.push([dc.data[4],dc.data[5]]))}4<=ib.length?"sharp"===Ia?Ia=Ci(ib,ua,Ba):(Ia=K(ib,10,5),Ia=Ci(Ia,ua,Ba)):Ia=!1;return Ia})?!0:U.some(function(Ra){return Tk(Ra,ua,Ba,w)})},Si=function(d,p){var w,H=bk(p);p=hg(d);var U=Ql(p),ba=lj(U,d.angle);H=Li(ba,H);U=tl(H,[0,0,0,0,U[4],U[5],0,0]);U=[0,0,0,0,Math.abs(U[4]),Math.abs(U[5]),1,0];d=(w=d.x,[0,0,0,0,d.y,w,0,0]);return[tl(H,d),U,(p[2]-p[0])/2,(p[3]-p[1])/2]},Jl=function(d){var p=hg(d);p=Ql(p);d=lj(p,d.angle);
p=[0,0,0,0,p[4],p[5],0,0];p=Ih([1,0,0,0,-.5*p[5],.5*p[4],0,0]);return Ek(p,d)},Ql=function(d){return xi((d[0]+d[2])/2,(d[1]+d[3])/2)},xk=function(d,p,w,H){switch(void 0===H&&(H=0),d.type){case "rectangle":case "text":case "diamond":var U=Bg(d);var ba=U.flatMap(function(va,ua){ua=[va,U[(ua+1)%4]];var Ba=H;va=ua[0];ua=ua[1];var Ra=[0,0,0,0,ua[4]-va[4],ua[5]-va[5],0,0];var Ia=Math.sqrt(Math.abs(Ra[7]*Ra[7]-Ra[5]*Ra[5]-Ra[4]*Ra[4]+Ra[1]*Ra[1]));Ra=0===Ia||1===Ia?Ra:Ek(Ra,1/Ia);Ba*=.5;Ba=[1,0,0,0,Ba*Ra[4],
Ba*Ra[5],0,0];ua=[Li(Ba,va),Li(Ba,ua)];va=ua[0];ua=ua[1];if(0<=Kj(va,p)*Kj(ua,p))var ib=[];else{a:{va=ij(dk(ua,va));va=ij((ib=p,[(rb=va)[0]*ib[0],rb[1]*ib[0]+rb[0]*ib[1],rb[2]*ib[0]+rb[0]*ib[2],rb[3]*ib[0]+rb[0]*ib[3],rb[4]*ib[0]+rb[2]*ib[1]-rb[1]*ib[2]+rb[0]*ib[4],rb[5]*ib[0]-rb[3]*ib[1]+rb[1]*ib[3]+rb[0]*ib[5],rb[6]*ib[0]+rb[3]*ib[2]-rb[2]*ib[3]+rb[0]*ib[6],rb[7]*ib[0]+rb[6]*ib[1]+rb[5]*ib[2]+rb[4]*ib[3]+rb[3]*ib[4]+rb[2]*ib[5]+rb[1]*ib[6]]));break a;var rb}ib=[va]}return ib}).concat(U.flatMap(function(va){var ua=
H;if(0===ua)var Ba=0===Kj(p,va)?[va]:[];else{Ba=p[2];var Ra=p[3],Ia=p[1],ib=ei(va);va=ib[0];var rb=ib[1];ib=Ba*Ba+Ra*Ra;ua=ua*ua*ib-Math.pow(Ba*va+Ra*rb+Ia,2);if(0===ib||0>=ua)Ba=[];else{ua=Math.sqrt(ua);var pb=va*Ra*Ra-rb*Ba*Ra-Ba*Ia;Ia=rb*Ba*Ba-va*Ba*Ra-Ra*Ia;Ba=[xi((pb+Ra*ua)/ib,(Ia-Ba*ua)/ib),xi((pb-Ra*ua)/ib,(Ia+Ba*ua)/ib)]}}return Ba}));break;case "ellipse":ba=Di(d,H,p)}if(2>ba.length)return[];d=ba.sort(function(va,ua){return Mm(dk(va,w))-Mm(dk(ua,w))});return[d[0],d[d.length-1]]},Bg=function(d,
p){void 0===p&&(p=1);var w=p*d.width/2;p=p*d.height/2;switch(d.type){case "rectangle":case "text":return[xi(w,p),xi(w,-p),xi(-w,-p),xi(-w,p)];case "diamond":return[xi(0,p),xi(w,0),xi(0,-p),xi(-w,0)]}},Di=function(d,p,w){var H=d.width/2+p;d=d.height/2+p;p=w[2];var U=w[3],ba=w[1];w=H*H*p*p+d*d*U*U;var va=w-ba*ba;if(0===w||0>=va)return[];va=Math.sqrt(va);var ua=-H*H*p*ba;ba*=-d*d*U;return[xi((ua+H*d*U*va)/w,(ba-H*d*p*va)/w),xi((ua-H*d*U*va)/w,(ba+H*d*p*va)/w)]},nh=function(d,p,w){var H=Math.sign(p),
U=0,ba=null;return Bg(d,Math.abs(p)).forEach(function(va){var ua=H*ij(dk(va,w))[1];ua>U&&(U=ua,ba=va)}),ba},Tk=function(d,p,w,H){var U=[0,0];return Fi(d).some(function(ba,va){va=ba.op;var ua=ba.data;if("move"===va)U=ua;else if("bcurveTo"===va){ba=[ua[0],ua[1]];va=[ua[2],ua[3]];ua=[ua[4],ua[5]];var Ba=U;return U=ua,function(Ra,Ia,ib,rb,pb,dc){var Vb=pb[0];pb=pb[1];for(var Bc=function(le,ke){return Math.pow(1-le,3)*rb[ke]+3*le*Math.pow(1-le,2)*ib[ke]+3*Math.pow(le,2)*(1-le)*Ia[ke]+Ra[ke]*Math.pow(le,
3)},fd=0;1>=fd;){var hd=Bc(fd,0),ud=Bc(fd,1);if(Math.sqrt(Math.pow(hd-Vb,2)+Math.pow(ud-pb,2))<dc)return!0;fd+=.01}return!1}(Ba,ba,va,ua,[p,w],H)}return!1})},eh=function(d,p,w){return p>=d[0]&&p<=d[0]+d[2]&&w>=d[1]&&w<=d[1]+d[3]},Mi=function(d,p,w,H,U,ba){return d.reduce(function(va,ua){return va?va:(va=function(Ba,Ra,Ia,ib,rb,pb){if(!Ra.selectedElementIds[Ba.id])return!1;Ba=uj(Ba,rb,pb);Ra=Ba.rotation;var dc=Uh()(Ba,["rotation"]);if(Ra&&eh(Ra,Ia,ib))return"rotation";Ba=Object.keys(dc).filter(function(Vb){Vb=
dc[Vb];return!!Vb&&eh(Vb,Ia,ib)});return 0<Ba.length&&Ba[0]}(ua,p,w,H,U,ba))?{element:ua,transformHandleType:va}:null},null)},of=function(d,p,w,H,U){var ba=Ak([d[0],d[1],d[2],d[3]],0,H,U,vl);return Object.keys(ba).find(function(va){return(va=ba[va])&&eh(va,p,w)})||!1},zh=["ns","nesw","ew","nwse"],Ie=function(d){var p=d.element,w=p&&-1==Math.sign(p.height)*Math.sign(p.width),H=null;switch(d.transformHandleType){case "n":case "s":H="ns";break;case "w":case "e":H="ew";break;case "nw":case "se":H=w?"nesw":
"nwse";break;case "ne":case "sw":H=w?"nwse":"nesw";break;case "rotation":return"grab"}H&&p&&(d=H,p=p.angle,w=zh.indexOf(d),0<=w&&(d=zh[(w+Math.round(p/(Math.PI/4)))%zh.length]),H=d);return H?"".concat(H,"-resize"):""},Rl=function(){for(var d=0,p=0,w=arguments.length;p<w;p++)d+=arguments[p].length;d=Array(d);var H=0;for(p=0;p<w;p++)for(var U=arguments[p],ba=0,va=U.length;ba<va;ba++,H++)d[H]=U[ba];return d},cg=function(){function d(p,w){this.elementId=p.id;xh.mapElementToScene(this.elementId,w);d.normalizePoints(p);
this.lastUncommittedPoint=this.activePointIndex=null;this.isDragging=!1;this.pointerOffset={x:0,y:0};this.endBindingElement=this.startBindingElement="keep"}return d.getElement=function(p){var w;return(null===(w=xh.getScene(p))||void 0===w?void 0:w.getNonDeletedElement(p))||null},d.handlePointDragging=function(p,w,H,U,ba){if(!p.editingLinearElement)return!1;var va=p.editingLinearElement,ua=va.activePointIndex,Ba=va.isDragging,Ra=d.getElement(va.elementId);return Ra?null!=ua&&-1<ua?(!1===Ba&&w({editingLinearElement:db(db({},
va),{},{isDragging:!0})}),p=d.createPointAt(Ra,H-va.pointerOffset.x,U-va.pointerOffset.y,p.gridSize),d.movePoint(Ra,ua,p),ng(Ra)&&ba(Ra,0===ua?"start":"end"),!0):!1:!1},d.handlePointerUp=function(p,w,H){p=w.activePointIndex;var U=w.isDragging,ba=d.getElement(w.elementId);if(!ba)return w;var va={};!U||0!==p&&p!==ba.points.length-1||(bi(ba.points,H.zoom.value)&&d.movePoint(ba,p,0===p?ba.points[ba.points.length-1]:ba.points[0]),U=H.isBindingEnabled?$h(Eg(d.getPointAtIndexGlobalCoordinates(ba,p)),xh.getScene(ba)):
null,(H={})[0===p?"startBindingElement":"endBindingElement"]=U,va=H);return db(db(db({},w),va),{},{isDragging:!1,pointerOffset:{x:0,y:0}})},d.handlePointerDown=function(p,w,H,U,ba){var va={didAddPoint:!1,hitElement:null};if(!w.editingLinearElement)return va;var ua=d.getElement(w.editingLinearElement.elementId);if(!ua)return va;if(p.altKey)return null==w.editingLinearElement.lastUncommittedPoint&&jf(ua,{points:Rl(ua.points,[d.createPointAt(ua,ba.x,ba.y,w.gridSize)])}),U.resumeRecording(),H({editingLinearElement:db(db({},
w.editingLinearElement),{},{activePointIndex:ua.points.length-1,lastUncommittedPoint:null,endBindingElement:$h(ba,xh.getScene(ua))})}),va.didAddPoint=!0,va;p=d.getPointIndexUnderCursor(ua,w.zoom,ba.x,ba.y);if(-1<p)va.hitElement=ua;else{var Ba=w.editingLinearElement;U=Ba.startBindingElement;Ba=Ba.endBindingElement;w.isBindingEnabled&&ng(ua)&&Pf(ua,U,Ba)}Ba=hg(ua);U=(Ba[0]+Ba[2])/2;Ba=(Ba[1]+Ba[3])/2;ua=-1<p&&Hf(ua.x+ua.points[p][0],ua.y+ua.points[p][1],U,Ba,ua.angle);return H({editingLinearElement:db(db({},
w.editingLinearElement),{},{activePointIndex:-1<p?p:null,pointerOffset:ua?{x:ba.x-ua[0],y:ba.y-ua[1]}:{x:0,y:0}})}),va},d.handlePointerMove=function(p,w,H,U,ba){var va=U.lastUncommittedPoint,ua=d.getElement(U.elementId);if(!ua)return U;var Ba=ua.points,Ra=Ba[Ba.length-1];if(!p.altKey)return Ra===va&&d.movePoint(ua,Ba.length-1,"delete"),db(db({},U),{},{lastUncommittedPoint:null});p=d.createPointAt(ua,w-U.pointerOffset.x,H-U.pointerOffset.y,ba);return Ra===va?d.movePoint(ua,ua.points.length-1,p):d.movePoint(ua,
"new",p),db(db({},U),{},{lastUncommittedPoint:ua.points[ua.points.length-1]})},d.getPointsGlobalCoordinates=function(p){var w=hg(p),H=(w[0]+w[2])/2,U=(w[1]+w[3])/2;return p.points.map(function(ba){var va;return[(va=Hf(p.x+ba[0],p.y+ba[1],H,U,p.angle))[0],va[1]]})},d.getPointAtIndexGlobalCoordinates=function(p,w){var H=0>w?p.points.length+w:w;w=hg(p);H=p.points[H];return Hf(p.x+H[0],p.y+H[1],(w[0]+w[2])/2,(w[1]+w[3])/2,p.angle)},d.pointFromAbsoluteCoords=function(p,w){var H=hg(p);w=Hf(w[0],w[1],(H[0]+
H[2])/2,(H[1]+H[3])/2,-p.angle);return[w[0]-p.x,w[1]-p.y]},d.getPointIndexUnderCursor=function(p,w,H,U){p=this.getPointsGlobalCoordinates(p);for(var ba=p.length;-1<--ba;){var va=p[ba];if(Math.hypot(va[0]-H,va[1]-U)*w.value<this.POINT_HANDLE_SIZE/2+1)return ba}return-1},d.createPointAt=function(p,w,H,U){w=pi(w,H,U);H=hg(p);w=Hf(w[0],w[1],(H[0]+H[2])/2,(H[1]+H[3])/2,-p.angle);return[w[0]-p.x,w[1]-p.y]},d.normalizePoints=function(p){var w=p.points,H=w[0][0],U=w[0][1];jf(p,{points:w.map(function(ba,va){return[ba[0]-
H,ba[1]-U]}),x:p.x+H,y:p.y+U})},d.movePointByOffset=function(p,w,H){var U=p.points[w];d.movePoint(p,w,[U[0]+H.x,U[1]+H.y])},d.movePoint=function(p,w,H,U){var ba=p.points,va=0,ua=0;if("delete"===H){if("new"===w)throw Error("invalid args in movePoint");(H=ba.slice()).splice(w,1);0===w&&(va=H[0][0],ua=H[0][1],H=H.map(function(ib,rb){return 0===rb?[0,0]:[ib[0]-va,ib[1]-ua]}))}else if("new"===w)H=Rl(ba,[H]);else{var Ba=H[0]-ba[w][0],Ra=H[1]-ba[w][1];H=ba.map(function(ib,rb){return rb===w?0===rb?(va=Ba,
ua=Ra,ib):(va=0,ua=0,[ib[0]+Ba,ib[1]+Ra]):va||ua?[ib[0]-va,ib[1]-ua]:ib})}var Ia=Be(p,H,p.strokeSharpness||"round");ba=Be(p,ba,p.strokeSharpness||"round");ba=Hf(va,ua,(ba[0]+ba[2])/2-(Ia[0]+Ia[2])/2,(ba[1]+ba[3])/2-(Ia[1]+Ia[3])/2,p.angle);jf(p,db(db({},U),{},{points:H,x:p.x+ba[0],y:p.y+ba[1]}))},d}();cg.POINT_HANDLE_SIZE=20;var kn=function(){for(var d=0,p=0,w=arguments.length;p<w;p++)d+=arguments[p].length;d=Array(d);var H=0;for(p=0;p<w;p++)for(var U=arguments[p],ba=0,va=U.length;ba<va;ba++,H++)d[H]=
U[ba];return d},Pf=function(d,p,w){var H=new Set,U=new Set;Hg(d,p,w,"start",H,U);Hg(d,w,p,"end",H,U);p=Array.from(U).filter(function(ba){return!H.has(ba)});xh.getScene(d).getNonDeletedElements(p).forEach(function(ba){var va;jf(ba,{boundElementIds:null===(va=ba.boundElementIds)||void 0===va?void 0:va.filter(function(ua){return ua!==d.id})})})},Hg=function(d,p,w,H,U,ba){if("keep"!==p)if(null!=p)null!=w&&("keep"===w?Ef(d,p,H):"start"!==H&&w.id===p.id)||(Bj(d,p,H),U.add(p.id));else{var va;p="start"===
H?"startBinding":"endBinding";w=d[p];d=null==w?null:(jf(d,((va={})[p]=null,va)),w.elementId);null!=d&&ba.add(d)}},wg=function(d){d.forEach(function(p){ng(p)?Pf(p,Ng(p,"start"),Ng(p,"end")):vk(p)&&dm(p)})},dm=function(d){rh(d).forEach(function(p){var w=p[1];return Pf(p[0],"end"===w?"keep":d,"start"===w?"keep":d)})},gk=function(d,p,w,H){null!=p.startBoundElement&&Bj(d,p.startBoundElement,"start");p=$h(H,w);null==p||Ef(d,p,"end")||Bj(d,p,"end")},Bj=function(d,p,w){var H,U;jf(d,((H={})["start"===w?"startBinding":
"endBinding"]=function(ba){for(var va=1;va<arguments.length;va++){var ua=null!=arguments[va]?arguments[va]:{};va%2?Rb(Object(ua),!0).forEach(function(Ba){od()(ba,Ba,ua[Ba])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ba,Object.getOwnPropertyDescriptors(ua)):Rb(Object(ua)).forEach(function(Ba){Object.defineProperty(ba,Ba,Object.getOwnPropertyDescriptor(ua,Ba))})}return ba}({elementId:p.id},bf(d,p,w)),H));jf(p,{boundElementIds:Array.from(new Set(kn(null!==(U=p.boundElementIds)&&void 0!==
U?U:[],[d.id])))})},Ef=function(d,p,w){w=d["start"===w?"endBinding":"startBinding"];return(null==w?void 0:w.elementId)===p.id&&3>d.points.length},hh=function(d){d.forEach(function(p){ng(p)&&Pf(p,null,null)})},$h=function(d,p){return li(p.getElements(),function(w){return vk(w)&&Hk(w,d)})},bf=function(d,p,w){var H="start"===w?-1:1;w=-1===H?0:d.points.length-1;H=w-H;w=cg.getPointAtIndexGlobalCoordinates(d,w);H=cg.getPointAtIndexGlobalCoordinates(d,H);a:{d=Jl(p);H=Li(d,bk(H));d=Li(d,bk(w));var U=ij(dk(d,
H));d=p.height/p.width;H=p.width/2;var ba=p.height/2,va=U[2],ua=U[3];U=U[1];var Ba=Math.abs(ua),Ra=Math.abs(va);switch(p.type){case "rectangle":case "text":d=U/(H*(Ra+d*Ba));break a;case "diamond":d=Ba<Ra?U/(Ra*H):U/(Ba*ba);break a;case "ellipse":d=U/(H*Math.sqrt(Math.pow(va,2)+Math.pow(d,2)*Math.pow(ua,2)));break a}d=void 0}return{focus:d,gap:Math.max(1,bm(p,w))}},yi=function(d,p){var w,H=null!==(w=d.boundElementIds)&&void 0!==w?w:[];if(0!==H.length){p=null!=p?p:{};var U=p.newSize,ba=pj(p.simultaneouslyUpdated);
xh.getScene(d).getNonDeletedElements(H).forEach(function(va){var ua,Ba;if((null===(ua=va.startBinding)||void 0===ua?void 0:ua.elementId)===d.id||(null===(Ba=va.endBinding)||void 0===Ba?void 0:Ba.elementId)===d.id)ua=xf(d,va.startBinding,U),Ba=xf(d,va.endBinding,U),ba.has(va.id)?jf(va,{startBinding:ua,endBinding:Ba}):($m(va,"start",ua,d),$m(va,"end",Ba,d))})}},pj=function(d){return new Set((d||[]).map(function(p){return p.id}))},$m=function(d,p,w,H){var U;if(!(null==w||w.elementId!==H.id&&2<d.points.length)){var ba=
xh.getScene(d).getElement(w.elementId);if(null!=ba){var va="start"===p?-1:1;H=-1===va?0:d.points.length-1;var ua=cg.getPointAtIndexGlobalCoordinates(d,H-va);va=function(Ba,Ra,Ia){if(0===Ra){var ib=hg(Ba);ib=Ql(ib);return ei(ib)}ib=Jl(Ba);Ia=Li(ib,bk(Ia));ib=Ih(ib);switch(Ba.type){case "rectangle":case "text":case "diamond":var rb=nh(Ba,Ra,Ia);break;case "ellipse":var pb=Math.abs(Ra);rb=Ba.width*pb/2;Ba=Ba.height*pb/2;Ra=Math.sign(Ra);pb=ei(Ia);Ia=pb[0];pb=pb[1];pb=0===pb?1E-4:pb;var dc=Math.pow(Ia,
2)*Math.pow(Ba,2)+Math.pow(pb,2)*Math.pow(rb,2);Ra=(-Ia*Math.pow(Ba,2)+Ra*pb*Math.sqrt(Math.max(0,dc-Math.pow(rb,2)*Math.pow(Ba,2))))/dc;Ia=(-Ra*Ia-1)/pb;rb=-Math.pow(rb,2)*Ra/(Math.pow(Ia,2)*Math.pow(Ba,2)+Math.pow(Ra,2)*Math.pow(rb,2));rb=xi(rb,(-Ra*rb-1)/Ia)}return ei(Li(ib,rb))}(ba,w.focus,ua);0===w.gap?ba=va:(ba=function(Ba,Ra,Ia,ib){void 0===ib&&(ib=0);var rb=Jl(Ba);Ra=Li(rb,bk(Ra));Ia=Li(rb,bk(Ia));Ia=ij(dk(Ia,Ra));var pb=Ih(rb);return xk(Ba,Ia,Ra,ib).map(function(dc){return ei(Li(pb,dc))})}(ba,
ua,va,w.gap),ba=0===ba.length?va:ba[0]);cg.movePoint(d,H,cg.pointFromAbsoluteCoords(d,ba),((U={})["start"===p?"startBinding":"endBinding"]=w,U))}}},xf=function(d,p,w){if(null==p||null==w)return p;var H=p.gap,U=p.focus,ba=w.width;w=w.height;var va=d.width,ua=d.height;return{elementId:p.elementId,gap:Math.max(1,Math.min(Xi(d,ba,w),H*(ba<w?ba/va:w/ua))),focus:U}},Cl=function(d){return[Ng(d,"start"),Ng(d,"end")].filter(function(p){return null!=p})},Ng=function(d,p){return $h(Eg(cg.getPointAtIndexGlobalCoordinates(d,
"start"===p?0:-1)),xh.getScene(d))},rh=function(d){return xh.getScene(d).getElements().map(function(p){if(!ng(p))return null;var w=Vf(p,"start",d),H=Vf(p,"end",d);return w||H?[p,w&&H?"both":w?"start":"end",d]:null}).filter(function(p){return null!=p})},Vf=function(d,p,w){return null==d["start"===p?"startBinding":"endBinding"]&&!Ef(d,w,p)&&Hk(w,Eg(cg.getPointAtIndexGlobalCoordinates(d,"start"===p?0:-1)))},Tj=function(d,p,w,H){var U=new Set,ba=new Set,va="duplicatesServeAsOld"===H;p.forEach(function(ua){var Ba=
ua.boundElementIds;if(null!=Ba&&0<Ba.length&&(Ba.forEach(function(Ra){va&&!w.has(Ra)&&U.add(Ra)}),ba.add(w.get(ua.id))),ng(ua))null!=ua.startBinding&&(Ba=ua.startBinding.elementId,va&&!w.has(Ba)&&ba.add(Ba)),null!=ua.endBinding&&(Ba=ua.endBinding.elementId,va&&!w.has(Ba)&&ba.add(Ba)),null==ua.startBinding&&null==ua.endBinding||U.add(w.get(ua.id))});d.filter(function(ua){return U.has(ua.id)}).forEach(function(ua){var Ba=ua.endBinding;jf(ua,{startBinding:Fh(ua.startBinding,w),endBinding:Fh(Ba,w)})});
d.filter(function(ua){return ba.has(ua.id)}).forEach(function(ua){var Ba=ua.boundElementIds;null!=Ba&&0<Ba.length&&jf(ua,{boundElementIds:Ba.map(function(Ra){var Ia;return null!==(Ia=w.get(Ra))&&void 0!==Ia?Ia:Ra})})})},Fh=function(d,p){var w;if(null==d)return null;var H=d.elementId;return{focus:d.focus,gap:d.gap,elementId:null!==(w=p.get(H))&&void 0!==w?w:H}},qj=function(d,p){var w=new Set(p.map(function(U){return U.id})),H=new Set;p.forEach(function(U){var ba;vk(U)&&(null===(ba=U.boundElementIds)||
void 0===ba||ba.forEach(function(va){w.has(va)||H.add(va)}))});d.filter(function(U){return H.has(U.id)}).forEach(function(U){var ba=U.endBinding;jf(U,{startBinding:mm(U.startBinding,w),endBinding:mm(ba,w)})})},mm=function(d,p){return null==d||p.has(d.elementId)?null:d},rj=function(){for(var d=0,p=0,w=arguments.length;p<w;p++)d+=arguments[p].length;d=Array(d);var H=0;for(p=0;p<w;p++)for(var U=arguments[p],ba=0,va=U.length;ba<va;ba++,H++)d[H]=U[ba];return d},Qf=function(d){return d>=2*Math.PI?d-2*Math.PI:
d},kf=function(d,p,w){return Gg(d)?{points:Ei(0,p,Ei(1,w,d.points))}:{}},Og=function(d,p,w){p=p/d.width*d.fontSize;if(1>p)return null;d=Ui(d.text,Ti({fontSize:p,fontFamily:d.fontFamily}));return{size:p,baseline:d.baseline+(w-d.height)}},Dl=function(d,p,w,H){var U=Cg(d),ba=U[0],va=U[1],ua=U[2],Ba=U[3];switch(p){case "se":var Ra=Math.max((w-ba)/(ua-ba),(H-va)/(Ba-va));var Ia=function(rb,pb,dc){var Vb=pb[0];pb=pb[1];return{x:rb.x+(Vb-ba)*(Ra-1)+Vb-dc[0],y:rb.y+(pb-va)*(Ra-1)+pb-dc[1]}};break;case "nw":Ra=
Math.max((ua-w)/(ua-ba),(Ba-H)/(Ba-va));Ia=function(rb,pb,dc){var Vb=pb[2];pb=pb[3];return{x:rb.x-(ua-Vb)*(Ra-1)+Vb-dc[2],y:rb.y-(Ba-pb)*(Ra-1)+pb-dc[3]}};break;case "ne":Ra=Math.max((w-ba)/(ua-ba),(Ba-H)/(Ba-va));Ia=function(rb,pb,dc){var Vb=pb[0];pb=pb[3];return{x:rb.x+(Vb-ba)*(Ra-1)+Vb-dc[0],y:rb.y-(Ba-pb)*(Ra-1)+pb-dc[3]}};break;case "sw":Ra=Math.max((ua-w)/(ua-ba),(H-va)/(Ba-va)),Ia=function(rb,pb,dc){var Vb=pb[1];pb=pb[2];return{x:rb.x-(ua-pb)*(Ra-1)+pb-dc[2],y:rb.y+(Vb-va)*(Ra-1)+Vb-dc[1]}}}if(0<
Ra){var ib=d.reduce(function(rb,pb){if(!rb)return rb;var dc=pb.width*Ra,Vb=pb.height*Ra,Bc={};if("text"===pb.type){Bc=Og(pb,dc,Vb);if(null===Bc)return null;Bc={fontSize:Bc.size,baseline:Bc.baseline}}var fd=hg(pb),hd=kf(pb,dc,Vb);yi(pb,{newSize:{width:dc,height:Vb},simultaneouslyUpdated:d});var ud=Qg(Ac(Ac({},pb),hd),dc,Vb);pb=Ia(pb,fd,ud);return rj(rb,[Ac(Ac({width:dc,height:Vb,x:pb.x,y:pb.y},hd),Bc)])},[]);ib&&d.forEach(function(rb,pb){jf(rb,ib[pb])})}},ml=function(d,p,w,H,U,ba,va){var ua=5*Math.PI/
2+Math.atan2(H-va,w-ba);U&&(ua+=hc.ay/2,ua-=ua%hc.ay);p.forEach(function(Ba,Ra){var Ia,ib,rb=hg(Ba);Ra=(rb[0]+rb[2])/2;rb=(rb[1]+rb[3])/2;var pb=null!==(Ia=null===(ib=d.originalElements.get(Ba.id))||void 0===ib?void 0:ib.angle)&&void 0!==Ia?Ia:Ba.angle;Ia=Hf(Ra,rb,ba,va,ua+pb-Ba.angle);jf(Ba,{x:Ba.x+(Ia[0]-Ra),y:Ba.y+(Ia[1]-rb),angle:Qf(ua+pb)})})},ji=function(d,p,w,H,U,ba,va,ua,Ba,Ra){var Ia;Ba&&(va=(Ia=Xe(p,va,ba<H?-ua:ua)).width,0>(ua=Ia.height)&&(ua=-ua));p=U<w?w-va:w;ba=ba<H?H-ua:H;Ra&&(p=w-
(va+=va)/2,ba=H-(ua+=ua)/2);0!==va&&0!==ua&&jf(d,{x:p,y:ba,width:va,height:ua})},nl=function(d){return d.replace(/\t/g,"        ").replace(/\r?\n|\r/g,"\n")},nk=function(d){var p=Ui(d.text,Ti(d));jf(d,{width:p.width,height:p.height,baseline:p.baseline})},qh=function(d,p){return!(d.viewModeEnabled||!d.editingElement&&!uf(p,d).length&&"selection"===d.elementType)},Ik=function(d){return d.filter(function(p){return p.isDeleted||!Rh(p)})},Yi=function(d){return d.reduce(function(p,w){return p[w.id]=w,p},
{})},Zk=function(d){return d.reduce(function(p,w){return p+w.version},0)},fe=function(d){return d.filter(function(p){return!p.isDeleted})},Df=function(d){return fe(d).map(function(p){return ej(p.type)?yc(yc({},p),{},{lastCommittedPoint:null}):p})},ii=function(d,p,w){var H=[d.horizontal,d.vertical].map(function(U){return null!=U&&U.x<=p&&p<=U.x+U.width&&U.y<=w&&w<=U.y+U.height});d=H[0];H=H[1];return{isOverEither:d||H,isOverHorizontal:d,isOverVertical:H}},jg=function(d,p){return d.some(function(w){return p.selectedElementIds[w.id]})},
uf=function(d,p){return d.filter(function(w){return p.selectedElementIds[w.id]})},hk=function(d,p){return p.editingElement?[p.editingElement]:uf(d,p)},Vi=function(d){var p=d.scenePoint,w=d.viewportDimensions;d=d.zoom;return{scrollX:w.width/2*(1/d.value)-p.x-1/d.value*d.translation.x,scrollY:w.height/2*(1/d.value)-p.y-1/d.value*d.translation.y}},ki=function(d,p,w){var H;if(!d.length)return{scrollX:0,scrollY:0};var U=Cg(d);w=U[0];var ba=U[1],va=U[2];U=U[3];return function(ua,Ba,Ra){Ba=Ra[2];var Ia=
Ra[3],ib=lh({sceneX:Ra[0],sceneY:Ra[1]},ua);Ra=ib.x;ib=ib.y;Ba=lh({sceneX:Ba,sceneY:Ia},ua);Ia=Ba.y;return Ba.x-Ra>ua.width||Ia-ib>ua.height}(p,0,[w,ba,va,U])&&(w=(H=function(ua,Ba){if(!ua.length)return[0,0,0,0];var Ra=1/0,Ia=ua[0];return ua.forEach(function(ib){var rb=qi(ib);rb=Math.hypot(Ba.x-(rb[0]+rb[2])/2,Ba.y-(rb[1]+rb[3])/2);rb<Ra&&(Ra=rb,Ia=ib)}),qi(Ia)}(d,vg({clientX:p.scrollX,clientY:p.scrollY},p)))[0],ba=H[1],va=H[2],U=H[3]),Vi({scenePoint:{x:(w+va)/2,y:(ba+U)/2},viewportDimensions:{width:p.width,
height:p.height},zoom:p.zoom})},Mj=function(d){return"rectangle"===d||"ellipse"===d||"diamond"===d||"draw"===d||"line"===d},Uf=function(d){return"rectangle"===d||"ellipse"===d||"diamond"===d||"arrow"===d||"draw"===d||"line"===d},ok=function(d){return"rectangle"===d||"arrow"===d||"draw"===d||"line"===d},li=function(d,p){for(var w=null,H=d.length-1;0<=H;--H){var U=d[H];if(!U.isDeleted&&p(U)){w=U;break}}return w},ai=function(d,p,w,H){return void 0===H&&(H={x:0,y:0}),{value:d,translation:{x:H.x-w.left-
d/p.value*(H.x-w.left-p.translation.x),y:H.y-w.top-d/p.value*(H.y-w.top-p.translation.y)}}},Sj=function(d){d=parseFloat(d.toFixed(2));return Math.max(.1,Math.min(d,10))},gf=(h(9478),Ca().forwardRef(function(d,p){var w=Ca().useRef(null);Ca().useImperativeHandle(p,function(){return w.current});p="ToolIcon_size_".concat(d.size||"m");return"button"===d.type?Ca().createElement("button",{className:xc("ToolIcon_type_button",p,d.className,d.visible&&!d.hidden?"ToolIcon_type_button--show":"ToolIcon_type_button--hide",
{ToolIcon:!d.hidden,"ToolIcon--selected":d.selected}),hidden:d.hidden,title:d.title,"aria-label":d["aria-label"],type:"button",onClick:d.onClick,ref:w},Ca().createElement("div",{className:"ToolIcon__icon","aria-hidden":"true"},d.icon||d.label,d.keyBindingLabel&&Ca().createElement("span",{className:"ToolIcon__keybinding"},d.keyBindingLabel)),d.showAriaLabel&&Ca().createElement("div",{className:"ToolIcon__label"},d["aria-label"]),d.children):Ca().createElement("label",{className:xc("ToolIcon",d.className),
title:d.title},Ca().createElement("input",{className:"ToolIcon_type_radio ".concat(p),type:"radio",name:d.name,"aria-label":d["aria-label"],"aria-keyshortcuts":d["aria-keyshortcuts"],"data-testid":d["data-testid"],id:d.id,onChange:d.onChange,checked:d.checked,ref:w}),Ca().createElement("div",{className:"ToolIcon__icon"},d.icon,d.keyBindingLabel&&Ca().createElement("span",{className:"ToolIcon__keybinding"},d.keyBindingLabel)))}));gf.defaultProps={visible:!0,className:""};var Ag=function(d){return"light"===
d?Ee.$y[4]:Ee.$y[9]},ue=function(d){return"light"===d?Ee.Sn:Ee.MA[4]},Ig=function(d){return"light"===d?Ee.ix:"#1e1e1e"},ze=function(d,p){void 0===p&&(p=512);p="number"==typeof p?{width:p}:p;var w=p.width;w=void 0===w?512:w;var H=p.height;H=void 0===H?w:H;var U=p.mirror;p=p.style;return Ca().createElement("svg",{"aria-hidden":"true",focusable:"false",role:"img",viewBox:"0 0 ".concat(w," ").concat(H),className:xc({"rtl-mirror":U}),style:p},"string"==typeof d?Ca().createElement("path",{fill:"currentColor",
d}):d)},ol=ze("M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z",
{mirror:!0}),De=ze("M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z",{width:448,height:512}),Cm=ze("M252 54L203 8a28 27 0 00-20-8H28C12 0 0 12 0 27v195c0 15 12 26 28 26h204c15 0 28-11 28-26V73a28 27 0 00-8-19zM130 213c-21 0-37-16-37-36 0-19 16-35 37-35 20 0 37 16 37 35 0 20-17 36-37 36zm56-169v56c0 4-4 6-7 6H44c-4 0-7-2-7-6V42c0-4 3-7 7-7h133l4 2 3 2a7 7 0 012 5z M296 201l87 95-188 205-78 9c-10 1-19-8-18-20l9-84zm141-14l-41-44a31 31 0 00-46 0l-38 41 87 95 38-42c13-14 13-36 0-50z",
{width:448,height:512}),nm=ze("M572.694 292.093L500.27 416.248A63.997 63.997 0 0 1 444.989 448H45.025c-18.523 0-30.064-20.093-20.731-36.093l72.424-124.155A64 64 0 0 1 152 256h399.964c18.523 0 30.064 20.093 20.73 36.093zM152 224h328v-48c0-26.51-21.49-48-48-48H272l-64-64H48C21.49 64 0 85.49 0 112v278.046l69.077-118.418C86.214 242.25 117.989 224 152 224z",{width:576,height:512,mirror:!0}),qk=ze("M384 112v352c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h80c0-35.29 28.71-64 64-64s64 28.71 64 64h80c26.51 0 48 21.49 48 48zM192 40c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24m96 114v-20a6 6 0 0 0-6-6H102a6 6 0 0 0-6 6v20a6 6 0 0 0 6 6h180a6 6 0 0 0 6-6z",
{width:384,height:512}),Pi=ze("M32 464a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V128H32zm272-256a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zM432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16z",{width:448,height:512}),Mh=ze("M204.3 5C104.9 24.4 24.8 104.3 5.2 203.4c-37 187 131.7 326.4 258.8 306.7 41.2-6.4 61.4-54.6 42.5-91.7-23.1-45.4 9.9-98.4 60.9-98.4h79.7c35.8 0 64.8-29.6 64.9-65.3C511.5 97.1 368.1-26.9 204.3 5zM96 320c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm32-128c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128-64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z"),
sh=ze("M384 121.9c0-6.3-2.5-12.4-7-16.9L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128zM571 308l-95.7-96.4c-10.1-10.1-27.4-3-27.4 11.3V288h-64v64h64v65.2c0 14.3 17.3 21.4 27.4 11.3L571 332c6.6-6.6 6.6-17.4 0-24zm-379 28v-32c0-8.8 7.2-16 16-16h176V160H248c-13.2 0-24-10.8-24-24V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V352H208c-8.8 0-16-7.2-16-16z",{width:576,height:512,mirror:!0}),mi=ze("M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z",
{width:448,height:512}),Cj=ze("M416 208H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h384c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z",{width:448,height:512}),pk=ze("M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"),Nk=ze("M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"),
kh=ze("M255.545 8c-66.269.119-126.438 26.233-170.86 68.685L48.971 40.971C33.851 25.851 8 36.559 8 57.941V192c0 13.255 10.745 24 24 24h134.059c21.382 0 32.09-25.851 16.971-40.971l-41.75-41.75c30.864-28.899 70.801-44.907 113.23-45.273 92.398-.798 170.283 73.977 169.484 169.442C423.236 348.009 349.816 424 256 424c-41.127 0-79.997-14.678-110.63-41.556-4.743-4.161-11.906-3.908-16.368.553L89.34 422.659c-4.872 4.872-4.631 12.815.482 17.433C133.798 479.813 192.074 504 256 504c136.966 0 247.999-111.033 248-247.998C504.001 119.193 392.354 7.755 255.545 8z",
{mirror:!0}),Dj=ze("M256.455 8c66.269.119 126.437 26.233 170.859 68.685l35.715-35.715C478.149 25.851 504 36.559 504 57.941V192c0 13.255-10.745 24-24 24H345.941c-21.382 0-32.09-25.851-16.971-40.971l41.75-41.75c-30.864-28.899-70.801-44.907-113.23-45.273-92.398-.798-170.283 73.977-169.484 169.442C88.764 348.009 162.184 424 256 424c41.127 0 79.997-14.678 110.629-41.556 4.743-4.161 11.906-3.908 16.368.553l39.662 39.662c4.872 4.872 4.631 12.815-.482 17.433C378.202 479.813 319.926 504 256 504 119.034 504 8.001 392.967 8 256.002 7.999 119.193 119.646 7.755 256.455 8z",
{mirror:!0}),ed=ze("M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zM262.655 90c-54.497 0-89.255 22.957-116.549 63.758-3.536 5.286-2.353 12.415 2.715 16.258l34.699 26.31c5.205 3.947 12.621 3.008 16.665-2.122 17.864-22.658 30.113-35.797 57.303-35.797 20.429 0 45.698 13.148 45.698 32.958 0 14.976-12.363 22.667-32.534 33.976C247.128 238.528 216 254.941 216 296v4c0 6.627 5.373 12 12 12h56c6.627 0 12-5.373 12-12v-1.333c0-28.462 83.186-29.647 83.186-106.667 0-58.002-60.165-102-116.531-102zM256 338c-25.365 0-46 20.635-46 46 0 25.364 20.635 46 46 46s46-20.636 46-46c0-25.365-20.635-46-46-46z",
{mirror:!0}),$d=ze(Ca().createElement("path",{stroke:"currentColor",strokeWidth:"40",fill:"currentColor",d:"M148 560a318 318 0 0 0 522 110 316 316 0 0 0 0-450 316 316 0 0 0-450 0c-11 11-21 22-30 34v4h47c25 0 46 21 46 46s-21 45-46 45H90c-13 0-25-6-33-14-9-9-14-20-14-33V156c0-25 20-45 45-45s45 20 45 45v32l1 1a401 401 0 0 1 623 509l212 212a42 42 0 0 1-59 59L698 757A401 401 0 0 1 65 570a42 42 0 0 1 83-10z"}),{width:1024}),wd=Ca().memo(function(d){d=d.appearance;return ze(Ca().createElement(Ca().Fragment,
null,Ca().createElement("path",{d:"M22 9.556C22 8.696 21.303 8 20.444 8H16v8H8v4.444C8 21.304 8.697 22 9.556 22h10.888c.86 0 1.556-.697 1.556-1.556V9.556z",fill:ue(d),stroke:ue(d),strokeWidth:"2"}),Ca().createElement("path",{d:"M16 3.556C16 2.696 15.303 2 14.444 2H3.556C2.696 2 2 2.697 2 3.556v10.888C2 15.304 2.697 16 3.556 16h10.888c.86 0 1.556-.697 1.556-1.556V3.556z",fill:Ag(d),stroke:Ag(d),strokeWidth:"2"})),{width:24,mirror:!0})}),Id=Ca().memo(function(d){d=d.appearance;return ze(Ca().createElement(Ca().Fragment,
null,Ca().createElement("path",{d:"M16 3.556C16 2.696 15.303 2 14.444 2H3.556C2.696 2 2 2.697 2 3.556v10.888C2 15.304 2.697 16 3.556 16h10.888c.86 0 1.556-.697 1.556-1.556V3.556z",fill:Ag(d),stroke:Ag(d),strokeWidth:"2"}),Ca().createElement("path",{d:"M22 9.556C22 8.696 21.303 8 20.444 8H9.556C8.696 8 8 8.697 8 9.556v10.888C8 21.304 8.697 22 9.556 22h10.888c.86 0 1.556-.697 1.556-1.556V9.556z",fill:ue(d),stroke:ue(d),strokeWidth:"2"})),{width:24,mirror:!0})}),ni=Ca().memo(function(d){d=d.appearance;
return ze(Ca().createElement(Ca().Fragment,null,Ca().createElement("path",{d:"M13 21a1 1 0 001 1h7a1 1 0 001-1v-7a1 1 0 00-1-1h-3v5h-5v3zM11 3a1 1 0 00-1-1H3a1 1 0 00-1 1v7a1 1 0 001 1h3V6h5V3z",fill:ue(d),stroke:ue(d),strokeWidth:"2"}),Ca().createElement("path",{d:"M18 7.333C18 6.597 17.403 6 16.667 6H7.333C6.597 6 6 6.597 6 7.333v9.334C6 17.403 6.597 18 7.333 18h9.334c.736 0 1.333-.597 1.333-1.333V7.333z",fill:Ag(d),stroke:Ag(d),strokeWidth:"2"})),{width:24,mirror:!0})}),Gf=Ca().memo(function(d){d=
d.appearance;return ze(Ca().createElement(Ca().Fragment,null,Ca().createElement("path",{d:"M18 7.333C18 6.597 17.403 6 16.667 6H7.333C6.597 6 6 6.597 6 7.333v9.334C6 17.403 6.597 18 7.333 18h9.334c.736 0 1.333-.597 1.333-1.333V7.333z",fill:Ag(d),stroke:Ag(d),strokeLinejoin:"round",strokeWidth:"2"}),Ca().createElement("path",{d:"M11 3a1 1 0 00-1-1H3a1 1 0 00-1 1v7a1 1 0 001 1h8V3zM22 14a1 1 0 00-1-1h-7a1 1 0 00-1 1v7a1 1 0 001 1h8v-8z",fill:ue(d),stroke:ue(d),strokeLinejoin:"round",strokeWidth:"2"})),
{width:24,mirror:!0})}),Gh=Ca().memo(function(d){d=d.appearance;return ze(Ca().createElement(Ca().Fragment,null,Ca().createElement("path",{d:"M 2,5 H 22",fill:ue(d),stroke:ue(d),strokeWidth:"2",strokeLinecap:"round"}),Ca().createElement("path",{d:"M 6,7 C 5.446,7 5,7.446 5,8 v 9.999992 c 0,0.554 0.446,1 1,1 h 3.0000001 c 0.554,0 0.9999999,-0.446 0.9999999,-1 V 8 C 10,7.446 9.5540001,7 9.0000001,7 Z m 9,0 c -0.554,0 -1,0.446 -1,1 v 5.999992 c 0,0.554 0.446,1 1,1 h 3 c 0.554,0 1,-0.446 1,-1 V 8 C 19,7.446 18.554,7 18,7 Z",
fill:Ag(d),stroke:Ag(d),strokeWidth:"2"})),{width:24,mirror:!0})}),rg=Ca().memo(function(d){d=d.appearance;return ze(Ca().createElement(Ca().Fragment,null,Ca().createElement("path",{d:"M 2,19 H 22",fill:ue(d),stroke:ue(d),strokeWidth:"2",strokeLinecap:"round"}),Ca().createElement("path",{d:"m 6,16.999992 c -0.554,0 -1,-0.446 -1,-1 V 6 C 5,5.446 5.446,5 6,5 H 9.0000001 C 9.5540001,5 10,5.446 10,6 v 9.999992 c 0,0.554 -0.4459999,1 -0.9999999,1 z m 9,0 c -0.554,0 -1,-0.446 -1,-1 V 10 c 0,-0.554 0.446,-1 1,-1 h 3 c 0.554,0 1,0.446 1,1 v 5.999992 c 0,0.554 -0.446,1 -1,1 z",
fill:Ag(d),stroke:Ag(d),strokeWidth:"2"})),{width:24,mirror:!0})}),Nj=Ca().memo(function(d){d=d.appearance;return ze(Ca().createElement(Ca().Fragment,null,Ca().createElement("path",{d:"M 5,2 V 22",fill:ue(d),stroke:ue(d),strokeWidth:"2",strokeLinecap:"round"}),Ca().createElement("path",{d:"m 7.000004,5.999996 c 0,-0.554 0.446,-1 1,-1 h 9.999992 c 0.554,0 1,0.446 1,1 v 3.0000001 c 0,0.554 -0.446,0.9999999 -1,0.9999999 H 8.000004 c -0.554,0 -1,-0.4459999 -1,-0.9999999 z m 0,9 c 0,-0.554 0.446,-1 1,-1 h 5.999992 c 0.554,0 1,0.446 1,1 v 3 c 0,0.554 -0.446,1 -1,1 H 8.000004 c -0.554,0 -1,-0.446 -1,-1 z",
fill:Ag(d),stroke:Ag(d),strokeWidth:"2"})),{width:24})}),id=Ca().memo(function(d){d=d.appearance;return ze(Ca().createElement(Ca().Fragment,null,Ca().createElement("path",{d:"M 19,2 V 22",fill:ue(d),stroke:ue(d),strokeWidth:"2",strokeLinecap:"round"}),Ca().createElement("path",{d:"m 16.999996,5.999996 c 0,-0.554 -0.446,-1 -1,-1 H 6.000004 c -0.554,0 -1,0.446 -1,1 v 3.0000001 c 0,0.554 0.446,0.9999999 1,0.9999999 h 9.999992 c 0.554,0 1,-0.4459999 1,-0.9999999 z m 0,9 c 0,-0.554 -0.446,-1 -1,-1 h -5.999992 c -0.554,0 -1,0.446 -1,1 v 3 c 0,0.554 0.446,1 1,1 h 5.999992 c 0.554,0 1,-0.446 1,-1 z",
fill:Ag(d),stroke:Ag(d),strokeWidth:"2"})),{width:24})}),qd=Ca().memo(function(d){d=d.appearance;return ze(Ca().createElement(Ca().Fragment,null,Ca().createElement("path",{d:"M5 5V19Z",fill:"black"}),Ca().createElement("path",{d:"M19 5V19M5 5V19",stroke:ue(d),strokeWidth:"2",strokeLinecap:"round"}),Ca().createElement("path",{d:"M15 9C15.554 9 16 9.446 16 10V14C16 14.554 15.554 15 15 15H9C8.446 15 8 14.554 8 14V10C8 9.446 8.446 9 9 9H15Z",fill:Ag(d),stroke:Ag(d),strokeWidth:"2"})),{width:24})}),Pg=
Ca().memo(function(d){d=d.appearance;return ze(Ca().createElement(Ca().Fragment,null,Ca().createElement("path",{d:"M5 5L19 5M5 19H19",fill:ue(d),stroke:ue(d),strokeWidth:"2",strokeLinecap:"round"}),Ca().createElement("path",{d:"M15 9C15.554 9 16 9.446 16 10V14C16 14.554 15.554 15 15 15H9C8.446 15 8 14.554 8 14V10C8 9.446 8.446 9 9 9H15Z",fill:Ag(d),stroke:Ag(d),strokeWidth:"2"})),{width:24})}),$c=Ca().memo(function(d){d=d.appearance;return ze(Ca().createElement(Ca().Fragment,null,Ca().createElement("path",
{d:"m 5.000004,16.999996 c 0,0.554 0.446,1 1,1 h 3 c 0.554,0 1,-0.446 1,-1 v -10 c 0,-0.554 -0.446,-1 -1,-1 h -3 c -0.554,0 -1,0.446 -1,1 z m 9,-2 c 0,0.554 0.446,1 1,1 h 3 c 0.554,0 1,-0.446 1,-1 v -6 c 0,-0.554 -0.446,-1 -1,-1 h -3 c -0.554,0 -1,0.446 -1,1 z",fill:Ag(d),stroke:Ag(d),strokeWidth:"2"}),Ca().createElement("path",{d:"M 2,12 H 22",fill:ue(d),stroke:ue(d),strokeWidth:"2",strokeDasharray:"1, 2.8",strokeLinecap:"round"})),{width:24,mirror:!0})}),Ok=Ca().memo(function(d){d=d.appearance;
return ze(Ca().createElement(Ca().Fragment,null,Ca().createElement("path",{d:"M 7 5 C 6.446 5 6 5.446 6 6 L 6 9 C 6 9.554 6.446 10 7 10 L 17 10 C 17.554 10 18 9.554 18 9 L 18 6 C 18 5.446 17.554 5 17 5 L 7 5 z M 9 14 C 8.446 14 8 14.446 8 15 L 8 18 C 8 18.554 8.446 19 9 19 L 15 19 C 15.554 19 16 18.554 16 18 L 16 15 C 16 14.446 15.554 14 15 14 L 9 14 z ",fill:Ag(d),stroke:Ag(d),strokeWidth:"2"}),Ca().createElement("path",{d:"M 12,2 V 22",fill:ue(d),stroke:ue(d),strokeWidth:"2",strokeDasharray:"1, 2.8",
strokeLinecap:"round"})),{width:24})}),El=ze("M192 256c61.9 0 112-50.1 112-112S253.9 32 192 32 80 82.1 80 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C51.6 288 0 339.6 0 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zM480 256c53 0 96-43 96-96s-43-96-96-96-96 43-96 96 43 96 96 96zm48 32h-3.8c-13.9 4.8-28.6 8-44.2 8s-30.3-3.2-44.2-8H432c-20.4 0-39.2 5.9-55.7 15.4 24.4 26.3 39.7 61.2 39.7 99.8v38.4c0 2.2-.5 4.3-.6 6.4H592c26.5 0 48-21.5 48-48 0-61.9-50.1-112-112-112z",
{width:640,height:512,mirror:!0}),sj=(ze("M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm115.7 272l-176 101c-15.8 8.8-35.7-2.5-35.7-21V152c0-18.4 19.8-29.8 35.7-21l176 107c16.4 9.2 16.4 32.9 0 42z"),ze("M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm96 328c0 8.8-7.2 16-16 16H176c-8.8 0-16-7.2-16-16V176c0-8.8 7.2-16 16-16h160c8.8 0 16 7.2 16 16v160z"),ze("M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z",
{width:352,height:512})),jh=ze("M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z",{width:320,height:512,style:{marginLeft:"-0.2rem"},mirror:!0}),tg=ze("M464 0c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48H176c-26.51 0-48-21.49-48-48V48c0-26.51 21.49-48 48-48h288M176 416c-44.112 0-80-35.888-80-80V128H48c-26.51 0-48 21.49-48 48v288c0 26.51 21.49 48 48 48h288c26.51 0 48-21.49 48-48v-48H176z",
{mirror:!0}),Xd=ze("M11.553 22.894a.998.998 0 00.894 0s3.037-1.516 5.465-4.097C19.616 16.987 21 14.663 21 12V5a1 1 0 00-.649-.936l-8-3a.998.998 0 00-.702 0l-8 3A1 1 0 003 5v7c0 2.663 1.384 4.987 3.088 6.797 2.428 2.581 5.465 4.097 5.465 4.097zm-1.303-8.481l6.644-6.644a.856.856 0 111.212 1.212l-7.25 7.25a.856.856 0 01-1.212 0l-3.75-3.75a.856.856 0 111.212-1.212l3.144 3.144z",{width:24}),sf=Ca().memo(function(d){d=d.appearance;return ze(Ca().createElement(Ca().Fragment,null,Ca().createElement("path",
{d:"M25 26H111V111H25",fill:ue(d)}),Ca().createElement("path",{d:"M25 111C25 80.2068 25 49.4135 25 26M25 26C48.6174 26 72.2348 26 111 26H25ZM25 26C53.3671 26 81.7343 26 111 26H25ZM111 26C111 52.303 111 78.606 111 111V26ZM111 26C111 51.2947 111 76.5893 111 111V26ZM111 111C87.0792 111 63.1585 111 25 111H111ZM111 111C87.4646 111 63.9293 111 25 111H111ZM25 111C25 81.1514 25 51.3028 25 26V111Z",stroke:ue(d),strokeWidth:"2"}),Ca().createElement("path",{d:"M100 100H160V160H100",fill:ue(d)}),Ca().createElement("path",
{d:"M100 160C100 144.106 100 128.211 100 100M100 100C117.706 100 135.412 100 160 100H100ZM100 100C114.214 100 128.428 100 160 100H100ZM160 100C160 120.184 160 140.369 160 160V100ZM160 100C160 113.219 160 126.437 160 160V100ZM160 160C145.534 160 131.068 160 100 160H160ZM160 160C143.467 160 126.934 160 100 160H160ZM100 160C100 143.661 100 127.321 100 100V160Z",stroke:ue(d),strokeWidth:"2"}),Ca().createElement("rect",{x:"2.5",y:"2.5",width:"30",height:"30",fill:Ig(d),stroke:ue(d),strokeWidth:"6"}),Ca().createElement("rect",
{x:"2.5",y:"149.5",width:"30",height:"30",fill:Ig(d),stroke:ue(d),strokeWidth:"6"}),Ca().createElement("rect",{x:"147.5",y:"149.5",width:"30",height:"30",fill:Ig(d),stroke:ue(d),strokeWidth:"6"}),Ca().createElement("rect",{x:"147.5",y:"2.5",width:"30",height:"30",fill:Ig(d),stroke:ue(d),strokeWidth:"6"})),{width:182,height:182,mirror:!0})}),Jk=Ca().memo(function(d){d=d.appearance;return ze(Ca().createElement(Ca().Fragment,null,Ca().createElement("path",{d:"M25 26H111V111H25",fill:ue(d)}),Ca().createElement("path",
{d:"M25 111C25 80.2068 25 49.4135 25 26M25 26C48.6174 26 72.2348 26 111 26H25ZM25 26C53.3671 26 81.7343 26 111 26H25ZM111 26C111 52.303 111 78.606 111 111V26ZM111 26C111 51.2947 111 76.5893 111 111V26ZM111 111C87.0792 111 63.1585 111 25 111H111ZM111 111C87.4646 111 63.9293 111 25 111H111ZM25 111C25 81.1514 25 51.3028 25 26V111Z",stroke:ue(d),strokeWidth:"2"}),Ca().createElement("path",{d:"M100 100H160V160H100",fill:ue(d)}),Ca().createElement("path",{d:"M100 160C100 144.106 100 128.211 100 100M100 100C117.706 100 135.412 100 160 100H100ZM100 100C114.214 100 128.428 100 160 100H100ZM160 100C160 120.184 160 140.369 160 160V100ZM160 100C160 113.219 160 126.437 160 160V100ZM160 160C145.534 160 131.068 160 100 160H160ZM160 160C143.467 160 126.934 160 100 160H160ZM100 160C100 143.661 100 127.321 100 100V160Z",
stroke:ue(d),strokeWidth:"2"}),Ca().createElement("rect",{x:"2.5",y:"2.5",width:"30",height:"30",fill:Ig(d),stroke:ue(d),strokeWidth:"6"}),Ca().createElement("rect",{x:"78.5",y:"149.5",width:"30",height:"30",fill:Ig(d),stroke:ue(d),strokeWidth:"6"}),Ca().createElement("rect",{x:"147.5",y:"149.5",width:"30",height:"30",fill:Ig(d),stroke:ue(d),strokeWidth:"6"}),Ca().createElement("rect",{x:"147.5",y:"78.5",width:"30",height:"30",fill:Ig(d),stroke:ue(d),strokeWidth:"6"}),Ca().createElement("rect",{x:"105.5",
y:"2.5",width:"30",height:"30",fill:Ig(d),stroke:ue(d),strokeWidth:"6"}),Ca().createElement("rect",{x:"2.5",y:"102.5",width:"30",height:"30",fill:Ig(d),stroke:ue(d),strokeWidth:"6"})),{width:182,height:182,mirror:!0})}),Pk=Ca().memo(function(d){d=d.appearance;return ze(Ca().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.101 16H28.0934L36 8.95989V4H33.5779L20.101 16ZM30.5704 4L17.0935 16H9.10101L22.5779 4H30.5704ZM19.5704 4L6.09349 16H4V10.7475L11.5779 4H19.5704ZM8.57036 4H4V8.06952L8.57036 4ZM36 11.6378L31.101 16H36V11.6378ZM2 2V18H38V2H2Z",
fill:ue(d)}),{width:40,height:20})}),ge=Ca().memo(function(d){d=d.appearance;return ze(Ca().createElement("g",{fill:ue(d),fillRule:"evenodd",clipRule:"evenodd"},Ca().createElement("path",{d:"M20.101 16H28.0934L36 8.95989V4H33.5779L20.101 16ZM30.5704 4L17.0935 16H9.10101L22.5779 4H30.5704ZM19.5704 4L6.09349 16H4V10.7475L11.5779 4H19.5704ZM8.57036 4H4V8.06952L8.57036 4ZM36 11.6378L31.101 16H36V11.6378ZM2 2V18H38V2H2Z"}),Ca().createElement("path",{d:"M14.0001 18L3.00006 4.00002L4.5727 2.76438L15.5727 16.7644L14.0001 18ZM25.0001 18L14.0001 4.00002L15.5727 2.76438L26.5727 16.7644L25.0001 18ZM36.0001 18L25.0001 4.00002L26.5727 2.76438L37.5727 16.7644L36.0001 18Z"})),
{width:40,height:20})}),om=Ca().memo(function(d){d=d.appearance;return ze(Ca().createElement("path",{d:"M2 2H38V18H2V2Z",fill:ue(d)}),{width:40,height:20})}),Zi=Ca().memo(function(d){var p=d.appearance;d=d.strokeWidth;return ze(Ca().createElement("path",{d:"M6 10H34",stroke:ue(p),strokeWidth:d,fill:"none"}),{width:40,height:20})}),Zd=Ca().memo(function(d){d=d.appearance;return ze(Ca().createElement("path",{d:"M6 10H34",stroke:ue(d),strokeWidth:2,fill:"none"}),{width:40,height:20})}),$k=Ca().memo(function(d){d=
d.appearance;return ze(Ca().createElement("path",{d:"M6 10H34",stroke:ue(d),strokeWidth:2.5,strokeDasharray:"10, 8",fill:"none"}),{width:40,height:20})}),dg=Ca().memo(function(d){d=d.appearance;return ze(Ca().createElement("path",{d:"M6 10H34",stroke:ue(d),strokeWidth:2.5,strokeDasharray:"4, 4",fill:"none"}),{width:40,height:20})}),Qi=Ca().memo(function(d){d=d.appearance;return ze(Ca().createElement("path",{d:"M3.00098 16.1691C6.28774 13.9744 19.6399 2.8905 22.7215 3.00082C25.8041 3.11113 19.1158 15.5488 21.4962 16.8309C23.8757 18.1131 34.4155 11.7148 37.0001 10.6919",
stroke:ue(d),strokeWidth:2,fill:"none"}),{width:40,height:20,mirror:!0})}),xm=Ca().memo(function(d){d=d.appearance;return ze(Ca().createElement("path",{d:"M3 17C6.68158 14.8752 16.1296 9.09849 22.0648 6.54922C28 3.99995 22.2896 13.3209 25 14C27.7104 14.6791 36.3757 9.6471 36.3757 9.6471M6.40706 15C13 11.1918 20.0468 1.51045 23.0234 3.0052C26 4.49995 20.457 12.8659 22.7285 16.4329C25 20 36.3757 13 36.3757 13",stroke:ue(d),strokeWidth:2,fill:"none"}),{width:40,height:20,mirror:!0})}),rk=Ca().memo(function(d){d=
d.appearance;return ze(Ca().createElement("path",{d:"M3 15.6468C6.93692 13.5378 22.5544 2.81528 26.6206 3.00242C30.6877 3.18956 25.6708 15.3346 27.4009 16.7705C29.1309 18.2055 35.4001 12.4762 37 11.6177M3.97143 10.4917C6.61158 9.24563 16.3706 2.61886 19.8104 3.01724C23.2522 3.41472 22.0773 12.2013 24.6181 12.8783C27.1598 13.5536 33.3179 8.04068 35.0571 7.07244",stroke:ue(d),strokeWidth:2,fill:"none"}),{width:40,height:20,mirror:!0})}),al=Ca().memo(function(d){d=d.appearance;return ze(Ca().createElement("path",
{d:"M10 17L10 5L35 5",stroke:ue(d),strokeWidth:2,fill:"none"}),{width:40,height:20,mirror:!0})}),Qk=Ca().memo(function(d){d=d.appearance;return ze(Ca().createElement("path",{d:"M10 17V15C10 8 13 5 21 5L33.5 5",stroke:ue(d),strokeWidth:2,fill:"none"}),{width:40,height:20,mirror:!0})}),Kk=Ca().memo(function(d){d=d.appearance;return ze(Ca().createElement("path",{d:"M6 10H34",stroke:ue(d),strokeWidth:2,fill:"none"}),{width:40,height:20})}),Hh=Ca().memo(function(d){var p=d.appearance;d=d.flip;d=void 0!==
d&&d;return ze(Ca().createElement("g",{transform:d?"translate(40, 0) scale(-1, 1)":"",stroke:ue(p),strokeWidth:2,fill:"none"},Ca().createElement("path",{d:"M34 10H6M34 10L27 5M34 10L27 15"}),Ca().createElement("path",{d:"M27.5 5L34.5 10L27.5 15"})),{width:40,height:20})}),Om=Ca().memo(function(d){var p=d.appearance;d=d.flip;d=void 0!==d&&d;return ze(Ca().createElement("g",{stroke:ue(p),fill:ue(p),transform:d?"translate(40, 0) scale(-1, 1)":""},Ca().createElement("path",{d:"M32 10L6 10",strokeWidth:2}),
Ca().createElement("circle",{r:"4",transform:"matrix(-1 0 0 1 30 10)"})),{width:40,height:20})}),Fj=Ca().memo(function(d){var p=d.appearance;d=d.flip;d=void 0!==d&&d;return ze(Ca().createElement("g",{transform:d?"translate(40, 0) scale(-1, 1)":""},Ca().createElement("path",{d:"M34 10H5.99996M34 10L34 5M34 10L34 15",stroke:ue(p),strokeWidth:2,fill:"none"})),{width:40,height:20})}),ig=[],ne=function(d){return ig=ig.concat(d),d},oh=function(d,p){var w;return d.editingGroupId&&(p=Zj(fe(p),d.editingGroupId),
p.length)?Wc(Wc({},d),{},{selectedElementIds:(w={},w[p[0].id]=!0,w)}):d},Sg=ne({name:"deleteSelectedElements",perform:function(d,p){if(p.editingLinearElement){var w=p.editingLinearElement,H=w.activePointIndex,U=w.startBindingElement,ba=w.endBindingElement,va=cg.getElement(w.elementId);if(!va)return!1;if(null==H||-1===H||2>va.points.length)return d=d.filter(function(ua){return ua.id!==va.id}),{elements:d,appState:Wc(Wc({},oh(p,d)),{},{editingLinearElement:null}),commitToHistory:!1};w={startBindingElement:0===
H?null:U,endBindingElement:H===va.points.length-1?null:ba};return cg.movePoint(va,H,"delete"),{elements:d,appState:Wc(Wc({},p),{},{editingLinearElement:Wc(Wc(Wc({},p.editingLinearElement),w),{},{activePointIndex:0<H?H-1:0})}),commitToHistory:!0}}w=function(ua,Ba){return{elements:ua.map(function(Ra){return Ba.selectedElementIds[Ra.id]?zg(Ra,{isDeleted:!0}):Ra}),appState:Wc(Wc({},Ba),{},{selectedElementIds:{}})}}(d,p);H=w.elements;w=w.appState;return qj(H,d.filter(function(ua){return p.selectedElementIds[ua.id]})),
{elements:H,appState:Wc(Wc({},w=oh(w,H)),{},{elementType:"selection",multiElement:null}),commitToHistory:jg(fe(d),p)}},contextItemLabel:"labels.delete",keyTest:function(d){return"Backspace"===d.key||"Delete"===d.key},PanelComponent:function(d){var p=d.elements,w=d.appState,H=d.updateData;return Ca().createElement(gf,{type:"button",icon:Pi,title:cb("labels.delete"),"aria-label":cb("labels.delete"),onClick:function(){return H(null)},visible:jg(fe(p),w)})}}),pl=function(){for(var d=0,p=0,w=arguments.length;p<
w;p++)d+=arguments[p].length;d=Array(d);var H=0;for(p=0;p<w;p++)for(var U=arguments[p],ba=0,va=U.length;ba<va;ba++,H++)d[H]=U[ba];return d},Sl=function(d,p){for(var w=[],H=[],U=null,ba=-1;++ba<d.length;)p.selectedElementIds[d[ba].id]?(H.length&&(w=w.concat(H),H=[]),w.push(ba),U=ba+1):d[ba].isDeleted&&U===ba?(U=ba+1,H.push(ba)):H=[];return w},Nh=function(d,p,w,H){var U=p[w],ba=function(va){return!va.isDeleted&&(!d.editingGroupId||va.groupIds.includes(d.editingGroupId))};w="left"===H?function(va,ua,
Ba){void 0===Ba&&(Ba=va.length-1);0>Ba&&(Ba=va.length+Ba);for(Ba=Math.min(va.length-1,Math.max(Ba,0))+1;-1<--Ba;)if(ua(va[Ba],Ba,va))return Ba;return-1}(p,ba,Math.max(0,w-1)):function(va,ua,Ba){void 0===Ba&&(Ba=0);0>Ba&&(Ba=va.length+Ba);for(Ba=Math.min(va.length,Math.max(Ba,0))-1;++Ba<va.length;)if(ua(va[Ba],Ba,va))return Ba;return-1}(p,ba,w+1);ba=p[w];if(!ba)return-1;if(d.editingGroupId){if((null==U?void 0:U.groupIds.join(""))===(null==ba?void 0:ba.groupIds.join("")))return w;if(null==ba||!ba.groupIds.includes(d.editingGroupId))return-1}if(!ba.groupIds.length)return w;
U=d.editingGroupId?ba.groupIds[ba.groupIds.indexOf(d.editingGroupId)-1]:ba.groupIds[ba.groupIds.length-1];U=Zj(p,U);return U.length?"left"===H?p.indexOf(U[0]):p.indexOf(U[U.length-1]):w},pe=function(d,p,w){var H,U=Sl(p,d),ba=(H=0,U.reduce(function(va,ua,Ba){return 0<Ba&&U[Ba-1]!==ua-1&&(H=++H),(va[H]||(va[H]=[])).push(ua),va},[]));return"right"===w&&(ba=ba.reverse()),ba.forEach(function(va,ua){ua=va[0];va=va[va.length-1];var Ba="left"===w?ua:va,Ra=Nh(d,p,Ba,w);if(-1!==Ra&&Ba!==Ra){Ba="left"===w?p.slice(0,
Ra):p.slice(0,ua);var Ia=p.slice(ua,va+1);ua="left"===w?p.slice(Ra,ua):p.slice(va+1,Ra+1);va="left"===w?p.slice(va+1):p.slice(Ra+1);p="left"===w?pl(Ba,Ia,ua,va):pl(Ba,ua,Ia,va)}}),p},Xg=function(d,p,w){var H=Sl(d,p),U=[],ba=[];if("left"===w){if(p.editingGroupId){if(!(p=Zj(d,p.editingGroupId)).length)return d;var va=d.indexOf(p[0])}else va=0;p=H[H.length-1]}else{if(p.editingGroupId){if(!(p=Zj(d,p.editingGroupId)).length)return d;p=d.indexOf(p[p.length-1])}else p=d.length-1;va=H[0]}for(var ua=va;ua<
p+1;ua++)H.includes(ua)?U.push(d[ua]):ba.push(d[ua]);H=d.slice(0,va);d=d.slice(p+1);return"left"===w?pl(H,U,ba,d):pl(H,ba,U,d)},ym=ne({name:"sendBackward",perform:function(d,p){return{elements:pe(p,d.slice(),"left"),appState:p,commitToHistory:!0}},contextItemLabel:"labels.sendBackward",keyPriority:40,keyTest:function(d){return d[cf]&&!d.shiftKey&&"BracketLeft"===d.code},PanelComponent:function(d){var p=d.updateData;d=d.appState;return Ca().createElement("button",{type:"button",className:"zIndexButton",
onClick:function(){return p(null)},title:"".concat(cb("labels.sendBackward")," — ").concat(Vd("CtrlOrCmd+["))},Ca().createElement(Id,{appearance:d.appearance}))}}),ql=ne({name:"bringForward",perform:function(d,p){return{elements:pe(p,d.slice(),"right"),appState:p,commitToHistory:!0}},contextItemLabel:"labels.bringForward",keyPriority:40,keyTest:function(d){return d[cf]&&!d.shiftKey&&"BracketRight"===d.code},PanelComponent:function(d){var p=d.updateData;d=d.appState;return Ca().createElement("button",
{type:"button",className:"zIndexButton",onClick:function(){return p(null)},title:"".concat(cb("labels.bringForward")," — ").concat(Vd("CtrlOrCmd+]"))},Ca().createElement(wd,{appearance:d.appearance}))}}),m=ne({name:"sendToBack",perform:function(d,p){return{elements:Xg(d,p,"left"),appState:p,commitToHistory:!0}},contextItemLabel:"labels.sendToBack",keyTest:function(d){return Lg?d[cf]&&d.altKey&&"BracketLeft"===d.code:d[cf]&&d.shiftKey&&"BracketLeft"===d.code},PanelComponent:function(d){var p=d.updateData;
d=d.appState;return Ca().createElement("button",{type:"button",className:"zIndexButton",onClick:function(){return p(null)},title:"".concat(cb("labels.sendToBack")," — ").concat(Vd(Lg?"CtrlOrCmd+Alt+[":"CtrlOrCmd+Shift+["))},Ca().createElement(Gf,{appearance:d.appearance}))}}),F=ne({name:"bringToFront",perform:function(d,p){return{elements:Xg(d,p,"right"),appState:p,commitToHistory:!0}},contextItemLabel:"labels.bringToFront",keyTest:function(d){return Lg?d[cf]&&d.altKey&&"BracketRight"===d.code:d[cf]&&
d.shiftKey&&"BracketRight"===d.code},PanelComponent:function(d){var p=d.updateData;d=d.appState;return Ca().createElement("button",{type:"button",className:"zIndexButton",onClick:function(w){return p(null)},title:"".concat(cb("labels.bringToFront")," — ").concat(Vd(Lg?"CtrlOrCmd+Alt+]":"CtrlOrCmd+Shift+]"))},Ca().createElement(ni,{appearance:d.appearance}))}}),ca=ne({name:"selectAll",perform:function(d,p){return!p.editingLinearElement&&{appState:Vh(kd(kd({},p),{},{editingGroupId:null,selectedElementIds:d.reduce(function(w,
H){return H.isDeleted||(w[H.id]=!0),w},{})}),fe(d)),commitToHistory:!0}},contextItemLabel:"labels.selectAll",keyTest:function(d){return d[cf]&&"a"===d.key}}),X=function(){for(var d=0,p=0,w=arguments.length;p<w;p++)d+=arguments[p].length;d=Array(d);var H=0;for(p=0;p<w;p++)for(var U=arguments[p],ba=0,va=U.length;ba<va;ba++,H++)d[H]=U[ba];return d},na=ne({name:"duplicateSelection",perform:function(d,p){if(p.editingLinearElement){var w=p.editingLinearElement,H=w.activePointIndex;w=cg.getElement(w.elementId);
if(!w||null===H)return!1;var U=w.points,ba=U[H],va=U[H+1];return jf(w,{points:X(U.slice(0,H+1),[va?[(ba[0]+va[0])/2,(ba[1]+va[1])/2]:[ba[0]+30,ba[1]+30]],U.slice(H+1))}),{appState:te(te({},p),{},{editingLinearElement:te(te({},p.editingLinearElement),{},{activePointIndex:H+1})}),elements:d,commitToHistory:!0}}return te(te({},Da(d,p)),{},{commitToHistory:!0})},contextItemLabel:"labels.duplicateSelection",keyTest:function(d){return d[cf]&&"d"===d.key},PanelComponent:function(d){var p=d.elements,w=d.appState,
H=d.updateData;return Ca().createElement(gf,{type:"button",icon:tg,title:"".concat(cb("labels.duplicateSelection")," — ").concat(Vd("CtrlOrCmd+D")),"aria-label":cb("labels.duplicateSelection"),onClick:function(){return H(null)},visible:jg(fe(p),w)})}}),Da=function(d,p){for(var w=new Map,H=[],U=[],ba=new Map,va=function(ib){var rb=Wi(p.editingGroupId,w,ib,{x:ib.x+hc.k/2,y:ib.y+hc.k/2});return ba.set(ib.id,rb.id),U.push(ib),H.push(rb),rb},ua=[],Ba=0;Ba<d.length;){var Ra=d[Ba];if(p.selectedElementIds[Ra.id]){if(Ra.groupIds.length){var Ia=
yh(p,Ra);if(Ia){Ra=Zj(d,Ia);ua.push.apply(ua,X(Ra,Ra.map(function(ib){return va(ib)})));Ba+=Ra.length;continue}}ua.push(Ra,va(Ra))}else ua.push(Ra);Ba++}return Tj(ua,U,ba),{elements:ua,appState:Vh(te(te({},p),{},{selectedGroupIds:{},selectedElementIds:H.reduce(function(ib,rb){return ib[rb.id]=!0,ib},{})}),fe(ua))}},Oa=function(d){var p=d.options,w=d.value,H=d.onChange,U=d.group;return Ca().createElement("div",{className:"buttonList buttonListIcon"},p.map(function(ba){return Ca().createElement("label",
{key:ba.text,className:xc({active:w===ba.value}),title:ba.text},Ca().createElement("input",{type:"radio",name:U,onChange:function(){return H(ba.value)},checked:w===ba.value}),ba.icon)}))},Sa=function(d){var p=d.options,w=d.value,H=d.onChange,U=d.group;return Ca().createElement("div",{className:"buttonList"},p.map(function(ba){return Ca().createElement("label",{key:ba.text,className:xc({active:w===ba.value})},Ca().createElement("input",{type:"radio",name:U,onChange:function(){return H(ba.value)},checked:w===
ba.value}),ba.text)}))},gb=(h(2816),function(d){var p=d.children,w=d.left,H=d.top,U=d.onCloseRequest;d=d.fitInViewport;var ba=void 0!==d&&d,va=(0,jc.useRef)(null);return(0,jc.useLayoutEffect)(function(){if(ba&&va.current){var ua=va.current,Ba=ua.getBoundingClientRect(),Ra=Ba.y,Ia=Ba.width,ib=Ba.height,rb=window.innerWidth;Ba.x+Ia>rb&&(ua.style.left="".concat(rb-Ia,"px"));Ba=window.innerHeight;Ra+ib>Ba&&(ua.style.top="".concat(Ba-ib,"px"))}},[ba]),(0,jc.useEffect)(function(){if(U){var ua=function(Ba){var Ra;
null!==(Ra=va.current)&&void 0!==Ra&&Ra.contains(Ba.target)||(0,Zf.unstable_batchedUpdates)(function(){return U(Ba)})};return document.addEventListener("pointerdown",ua,!1),function(){return document.removeEventListener("pointerdown",ua,!1)}}},[U]),Ca().createElement("div",{className:"popover",style:{top:H,left:w},ref:va},p)}),Db=(h(5574),function(d){var p=(new Option).style;return p.color=d,!!p.color}),Fb=[["1","2","3","4","5"],["q","w","e","r","t"],["a","s","d","f","g"]].flat(),uc=function(d){var p=
d.colors,w=d.color,H=d.onChange,U=d.onClose,ba=d.label,va=d.showInput,ua=void 0===va||va;d=d.type;var Ba=Ca().useRef(),Ra=Ca().useRef(),Ia=Ca().useRef(),ib=Ca().useRef();Ca().useEffect(function(){Ra.current?Ra.current.focus():ib.current?ib.current.focus():Ia.current&&Ia.current.focus()},[]);return Ca().createElement("div",{className:"color-picker color-picker-type-".concat(d),role:"dialog","aria-modal":"true","aria-label":cb("labels.colorPicker"),onKeyDown:function(rb){if("Tab"===rb.key){var pb,dc=
document.activeElement;if(rb.shiftKey)dc===Ba.current&&(null===(pb=ib.current)||void 0===pb||pb.focus(),rb.preventDefault());else if(dc===ib.current){var Vb;null===(Vb=Ba.current)||void 0===Vb||Vb.focus();rb.preventDefault()}}else yg(rb.key)?(dc=document.activeElement,pb=ra.rtl,-1!==(Vb=Array.prototype.indexOf.call(Ia.current.children,dc))&&(dc=Ia.current.children.length-(ua?1:0),Ia.current.children[rb.key===(pb?"ArrowLeft":"ArrowRight")?(Vb+1)%dc:rb.key===(pb?"ArrowRight":"ArrowLeft")?(dc+Vb-1)%
dc:"ArrowDown"===rb.key?(Vb+5)%dc:"ArrowUp"===rb.key?(dc+Vb-5)%dc:Vb].focus()),rb.preventDefault()):Fb.includes(rb.key.toLowerCase())&&!Dg(rb.target)?(Vb=Fb.indexOf(rb.key.toLowerCase()),Ia.current.children[Vb].focus(),rb.preventDefault()):"Escape"!==rb.key&&"Enter"!==rb.key||(rb.preventDefault(),U());rb.nativeEvent.stopImmediatePropagation()}},Ca().createElement("div",{className:"color-picker-triangle color-picker-triangle-shadow"}),Ca().createElement("div",{className:"color-picker-triangle"}),Ca().createElement("div",
{className:"color-picker-content",ref:function(rb){rb&&(Ia.current=rb)},tabIndex:0},p.map(function(rb,pb){return Ca().createElement("button",{className:"color-picker-swatch",onClick:function(dc){dc.currentTarget.focus();H(rb)},title:"".concat(rb," — ").concat(Fb[pb].toUpperCase()),"aria-label":rb,"aria-keyshortcuts":Fb[pb],style:{color:rb},key:rb,ref:function(dc){dc&&0===pb&&(Ba.current=dc);dc&&rb===w&&(Ra.current=dc)},onFocus:function(){H(rb)}},"transparent"===rb?Ca().createElement("div",{className:"color-picker-transparent"}):
void 0,Ca().createElement("span",{className:"color-picker-keybinding"},Fb[pb]))}),ua&&Ca().createElement(zc,{color:w,label:ba,onChange:function(rb){H(rb)},ref:ib})))},zc=Ca().forwardRef(function(d,p){var w=d.color,H=d.onChange;d=d.label;var U=Ca().useState(w),ba=U[0],va=U[1],ua=Ca().useRef(null);Ca().useEffect(function(){va(w)},[w]);Ca().useImperativeHandle(p,function(){return ua.current});var Ba=Ca().useCallback(function(Ra){Ra=Ra.toLowerCase();var Ia;(Ia="transparent"===Ra||Db(Ra)?Ra:Db("#".concat(Ra))?
"#".concat(Ra):null)&&H(Ia);va(Ra)},[H]);return Ca().createElement("label",{className:"color-input-container"},Ca().createElement("div",{className:"color-picker-hash"},"#"),Ca().createElement("input",{spellCheck:!1,className:"color-picker-input","aria-label":d,onChange:function(Ra){return Ba(Ra.target.value)},value:(ba||"").replace(/^#/,""),onBlur:function(){return va(w)},ref:ua}))}),lc=function(d){var p=d.type,w=d.color,H=d.onChange;d=d.label;var U=Ca().useState(!1),ba=U[0],va=U[1],ua=Ca().useRef(null);
return Ca().createElement("div",null,Ca().createElement("div",{className:"color-picker-control-container"},Ca().createElement("button",{className:"color-picker-label-swatch","aria-label":d,style:w?{"--swatch-color":w}:void 0,onClick:function(){return va(!ba)},ref:ua}),Ca().createElement(zc,{color:w,label:d,onChange:function(Ba){H(Ba)}})),Ca().createElement(Ca().Suspense,{fallback:""},ba?Ca().createElement(gb,{onCloseRequest:function(Ba){return Ba.target!==ua.current&&va(!1)}},Ca().createElement(uc,
{colors:zk[p],color:w||null,onChange:function(Ba){H(Ba)},onClose:function(){var Ba;va(!1);null===(Ba=ua.current)||void 0===Ba||Ba.focus()},label:d,showInput:!1,type:p})):null))},ad=h(6950),Od=h.n(ad);h(7143);var ve=function(d,p,w){return d.map(function(H){var U;return p.selectedElementIds[H.id]||H.id===(null===(U=p.editingElement)||void 0===U?void 0:U.id)?w(H):H})},pg=function(d,p,w,H){var U,ba,va=p.editingElement;d=fe(d);return null!==(U=null!==(ba=va&&w(va))&&void 0!==ba?ba:jg(d,p)?function(ua,
Ba,Ra){ua=Array.from(new Set(uf(ua,Ba).map(function(Ia){return Ra(Ia)})));return 1===ua.length?ua[0]:null}(d,p,w):H)&&void 0!==U?U:null},Ce=(ne({name:"changeStrokeColor",perform:function(d,p,w){return{elements:ve(d,p,function(H){return zg(H,{strokeColor:w})}),appState:Ne(Ne({},p),{},{currentItemStrokeColor:w}),commitToHistory:!0}},PanelComponent:function(d){var p=d.elements,w=d.appState;d=d.updateData;return Ca().createElement(Ca().Fragment,null,Ca().createElement("h3",{"aria-hidden":"true"},cb("labels.stroke")),
Ca().createElement(lc,{type:"elementStroke",label:cb("labels.stroke"),color:pg(p,w,function(H){return H.strokeColor},w.currentItemStrokeColor),onChange:d}))}}),ne({name:"changeBackgroundColor",perform:function(d,p,w){return{elements:ve(d,p,function(H){return zg(H,{backgroundColor:w})}),appState:Ne(Ne({},p),{},{currentItemBackgroundColor:w}),commitToHistory:!0}},PanelComponent:function(d){var p=d.elements,w=d.appState;d=d.updateData;return Ca().createElement(Ca().Fragment,null,Ca().createElement("h3",
{"aria-hidden":"true"},cb("labels.background")),Ca().createElement(lc,{type:"elementBackground",label:cb("labels.background"),color:pg(p,w,function(H){return H.backgroundColor},w.currentItemBackgroundColor),onChange:d}))}}),ne({name:"changeFillStyle",perform:function(d,p,w){return{elements:ve(d,p,function(H){return zg(H,{fillStyle:w})}),appState:Ne(Ne({},p),{},{currentItemFillStyle:w}),commitToHistory:!0}},PanelComponent:function(d){var p=d.elements,w=d.appState,H=d.updateData;return Ca().createElement("fieldset",
null,Ca().createElement("legend",null,cb("labels.fill")),Ca().createElement(Oa,{options:[{value:"hachure",text:cb("labels.hachure"),icon:Ca().createElement(Pk,{appearance:w.appearance})},{value:"cross-hatch",text:cb("labels.crossHatch"),icon:Ca().createElement(ge,{appearance:w.appearance})},{value:"solid",text:cb("labels.solid"),icon:Ca().createElement(om,{appearance:w.appearance})}],group:"fill",value:pg(p,w,function(U){return U.fillStyle},w.currentItemFillStyle),onChange:function(U){H(U)}}))}}),
ne({name:"changeStrokeWidth",perform:function(d,p,w){return{elements:ve(d,p,function(H){return zg(H,{strokeWidth:w})}),appState:Ne(Ne({},p),{},{currentItemStrokeWidth:w}),commitToHistory:!0}},PanelComponent:function(d){var p=d.elements,w=d.appState,H=d.updateData;return Ca().createElement("fieldset",null,Ca().createElement("legend",null,cb("labels.strokeWidth")),Ca().createElement(Oa,{group:"stroke-width",options:[{value:1,text:cb("labels.thin"),icon:Ca().createElement(Zi,{appearance:w.appearance,
strokeWidth:2})},{value:2,text:cb("labels.bold"),icon:Ca().createElement(Zi,{appearance:w.appearance,strokeWidth:6})},{value:4,text:cb("labels.extraBold"),icon:Ca().createElement(Zi,{appearance:w.appearance,strokeWidth:10})}],value:pg(p,w,function(U){return U.strokeWidth},w.currentItemStrokeWidth),onChange:function(U){return H(U)}}))}}),ne({name:"changeSloppiness",perform:function(d,p,w){return{elements:ve(d,p,function(H){return zg(H,{seed:Wj(),roughness:w})}),appState:Ne(Ne({},p),{},{currentItemRoughness:w}),
commitToHistory:!0}},PanelComponent:function(d){var p=d.elements,w=d.appState,H=d.updateData;return Ca().createElement("fieldset",null,Ca().createElement("legend",null,cb("labels.sloppiness")),Ca().createElement(Oa,{group:"sloppiness",options:[{value:0,text:cb("labels.architect"),icon:Ca().createElement(Qi,{appearance:w.appearance})},{value:1,text:cb("labels.artist"),icon:Ca().createElement(xm,{appearance:w.appearance})},{value:2,text:cb("labels.cartoonist"),icon:Ca().createElement(rk,{appearance:w.appearance})}],
value:pg(p,w,function(U){return U.roughness},w.currentItemRoughness),onChange:function(U){return H(U)}}))}}),ne({name:"changeStrokeStyle",perform:function(d,p,w){return{elements:ve(d,p,function(H){return zg(H,{strokeStyle:w})}),appState:Ne(Ne({},p),{},{currentItemStrokeStyle:w}),commitToHistory:!0}},PanelComponent:function(d){var p=d.elements,w=d.appState,H=d.updateData;return Ca().createElement("fieldset",null,Ca().createElement("legend",null,cb("labels.strokeStyle")),Ca().createElement(Oa,{group:"strokeStyle",
options:[{value:"solid",text:cb("labels.strokeStyle_solid"),icon:Ca().createElement(Zd,{appearance:w.appearance})},{value:"dashed",text:cb("labels.strokeStyle_dashed"),icon:Ca().createElement($k,{appearance:w.appearance})},{value:"dotted",text:cb("labels.strokeStyle_dotted"),icon:Ca().createElement(dg,{appearance:w.appearance})}],value:pg(p,w,function(U){return U.strokeStyle},w.currentItemStrokeStyle),onChange:function(U){return H(U)}}))}}),ne({name:"changeOpacity",perform:function(d,p,w){return{elements:ve(d,
p,function(H){return zg(H,{opacity:w})}),appState:Ne(Ne({},p),{},{currentItemOpacity:w}),commitToHistory:!0}},PanelComponent:function(d){var p,w=d.elements,H=d.appState,U=d.updateData;return Ca().createElement("label",{className:"control-label"},cb("labels.opacity"),Ca().createElement("input",{type:"range",min:"0",max:"100",step:"10",onChange:function(ba){return U(+ba.target.value)},onWheel:function(ba){ba.stopPropagation();var va=+ba.target.value;0>ba.deltaY&&100>va?U(va+10):0<ba.deltaY&&0<va&&U(va-
10)},value:null!==(p=pg(w,H,function(ba){return ba.opacity},H.currentItemOpacity))&&void 0!==p?p:void 0}))}}),ne({name:"changeFontSize",perform:function(d,p,w){return{elements:ve(d,p,function(H){return be(H)?(H=zg(H,{fontSize:w}),nk(H),H):H}),appState:Ne(Ne({},p),{},{currentItemFontSize:w}),commitToHistory:!0}},PanelComponent:function(d){var p=d.elements,w=d.appState,H=d.updateData;return Ca().createElement("fieldset",null,Ca().createElement("legend",null,cb("labels.fontSize")),Ca().createElement(Sa,
{group:"font-size",options:[{value:16,text:cb("labels.small")},{value:20,text:cb("labels.medium")},{value:28,text:cb("labels.large")},{value:36,text:cb("labels.veryLarge")}],value:pg(p,w,function(U){return be(U)&&U.fontSize},w.currentItemFontSize||hc.n5),onChange:function(U){return H(U)}}))}}),ne({name:"changeFontFamily",perform:function(d,p,w){return{elements:ve(d,p,function(H){return be(H)?(H=zg(H,{fontFamily:w}),nk(H),H):H}),appState:Ne(Ne({},p),{},{currentItemFontFamily:w}),commitToHistory:!0}},
PanelComponent:function(d){var p=d.elements,w=d.appState,H=d.updateData;d=[{value:1,text:cb("labels.handDrawn")},{value:2,text:cb("labels.normal")},{value:3,text:cb("labels.code")}];return Ca().createElement("fieldset",null,Ca().createElement("legend",null,cb("labels.fontFamily")),Ca().createElement(Sa,{group:"font-family",options:d,value:pg(p,w,function(U){return be(U)&&U.fontFamily},w.currentItemFontFamily||hc.rk),onChange:function(U){return H(U)}}))}}),ne({name:"changeTextAlign",perform:function(d,
p,w){return{elements:ve(d,p,function(H){return be(H)?(H=zg(H,{textAlign:w}),nk(H),H):H}),appState:Ne(Ne({},p),{},{currentItemTextAlign:w}),commitToHistory:!0}},PanelComponent:function(d){var p=d.elements,w=d.appState,H=d.updateData;return Ca().createElement("fieldset",null,Ca().createElement("legend",null,cb("labels.textAlign")),Ca().createElement(Sa,{group:"text-align",options:[{value:"left",text:cb("labels.left")},{value:"center",text:cb("labels.center")},{value:"right",text:cb("labels.right")}],
value:pg(p,w,function(U){return be(U)&&U.textAlign},w.currentItemTextAlign),onChange:function(U){return H(U)}}))}}),ne({name:"changeSharpness",perform:function(d,p,w){var H=hk(fe(d),p),U=H.length?H.every(function(ba){return!Gg(ba)}):!ej(p.elementType);H=H.length?H.every(Gg):ej(p.elementType);return{elements:ve(d,p,function(ba){return zg(ba,{strokeSharpness:w})}),appState:Ne(Ne({},p),{},{currentItemStrokeSharpness:U?w:p.currentItemStrokeSharpness,currentItemLinearStrokeSharpness:H?w:p.currentItemLinearStrokeSharpness}),
commitToHistory:!0}},PanelComponent:function(d){var p=d.elements,w=d.appState,H=d.updateData;return Ca().createElement("fieldset",null,Ca().createElement("legend",null,cb("labels.edges")),Ca().createElement(Oa,{group:"edges",options:[{value:"sharp",text:cb("labels.sharp"),icon:Ca().createElement(al,{appearance:w.appearance})},{value:"round",text:cb("labels.round"),icon:Ca().createElement(Qk,{appearance:w.appearance})}],value:pg(p,w,function(U){return U.strokeSharpness},ok(w.elementType)&&(ej(w.elementType)?
w.currentItemLinearStrokeSharpness:w.currentItemStrokeSharpness)||null),onChange:function(U){return H(U)}}))}}),ne({name:"changeArrowhead",perform:function(d,p,w){var H;return{elements:ve(d,p,function(U){if(Gg(U)){var ba=w.position,va=w.type;if("start"===ba)return zg(U,{startArrowhead:va});if("end"===ba)return zg(U,{endArrowhead:va})}return U}),appState:Ne(Ne({},p),{},(H={},H["start"===w.position?"currentItemStartArrowhead":"currentItemEndArrowhead"]=w.type,H)),commitToHistory:!0}},PanelComponent:function(d){var p=
d.elements,w=d.appState,H=d.updateData;d=ra.rtl;return Ca().createElement("fieldset",null,Ca().createElement("legend",null,cb("labels.arrowheads")),Ca().createElement("div",{className:"iconSelectList"},Ca().createElement(vd,{label:"arrowhead_start",options:[{value:null,text:cb("labels.arrowhead_none"),icon:Ca().createElement(Kk,{appearance:w.appearance}),keyBinding:"q"},{value:"arrow",text:cb("labels.arrowhead_arrow"),icon:Ca().createElement(Hh,{appearance:w.appearance,flip:!d}),keyBinding:"w"},{value:"bar",
text:cb("labels.arrowhead_bar"),icon:Ca().createElement(Fj,{appearance:w.appearance,flip:!d}),keyBinding:"e"},{value:"dot",text:cb("labels.arrowhead_dot"),icon:Ca().createElement(Om,{appearance:w.appearance,flip:!d}),keyBinding:"r"}],value:pg(p,w,function(U){return Gg(U)&&"arrow"===U.type?U.startArrowhead:w.currentItemStartArrowhead},w.currentItemStartArrowhead),onChange:function(U){return H({position:"start",type:U})}}),Ca().createElement(vd,{label:"arrowhead_end",group:"arrowheads",options:[{value:null,
text:cb("labels.arrowhead_none"),keyBinding:"q",icon:Ca().createElement(Kk,{appearance:w.appearance})},{value:"arrow",text:cb("labels.arrowhead_arrow"),keyBinding:"w",icon:Ca().createElement(Hh,{appearance:w.appearance,flip:d})},{value:"bar",text:cb("labels.arrowhead_bar"),keyBinding:"e",icon:Ca().createElement(Fj,{appearance:w.appearance,flip:d})},{value:"dot",text:cb("labels.arrowhead_dot"),keyBinding:"r",icon:Ca().createElement(Om,{appearance:w.appearance,flip:d})}],value:pg(p,w,function(U){return Gg(U)&&
"arrow"===U.type?U.endArrowhead:w.currentItemEndArrowhead},w.currentItemEndArrowhead),onChange:function(U){return H({position:"end",type:U})}})))}}),h(2189)),yf=h.n(Ce),kg=Ca().createContext(!1),xg=function(){return window.matchMedia?window.matchMedia(yf().isMobileQuery):{matches:!1,addListener:function(){},removeListener:function(){}}},lg=function(d){d=d.children;var p=(0,jc.useRef)();p.current||(p.current=xg());var w=(0,jc.useState)(p.current.matches),H=w[0],U=w[1];return(0,jc.useEffect)(function(){var ba=
function(){return U(p.current.matches)};return p.current.addListener(ba),function(){return p.current.removeListener(ba)}},[]),Ca().createElement(kg.Provider,{value:H},d)};ne({name:"changeViewBackgroundColor",perform:function(d,p,w){return{appState:Ke(Ke({},p),{},{viewBackgroundColor:w}),commitToHistory:!0}},PanelComponent:function(d){var p=d.appState,w=d.updateData;return Ca().createElement("div",{style:{position:"relative"}},Ca().createElement(lc,{label:cb("labels.canvasBackground"),type:"canvasBackground",
color:p.viewBackgroundColor,onChange:function(H){return w(H)}}))}});ne({name:"clearCanvas",perform:function(d,p){return{elements:d.map(function(w){return zg(w,{isDeleted:!0})}),appState:Ke(Ke({},Ch()),{},{appearance:p.appearance,elementLocked:p.elementLocked,exportBackground:p.exportBackground,exportEmbedScene:p.exportEmbedScene,gridSize:p.gridSize,shouldAddWatermark:p.shouldAddWatermark,showStats:p.showStats,pasteDialog:p.pasteDialog}),commitToHistory:!0}},PanelComponent:function(d){var p=d.updateData;
return Ca().createElement(gf,{type:"button",icon:Pi,title:cb("buttons.clearReset"),"aria-label":cb("buttons.clearReset"),showAriaLabel:Ue(),onClick:function(){window.confirm(cb("alerts.clearReset"))&&p(null)}})}});ne({name:"zoomIn",perform:function(d,p){d=ai(Sj(p.zoom.value+hc.V4),p.zoom,{left:p.offsetLeft,top:p.offsetTop},{x:p.width/2,y:p.height/2});return{appState:Ke(Ke({},p),{},{zoom:d}),commitToHistory:!1}},PanelComponent:function(d){var p=d.updateData;return Ca().createElement(gf,{type:"button",
icon:mi,title:"".concat(cb("buttons.zoomIn")," — ").concat(Vd("CtrlOrCmd++")),"aria-label":cb("buttons.zoomIn"),onClick:function(){p(null)}})},keyTest:function(d){return("Equal"===d.code||"NumpadAdd"===d.code)&&(d[cf]||d.shiftKey)}});ne({name:"zoomOut",perform:function(d,p){d=ai(Sj(p.zoom.value-hc.V4),p.zoom,{left:p.offsetLeft,top:p.offsetTop},{x:p.width/2,y:p.height/2});return{appState:Ke(Ke({},p),{},{zoom:d}),commitToHistory:!1}},PanelComponent:function(d){var p=d.updateData;return Ca().createElement(gf,
{type:"button",icon:Cj,title:"".concat(cb("buttons.zoomOut")," — ").concat(Vd("CtrlOrCmd+-")),"aria-label":cb("buttons.zoomOut"),onClick:function(){p(null)}})},keyTest:function(d){return("Minus"===d.code||"NumpadSubtract"===d.code)&&(d[cf]||d.shiftKey)}});ne({name:"resetZoom",perform:function(d,p){return{appState:Ke(Ke({},p),{},{zoom:ai(1,p.zoom,{left:p.offsetLeft,top:p.offsetTop},{x:p.width/2,y:p.height/2})}),commitToHistory:!1}},PanelComponent:function(d){var p=d.updateData;return Ca().createElement(gf,
{type:"button",icon:$d,title:cb("buttons.resetZoom"),"aria-label":cb("buttons.resetZoom"),onClick:function(){p(null)}})},keyTest:function(d){return("Digit0"===d.code||"Numpad0"===d.code)&&(d[cf]||d.shiftKey)}});var xe=function(d,p,w){d=fe(d);var H=uf(d,p);H=w&&0<H.length?Cg(H):Cg(d);w=ai(Math.min(Math.max(Math.floor(Math.min(p.width/(H[2]-H[0]),p.height/(H[3]-H[1]))/hc.V4)*hc.V4,hc.V4),1),p.zoom,{left:p.offsetLeft,top:p.offsetTop});d=(H[0]+H[2])/2;H=(H[1]+H[3])/2;return{appState:Ke(Ke(Ke({},p),Vi({scenePoint:{x:d,
y:H},viewportDimensions:{width:p.width,height:p.height},zoom:w})),{},{zoom:w}),commitToHistory:!1}};ne({name:"zoomToSelection",perform:function(d,p){return xe(d,p,!0)},keyTest:function(d){return"Digit2"===d.code&&d.shiftKey&&!d.altKey&&!d[cf]}});ne({name:"zoomToFit",perform:function(d,p){return xe(d,p,!1)},keyTest:function(d){return"Digit1"===d.code&&d.shiftKey&&!d.altKey&&!d[cf]}});var Rf,If,Mf=ne({name:"finalize",perform:function(d,p,w,H){var U,ba;w=H.canvas;if(p.editingLinearElement){H=p.editingLinearElement;
var va=H.startBindingElement,ua=H.endBindingElement,Ba=cg.getElement(H.elementId);if(Ba)return ng(Ba)&&Pf(Ba,va,ua),{elements:2>Ba.points.length||Rh(Ba)?d.filter(function(ib){return ib.id!==Ba.id}):void 0,appState:Fg(Fg({},p),{},{editingLinearElement:null}),commitToHistory:!0}}window.document.activeElement instanceof HTMLElement&&window.document.activeElement.blur();if(H=p.multiElement?p.multiElement:"draw"===(null===(ba=p.editingElement)||void 0===ba?void 0:ba.type)?p.editingElement:null){"draw"!==
H.type&&"touch"!==p.lastPointerDownWith&&(ba=H.points,(va=H.lastCommittedPoint)&&ba[ba.length-1]===va||jf(H,{points:H.points.slice(0,-1)}));Rh(H)&&(d=d.slice(0,-1));ba=bi(H.points,p.zoom.value);if(("line"===H.type||"draw"===H.type)&&ba){var Ra=H.points,Ia=Ra[0];jf(H,{points:Ra.map(function(ib,rb){return rb===Ra.length-1?[Ia[0],Ia[1]]:ib})})}ng(H)&&!ba&&1<H.points.length&&(va=cg.getPointAtIndexGlobalCoordinates(H,-1),ba=va[0],va=va[1],gk(H,p,xh.getScene(H),{x:ba,y:va}));p.elementLocked||"draw"===p.elementType||
(p.selectedElementIds[H.id]=!0)}return(p.elementLocked||"draw"===p.elementType)&&H||Gi(w),{elements:d,appState:Fg(Fg({},p),{},{elementType:(p.elementLocked||"draw"===p.elementType)&&H?p.elementType:"selection",draggingElement:null,multiElement:null,editingElement:null,startBoundElement:null,suggestedBindings:[],selectedElementIds:H&&!p.elementLocked&&"draw"!==p.elementType?Fg(Fg({},p.selectedElementIds),{},(U={},U[H.id]=!0,U)):p.selectedElementIds}),commitToHistory:"draw"===p.elementType}},keyTest:function(d,
p){return"Escape"===d.key&&(null!==p.editingLinearElement||!p.draggingElement&&null===p.multiElement)||("Escape"===d.key||"Enter"===d.key)&&null!==p.multiElement},PanelComponent:function(d){var p=d.appState;d=d.updateData;return Ca().createElement(gf,{type:"button",icon:pk,title:cb("buttons.done"),"aria-label":cb("buttons.done"),onClick:d,visible:null!=p.multiElement})}}),Tg="undefined"!=typeof v&&null!==(Rf=v.env)&&void 0!==Rf&&Rf.REACT_APP_GOOGLE_ANALYTICS_ID&&"undefined"!=typeof window&&window.gtag?
function(d,p,w,H){window.gtag("event",p,{event_category:d,event_label:w,value:H})}:("undefined"!=typeof v&&null!==(If=v.env)&&void 0!==If&&If.JEST_WORKER_ID,function(d,p,w,H){}),Rg=(h(8518),function(){var d=function(p,w){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(H,U){H.__proto__=U}||function(H,U){for(var ba in U)Object.prototype.hasOwnProperty.call(U,ba)&&(H[ba]=U[ba])})(p,w)};return function(p,w){function H(){this.constructor=p}d(p,w);p.prototype=null===w?Object.create(w):
(H.prototype=w.prototype,new H)}}()),Bi=function(d){function p(){for(var w=[],H=0;H<arguments.length;H++)w[H]=arguments[H];var U,ba;H=this;return H=d.apply(this,w)||this,U=ba=H,H.handleFocus=function(va){va=va.currentTarget;var ua=window.getSelection();if(ua){var Ba=document.createRange();Ba.selectNodeContents(va);ua.removeAllRanges();ua.addRange(Ba)}},H.handleBlur=function(va){va=va.currentTarget.innerText.trim();va!==ba.props.value&&ba.props.onChange(va);(va=window.getSelection())&&va.removeAllRanges()},
H.handleKeyDown=function(va){"Enter"!==va.key||(va.preventDefault(),va.nativeEvent.isComposing||229===va.keyCode)||va.currentTarget.blur()},H.makeEditable=function(va){if(va)try{va.contentEditable="plaintext-only"}catch(ua){va.contentEditable="true"}},U}return Rg(p,d),p.prototype.render=function(){return Ca().createElement("span",{suppressContentEditableWarning:!0,ref:this.makeEditable,"data-type":"wysiwyg",className:"TextInput",role:"textbox","aria-label":this.props.label,onBlur:this.handleBlur,
onKeyDown:this.handleKeyDown,onFocus:this.handleFocus},this.props.value)},p}(jc.Component),Ej=(h(2680),function(d){var p=d.children,w=d.label,H=d.position;H=void 0===H?"below":H;d=d.long;d=void 0!==d&&d;return Ca().createElement("div",{className:"Tooltip"},Ca().createElement("span",{className:"above"===H?"Tooltip__label Tooltip__label--above":"Tooltip__label Tooltip__label--below",style:{width:d?"50ch":"10ch"}},w),p)}),ek=function(d){var p=d.title?d.title:"dark"===d.value?cb("buttons.lightMode"):
cb("buttons.darkMode");return Ca().createElement("label",{className:"ToolIcon ToolIcon_type_floating ToolIcon_size_M",title:p},Ca().createElement("input",{className:"ToolIcon_type_checkbox ToolIcon_toggle_opaque",type:"checkbox",onChange:function(w){return d.onChange(w.target.checked?"dark":"light")},checked:"dark"===d.value,"aria-label":p}),Ca().createElement("div",{className:"ToolIcon__icon"},"light"===d.value?Wk.MOON:Wk.SUN))},Wk={SUN:Ca().createElement("svg",{width:"512",height:"512",className:"rtl-mirror",
viewBox:"0 0 512 512"},Ca().createElement("path",{fill:"currentColor",d:"M256 160c-52.9 0-96 43.1-96 96s43.1 96 96 96 96-43.1 96-96-43.1-96-96-96zm246.4 80.5l-94.7-47.3 33.5-100.4c4.5-13.6-8.4-26.5-21.9-21.9l-100.4 33.5-47.4-94.8c-6.4-12.8-24.6-12.8-31 0l-47.3 94.7L92.7 70.8c-13.6-4.5-26.5 8.4-21.9 21.9l33.5 100.4-94.7 47.4c-12.8 6.4-12.8 24.6 0 31l94.7 47.3-33.5 100.5c-4.5 13.6 8.4 26.5 21.9 21.9l100.4-33.5 47.3 94.7c6.4 12.8 24.6 12.8 31 0l47.3-94.7 100.4 33.5c13.6 4.5 26.5-8.4 21.9-21.9l-33.5-100.4 94.7-47.3c13-6.5 13-24.7.2-31.1zm-155.9 106c-49.9 49.9-131.1 49.9-181 0-49.9-49.9-49.9-131.1 0-181 49.9-49.9 131.1-49.9 181 0 49.9 49.9 49.9 131.1 0 181z"})),
MOON:Ca().createElement("svg",{width:"512",height:"512",className:"rtl-mirror",viewBox:"0 0 512 512"},Ca().createElement("path",{fill:"currentColor",d:"M283.211 512c78.962 0 151.079-35.925 198.857-94.792 7.068-8.708-.639-21.43-11.562-19.35-124.203 23.654-238.262-71.576-238.262-196.954 0-72.222 38.662-138.635 101.498-174.394 9.686-5.512 7.25-20.197-3.756-22.23A258.156 258.156 0 0 0 283.211 0c-141.309 0-256 114.511-256 256 0 141.309 114.511 256 256 256z"}))};const vm="chooseFileSystemEntries"in self?
"chooseFileSystemEntries":"showOpenFilePicker"in self&&"showOpenFilePicker",wm=vm?"chooseFileSystemEntries"===vm?h.e(736).then(h.bind(h,9012)):h.e(736).then(h.bind(h,499)):h.e(736).then(h.bind(h,5034));vm?"chooseFileSystemEntries"===vm?h.e(736).then(h.bind(h,6980)):h.e(736).then(h.bind(h,868)):h.e(736).then(h.bind(h,3110));const rf=vm?"chooseFileSystemEntries"===vm?h.e(736).then(h.bind(h,1170)):h.e(736).then(h.bind(h,7814)):h.e(736).then(h.bind(h,4001));var bl,Ri=function(d,p){if(null!=p&&p.collaborators&&
(p=p.collaborators.get(d),null!=p&&p.color))return p.color;d=d.split("").reduce(function(H,U){return H+U.charCodeAt(0)},0);p=zk.elementBackground.slice(1);var w=zk.elementStroke.slice(1);return{background:p[d%p.length],stroke:w[d%w.length]}};!function(d){d.ACTIVE="active";d.AWAY="away";d.IDLE="idle"}(bl||(bl={}));var Dm=function(){var d=document.createElement("canvas").getContext("2d");return d?(d.fillStyle="#f00",d.textBaseline="top",d.font="32px Arial",d.fillText("\ud83d\ude00",0,0),0!==d.getImageData(12,
12,1,1).data[0]):!1}(),rl=function(d,p,w,H,U,ba,va,ua,Ba){void 0===Ba&&(Ba=!1);d.translate(ba,va);d.rotate(ua);Ba&&d.fillRect(p-ba,w-va,H,U);d.strokeRect(p-ba,w-va,H,U);d.rotate(-ua);d.translate(-ba,-va)},Em=function(d,p,w,H){d.beginPath();d.arc(p,w,H,0,2*Math.PI);d.fill();d.stroke()},an=function(d,p,w,H,U,ba,va,ua){var Ba=void 0===ua?{}:ua;ua=Ba.renderScrollbars;ua=void 0===ua||ua;var Ra=Ba.renderSelection,Ia=void 0===Ra||Ra;Ra=Ba.renderOptimizations;var ib=void 0!==Ra&&Ra;Ba=Ba.renderGrid;var rb=
void 0===Ba||Ba;if(!ba)return{atLeastOneVisibleElement:!1};var pb=ba.getContext("2d");pb.scale(H,H);var dc=ba.width/H,Vb=ba.height/H;(va.exportWithDarkMode&&(pb.filter=hc.Gi),"string"==typeof va.viewBackgroundColor)?(("transparent"===va.viewBackgroundColor||5===va.viewBackgroundColor.length||9===va.viewBackgroundColor.length||/(hsla|rgba)\(/.test(va.viewBackgroundColor))&&pb.clearRect(0,0,dc,Vb),Ba=pb.fillStyle,pb.fillStyle=va.viewBackgroundColor,pb.fillRect(0,0,dc,Vb),pb.fillStyle=Ba):pb.clearRect(0,
0,dc,Vb);Ba=va.zoom.translation.x;Ra=va.zoom.translation.y;pb.translate(Ba,Ra);pb.scale(va.zoom.value,va.zoom.value);rb&&p.gridSize&&function(zd,Yd,ie,af,Eh,fi){var yj=zd.strokeStyle;zd.strokeStyle="rgba(0,0,0,0.1)";zd.beginPath();for(var aj=ie;aj<ie+Eh+2*Yd;aj+=Yd)zd.moveTo(aj,af-Yd),zd.lineTo(aj,af+fi+2*Yd);for(aj=af;aj<af+fi+2*Yd;aj+=Yd)zd.moveTo(ie-Yd,aj),zd.lineTo(ie+Eh+2*Yd,aj);zd.stroke();zd.strokeStyle=yj}(pb,p.gridSize,-Math.ceil(Ba/va.zoom.value/p.gridSize)*p.gridSize+va.scrollX%p.gridSize,
-Math.ceil(Ra/va.zoom.value/p.gridSize)*p.gridSize+va.scrollY%p.gridSize,dc/va.zoom.value,Vb/va.zoom.value);ba=d.filter(function(zd){var Yd={zoom:va.zoom,offsetLeft:p.offsetLeft,offsetTop:p.offsetTop,scrollX:va.scrollX,scrollY:va.scrollY},ie=qi(zd);zd=ie[0];var af=ie[1],Eh=ie[2];ie=ie[3];var fi=vg({clientX:Yd.offsetLeft,clientY:Yd.offsetTop},Yd);Yd=vg({clientX:Yd.offsetLeft+dc,clientY:Yd.offsetTop+Vb},Yd);return fi.x<=Eh&&fi.y<=ie&&Yd.x>=zd&&Yd.y>=af});(ba.forEach(function(zd){en(zd,U,pb,ib,va)}),
p.editingLinearElement)&&(rb=cg.getElement(p.editingLinearElement.elementId))&&function(zd,Yd,ie,af){zd.translate(ie.scrollX,ie.scrollY);var Eh=zd.strokeStyle,fi=zd.lineWidth;zd.lineWidth=1/ie.zoom.value;cg.getPointsGlobalCoordinates(af).forEach(function(yj,aj){var Ul;zd.strokeStyle="red";zd.setLineDash([]);zd.fillStyle=(null===(Ul=Yd.editingLinearElement)||void 0===Ul?void 0:Ul.activePointIndex)===aj?"rgba(255, 127, 127, 0.9)":"rgba(255, 255, 255, 0.9)";Em(zd,yj[0],yj[1],cg.POINT_HANDLE_SIZE/2/ie.zoom.value)});
zd.setLineDash([]);zd.lineWidth=fi;zd.translate(-ie.scrollX,-ie.scrollY);zd.strokeStyle=Eh}(pb,p,va,rb);if(w&&en(w,U,pb,ib,va),p.isBindingEnabled&&p.suggestedBindings.filter(function(zd){return null!=zd}).forEach(function(zd){var Yd=pb.strokeStyle,ie=pb.lineWidth,af=Array.isArray(zd)?cj:$l;pb.translate(va.scrollX,va.scrollY);af(pb,zd);pb.strokeStyle=Yd;pb.lineWidth=ie;pb.translate(-va.scrollX,-va.scrollY)}),Ia&&!p.multiElement&&!p.editingLinearElement){var Bc=d.reduce(function(zd,Yd){var ie=[];if(p.selectedElementIds[Yd.id]&&
null==yh(p,Yd)&&ie.push(Ee.Sn),va.remoteSelectedElementIds[Yd.id]&&ie.push.apply(ie,va.remoteSelectedElementIds[Yd.id].map(function(Eh){return Ri(Eh,p).background})),ie.length){var af=hg(Yd);zd.push({angle:Yd.angle,elementX1:af[0],elementY1:af[1],elementX2:af[2],elementY2:af[3],selectionColors:ie})}return zd},[]);w=function(zd){zd=Zj(d,zd);zd=Cg(zd);Bc.push({angle:0,elementX1:zd[0],elementX2:zd[2],elementY1:zd[1],elementY2:zd[3],selectionColors:[Ee.Sn]})};Ia=0;for(rb=Ji(p);Ia<rb.length;Ia++)w(rb[Ia]);
p.editingGroupId&&w(p.editingGroupId);Bc.forEach(function(zd){var Yd=zd.angle,ie=zd.elementX1,af=zd.elementY1,Eh=zd.selectionColors,fi=zd.elementX2-ie;zd=zd.elementY2-af;var yj=pb.getLineDash(),aj=pb.lineWidth,Ul=pb.lineDashOffset,ln=pb.strokeStyle,em=4/va.zoom.value,Fn=8/va.zoom.value,Lo=4/va.zoom.value;pb.lineWidth=1/va.zoom.value;pb.translate(va.scrollX,va.scrollY);for(var up=Eh.length,Gn=0;Gn<up;++Gn)pb.strokeStyle=Eh[Gn],pb.setLineDash([Fn,Lo+(Fn+Lo)*(up-1)]),pb.lineDashOffset=(Fn+Lo)*Gn,rl(pb,
ie-em,af-em,fi+2*em,zd+2*em,ie+fi/2,af+zd/2,Yd);pb.lineDashOffset=Ul;pb.strokeStyle=ln;pb.lineWidth=aj;pb.setLineDash(yj);pb.translate(-va.scrollX,-va.scrollY)});Ia=uf(d,p);if(pb.translate(va.scrollX,va.scrollY),1===Ia.length)pb.fillStyle=Ee.ix,w=uj(Ia[0],va.zoom,"mouse"),p.viewModeEnabled||sk(pb,va,w,Ia[0].angle);else if(1<Ia.length&&!p.isRotating){w=4/va.zoom.value;pb.fillStyle=Ee.ix;var fd=Cg(Ia);Ia=fd[0];rb=fd[1];var hd=fd[2];fd=fd[3];var ud=pb.getLineDash();pb.setLineDash([2/va.zoom.value]);
var le=pb.lineWidth;pb.lineWidth=1/va.zoom.value;rl(pb,Ia-w,rb-w,hd-Ia+2*w,fd-rb+2*w,(Ia+hd)/2,(rb+fd)/2,0);pb.lineWidth=le;pb.setLineDash(ud);w=Ak([Ia,rb,hd,fd],0,va.zoom,"mouse",vl);sk(pb,va,w,0)}pb.translate(-va.scrollX,-va.scrollY)}for(var ke in pb.scale(1/va.zoom.value,1/va.zoom.value),pb.translate(-Ba,-Ra),va.remotePointerViewportCoords){Ba=va.remotePointerViewportCoords[ke];hd=Ba.x;fd=Ba.y;hd-=p.offsetLeft;fd-=p.offsetTop;ud=0>hd||hd>dc-9||0>fd||fd>Vb-14;hd=Math.max(hd,0);hd=Math.min(hd,dc-
9);fd=Math.max(fd,0);fd=Math.min(fd,Vb-14);Ba=Ri(ke,p);Ra=Ba.background;w=Ba.stroke;Ia=pb.strokeStyle;rb=(Ba=pb.fillStyle,pb.globalAlpha);pb.strokeStyle=w;pb.fillStyle=Ra;le=va.remotePointerUserStates[ke];(ud||le===bl.AWAY)&&(pb.globalAlpha=.48);va.remotePointerButton&&"down"===va.remotePointerButton[ke]&&(pb.beginPath(),pb.arc(hd,fd,15,0,2*Math.PI,!1),pb.lineWidth=3,pb.strokeStyle="#ffffff88",pb.stroke(),pb.closePath(),pb.beginPath(),pb.arc(hd,fd,15,0,2*Math.PI,!1),pb.lineWidth=1,pb.strokeStyle=
w,pb.stroke(),pb.closePath());pb.beginPath();pb.moveTo(hd,fd);pb.lineTo(hd+1,fd+14);pb.lineTo(hd+4,fd+9);pb.lineTo(hd+9,fd+10);pb.lineTo(hd,fd);pb.fill();pb.stroke();var Oe=va.remotePointerUsernames[ke],Je="";le===bl.AWAY?Je=Dm?"⚫️":" (".concat(bl.AWAY,")"):le===bl.IDLE?Je=Dm?"\ud83d\udca4":" (".concat(bl.IDLE,")"):le===bl.ACTIVE&&(Je=Dm?"\ud83d\udfe2":"");le="".concat(Oe?"".concat(Oe," "):"").concat(Je);!ud&&le&&(hd+=9,fd+=14,ud=pb.measureText(le),Oe=ud.actualBoundingBoxDescent+ud.actualBoundingBoxAscent,
pb.fillStyle=w,pb.fillRect(hd-1,fd-1,ud.width+8+2,Oe+8+2),pb.fillStyle=Ra,pb.fillRect(hd,fd,ud.width+8,Oe+8),pb.fillStyle=Ee.ix,pb.fillText(le,hd+4,fd+4+ud.actualBoundingBoxAscent));pb.strokeStyle=Ia;pb.fillStyle=Ba;pb.globalAlpha=rb;pb.closePath()}if(ua){var df=function(zd,Yd,ie,af){var Eh=af.scrollX,fi=af.scrollY,yj=af.zoom;if(0===zd.length)return{horizontal:null,vertical:null};af=Cg(zd);var aj=af[0],Ul=af[1];zd=af[2];af=af[3];var ln=Yd/yj.value,em=ie/yj.value,Fn=Yd-ln,Lo=ie-em;yj=parseInt($f("sat"));
var up=parseInt($f("sab")),Gn=parseInt($f("sal")),Tr=parseInt($f("sar")),Tt=ra.rtl;Eh=Fn/2-Eh+Gn;fi=Lo/2-fi+yj;ln=Eh+ln-Tr;em=fi+em-up;aj=Math.min(aj,Eh);Ul=Math.min(Ul,fi);zd=Math.max(zd,ln);af=Math.max(af,em);return{horizontal:Eh===aj&&ln===zd?null:{x:Math.max(Gn,4)+(Eh-aj)/(zd-aj)*Yd,y:ie-6-Math.max(4,up),width:(ln-Eh)/(zd-aj)*Yd-Math.max(8,Gn+Tr),height:6},vertical:fi===Ul&&em===af?null:{x:Tt?Math.max(Gn,4):Yd-6-Math.max(Tr,4),y:(fi-Ul)/(af-Ul)*ie+Math.max(yj,4),width:6,height:(em-fi)/(af-Ul)*
ie-Math.max(8,yj+up)}}}(d,dc,Vb,va);Ba=pb.fillStyle;Ia=pb.strokeStyle;pb.fillStyle="rgba(0,0,0,0.3)";pb.strokeStyle="rgba(255,255,255,0.8)";[df.horizontal,df.vertical].forEach(function(zd){if(zd){var Yd=zd.x,ie=zd.y,af=zd.width;zd=zd.height;pb.beginPath();pb.moveTo(Yd+3,ie);pb.lineTo(Yd+af-3,ie);pb.quadraticCurveTo(Yd+af,ie,Yd+af,ie+3);pb.lineTo(Yd+af,ie+zd-3);pb.quadraticCurveTo(Yd+af,ie+zd,Yd+af-3,ie+zd);pb.lineTo(Yd+3,ie+zd);pb.quadraticCurveTo(Yd,ie+zd,Yd,ie+zd-3);pb.lineTo(Yd,ie+3);pb.quadraticCurveTo(Yd,
ie,Yd+3,ie);pb.closePath();pb.fill();pb.stroke()}});pb.fillStyle=Ba;pb.strokeStyle=Ia}return pb.scale(1/H,1/H),{atLeastOneVisibleElement:0<ba.length,scrollBars:df}},sk=function(d,p,w,H){Object.keys(w).forEach(function(U){var ba=w[U];if(void 0!==ba){var va=d.lineWidth;d.lineWidth=1/p.zoom.value;"rotation"===U?Em(d,ba[0]+ba[2]/2,ba[1]+ba[3]/2,ba[2]/2):rl(d,ba[0],ba[1],ba[2],ba[3],ba[0]+ba[2]/2,ba[1]+ba[3]/2,H,!0);d.lineWidth=va}})},$l=function(d,p){var w=hg(p),H=w[0],U=w[1],ba=w[2]-H;w=w[3]-U;var va=
Xi(p,ba,w);d.strokeStyle="rgba(0,0,0,.05)";d.lineWidth=va-4;va=2+va/2;switch(p.type){case "rectangle":case "text":rl(d,H-va,U-va,ba+2*va,w+2*va,H+ba/2,U+w/2,p.angle);break;case "diamond":var ua=Math.hypot(ba,w);!function(Ba,Ra,Ia,ib,rb,pb){Ba.translate(ib,rb);Ba.rotate(pb);Ba.beginPath();Ba.moveTo(0,Ia/2);Ba.lineTo(Ra/2,0);Ba.lineTo(0,-Ia/2);Ba.lineTo(-Ra/2,0);Ba.closePath();Ba.stroke();Ba.rotate(-pb);Ba.translate(-ib,-rb)}(d,ba+va*ua/w*2,w+va*ua/ba*2,H+ba/2,U+w/2,p.angle);break;case "ellipse":!function(Ba,
Ra,Ia,ib,rb,pb){Ba.beginPath();Ba.ellipse(ib,rb,Ra/2,Ia/2,pb,0,2*Math.PI);Ba.stroke()}(d,ba+2*va,w+2*va,H+ba/2,U+w/2,p.angle)}},cj=function(d,p){var w=p[0],H=p[1];p=p[2];var U=Xi(p,p.width,p.height);d.strokeStyle="rgba(0,0,0,0)";d.fillStyle="rgba(0,0,0,.05)";("both"===H?[0,-1]:"start"===H?[0]:[-1]).forEach(function(ba){ba=cg.getPointAtIndexGlobalCoordinates(w,ba);Em(d,ba[0],ba[1],U)})},Gj=function(d,p,w,H){H=void 0===H?{}:H;var U=H.offsetX,ba=void 0===U?0:U;H=H.offsetY;var va=void 0===H?0:H;w&&d.forEach(function(ua){ua.isDeleted||
function(Ba,Ra,Ia,ib,rb){var pb=hg(Ba),dc=pb[0],Vb=pb[1],Bc=(pb[2]-dc)/2-(Ba.x-dc),fd=(pb[3]-Vb)/2-(Ba.y-Vb),hd=180*Ba.angle/Math.PI;pb=Ra.generator;switch(Ba.type){case "selection":throw Error("Selection rendering is not supported for SVG");case "rectangle":case "diamond":case "ellipse":Vj(Ba,pb);pb=Ra.draw(ui.get(Ba));1!=(ke=Ba.opacity/100)&&(pb.setAttribute("stroke-opacity","".concat(ke)),pb.setAttribute("fill-opacity","".concat(ke)));pb.setAttribute("transform","translate(".concat(ib||0," ").concat(rb||
0,") rotate(").concat(hd," ").concat(Bc," ").concat(fd,")"));Ia.appendChild(pb);break;case "line":case "draw":case "arrow":Vj(Ba,pb);var ud=Ia.ownerDocument.createElementNS("http://www.w3.org/2000/svg","g"),le=Ba.opacity/100;ui.get(Ba).forEach(function(ie){ie=Ra.draw(ie);1!==le&&(ie.setAttribute("stroke-opacity","".concat(le)),ie.setAttribute("fill-opacity","".concat(le)));ie.setAttribute("transform","translate(".concat(ib||0," ").concat(rb||0,") rotate(").concat(hd," ").concat(Bc," ").concat(fd,
")"));"line"!==Ba.type&&"draw"!==Ba.type||!bi(Ba.points)||"transparent"===Ba.backgroundColor||ie.setAttribute("fill-rule","evenodd");ud.appendChild(ie)});Ia.appendChild(ud);break;default:if(!be(Ba))throw Error("Unimplemented type ".concat(Ba.type));var ke=Ba.opacity/100;pb=Ia.ownerDocument.createElementNS("http://www.w3.org/2000/svg","g");1!==ke&&(pb.setAttribute("stroke-opacity","".concat(ke)),pb.setAttribute("fill-opacity","".concat(ke)));pb.setAttribute("transform","translate(".concat(ib||0," ").concat(rb||
0,") rotate(").concat(hd," ").concat(Bc," ").concat(fd,")"));ke=Ba.text.replace(/\r\n?/g,"\n").split("\n");dc=Ba.height/ke.length;Vb=Ba.height-Ba.baseline;for(var Oe="center"===Ba.textAlign?Ba.width/2:"right"===Ba.textAlign?Ba.width:0,Je=wh.test(Ba.text)?"rtl":"ltr",df="center"===Ba.textAlign?"middle":"right"===Ba.textAlign||"rtl"===Je?"end":"start",zd=0;zd<ke.length;zd++){var Yd=Ia.ownerDocument.createElementNS("http://www.w3.org/2000/svg","text");Yd.textContent=ke[zd];Yd.setAttribute("x","".concat(Oe));
Yd.setAttribute("y","".concat((zd+1)*dc-Vb));Yd.setAttribute("font-family","".concat(hc.ut[Ba.fontFamily],", ").concat(hc._D));Yd.setAttribute("font-size","".concat(Ba.fontSize,"px"));Yd.setAttribute("fill",Ba.strokeColor);Yd.setAttribute("text-anchor",df);Yd.setAttribute("style","white-space: pre;");Yd.setAttribute("direction",Je);pb.appendChild(Yd)}Ia.appendChild(pb)}}(ua,p,w,ua.x+ba,ua.y+va)})},Fl=function(){for(var d=0,p=0,w=arguments.length;p<w;p++)d+=arguments[p].length;d=Array(d);var H=0;for(p=
0;p<w;p++)for(var U=arguments[p],ba=0,va=U.length;ba<va;ba++,H++)d[H]=U[ba];return d},tm=function(d,p,w,H){var U=w.exportBackground,ba=w.exportPadding;ba=void 0===ba?10:ba;var va=w.viewBackgroundColor,ua=w.scale,Ba=void 0===ua?1:ua;w=w.shouldAddWatermark;void 0===H&&(H=function(Ia,ib){var rb=document.createElement("canvas");return rb.width=Ia*Ba,rb.height=ib*Ba,{canvas:rb,scale:Ba}});d=Wn(d,w);var Ra=Gm(d,ba,w);w=Ra[0];ua=Ra[1];Ra=H(Ra[2],Ra[3]);H=Ra.canvas;Ra=Ra.scale;return an(d,p,null,void 0===
Ra?Ba:Ra,Qh.canvas(H),H,{viewBackgroundColor:U?va:null,exportWithDarkMode:p.exportWithDarkMode,scrollX:-w+ba,scrollY:-ua+ba,zoom:Ch().zoom,remotePointerViewportCoords:{},remoteSelectedElementIds:{},shouldCacheIgnoreZoom:!1,remotePointerUsernames:{},remotePointerUserStates:{}},{renderScrollbars:!1,renderSelection:!1,renderOptimizations:!1,renderGrid:!1}),H},Nl=function(d,p){var w=p.exportBackground,H=p.exportPadding;H=void 0===H?10:H;var U=p.viewBackgroundColor,ba=p.exportWithDarkMode,va=p.scale;va=
void 0===va?1:va;var ua=p.shouldAddWatermark;p=p.metadata;p=void 0===p?"":p;d=Wn(d,ua);var Ba=Gm(d,H,ua);ua=Ba[0];var Ra=Ba[1],Ia=Ba[2],ib=Ba[3];Ba=document.createElementNS("http://www.w3.org/2000/svg","svg");if(Ba.setAttribute("version","1.1"),Ba.setAttribute("xmlns","http://www.w3.org/2000/svg"),Ba.setAttribute("viewBox","0 0 ".concat(Ia," ").concat(ib)),Ba.setAttribute("width","".concat(Ia*va)),Ba.setAttribute("height","".concat(ib*va)),ba&&Ba.setAttribute("filter",hc.Gi),Ba.innerHTML="\n  ".concat("\x3c!-- svg-source:excalidraw --\x3e",
"\n  ").concat(p,'\n  \x3cdefs\x3e\n    \x3cstyle\x3e\n      @font-face {\n        font-family: "Virgil";\n        src: url("https://excalidraw.com/Virgil.woff2");\n      }\n      @font-face {\n        font-family: "Cascadia";\n        src: url("https://excalidraw.com/Cascadia.woff2");\n      }\n    \x3c/style\x3e\n  \x3c/defs\x3e\n  '),w&&U)w=Ba.ownerDocument.createElementNS("http://www.w3.org/2000/svg","rect"),w.setAttribute("x","0"),w.setAttribute("y","0"),w.setAttribute("width","".concat(Ia)),
w.setAttribute("height","".concat(ib)),w.setAttribute("fill",U),Ba.appendChild(w);w=Qh.svg(Ba);return Gj(d,w,Ba,{offsetX:-ua+H,offsetY:-Ra+H}),Ba},Wn=function(d,p){var w=Fl(d);p&&(d=Cg(d),p=d[2],d=d[3],d=Ij({text:cb("labels.madeWithExcalidraw"),fontSize:16,fontFamily:hc.rk,textAlign:"right",verticalAlign:hc.hs,x:p,y:d+16,strokeColor:Ee.MA[5],backgroundColor:"transparent",fillStyle:"hachure",strokeWidth:1,strokeStyle:"solid",roughness:1,opacity:100,strokeSharpness:"sharp"}),w=Fl(w,[d]));return w},
Gm=function(d,p,w){d=Cg(d);var H=d[0],U=d[1];return[H,U,Math.abs(H-d[2])+2*p,Math.abs(U-d[3])+p+(w?0:p)]},cn=function(){for(var d=0,p=0,w=arguments.length;p<w;p++)d+=arguments[p].length;d=Array(d);var H=0;for(p=0;p<w;p++)for(var U=arguments[p],ba=0,va=U.length;ba<va;ba++,H++)d[H]=U[ba];return d},Ki=function(d){return(d=/^[$€£¥₩]?([0-9,]+(\.[0-9]+)?)$/.exec(d))?parseFloat(d[1].replace(/,/g,"")):null},Dn=function(d,p){return d.slice(1).every(function(w){return null!==Ki(w[p])})},En=function(d){var p=
d[0].length;if(2<p)return{type:"NOT_SPREADSHEET",reason:"More than 2 columns"};if(1===p){if(!Dn(d,0))return{type:"NOT_SPREADSHEET",reason:"Value is not numeric"};p=null===Ki(d[0][0]);var w=(p?d.slice(1):d).map(function(ba){return Ki(ba[0])});return 2>w.length?{type:"NOT_SPREADSHEET",reason:"Less than two rows"}:{type:"VALID_SPREADSHEET",spreadsheet:{title:p?d[0][0]:null,labels:null,values:w}}}var H=Dn(d,0)?0:1;if(!Dn(d,H))return{type:"NOT_SPREADSHEET",reason:"Value is not numeric"};var U=(H+1)%2;
w=(p=null===Ki(d[0][H]))?d.slice(1):d;return 2>w.length?{type:"NOT_SPREADSHEET",reason:"Less than 2 rows"}:{type:"VALID_SPREADSHEET",spreadsheet:{title:p?d[0][H]:null,labels:w.map(function(ba){return ba[U]}),values:w.map(function(ba){return Ki(ba[H])})}}},Rk=zk.elementBackground.slice(2,zk.elementBackground.length),dj={fillStyle:"hachure",fontFamily:hc.rk,fontSize:hc.n5,opacity:100,roughness:1,strokeColor:zk.elementStroke[0],strokeSharpness:"sharp",strokeStyle:"solid",strokeWidth:1,verticalAlign:"middle"},
Fm=function(d){return{chartWidth:44*d.values.length+12,chartHeight:280}},Tn=function(d,p,w,H,U,ba){var va=Fm(d),ua=va.chartWidth,Ba=va.chartHeight;va=d.title?Ij(Ve(Ve({backgroundColor:U,groupIds:[H]},dj),{},{text:d.title,x:p+ua/2,y:w-256-24-hc.n5,strokeSharpness:"sharp",strokeStyle:"solid",textAlign:"center"})):null;ba=ba?Ml(Ve(Ve({backgroundColor:U,groupIds:[H]},dj),{},{type:"rectangle",x:p,y:w-Ba,width:ua,height:Ba,strokeColor:zk.elementStroke[0],fillStyle:"solid",opacity:6})):null;return cn(ba?
[ba]:[],va?[va]:[],function(Ra,Ia,ib,rb,pb){var dc;return(null===(dc=Ra.labels)||void 0===dc?void 0:dc.map(function(Vb,Bc){return Ij(Ve(Ve({groupIds:[rb],backgroundColor:pb},dj),{},{text:8<Vb.length?"".concat(Vb.slice(0,5),"..."):Vb,x:Ia+44*Bc+24,y:ib+6,width:32,angle:5.87,fontSize:16,textAlign:"center",verticalAlign:"top"}))}))||[]}(d,p,w,H,U),function(Ra,Ia,ib,rb,pb){var dc=Ij(Ve(Ve({groupIds:[rb],backgroundColor:pb},dj),{},{x:Ia-12,y:ib-12,text:"0",textAlign:"right"}));return[dc,Ij(Ve(Ve({groupIds:[rb],
backgroundColor:pb},dj),{},{x:Ia-12,y:ib-256-dc.height/2,text:Math.max.apply(Math,Ra.values).toLocaleString(),textAlign:"right"}))]}(d,p,w,H,U),function(Ra,Ia,ib,rb,pb){var dc=Fm(Ra);Ra=dc.chartWidth;dc=dc.chartHeight;return[Ye(Ve(Ve({backgroundColor:pb,groupIds:[rb]},dj),{},{type:"line",x:Ia,y:ib,startArrowhead:null,endArrowhead:null,width:Ra,points:[[0,0],[Ra,0]]})),Ye(Ve(Ve({backgroundColor:pb,groupIds:[rb]},dj),{},{type:"line",x:Ia,y:ib,startArrowhead:null,endArrowhead:null,height:dc,points:[[0,
0],[0,-dc]]})),Ye(Ve(Ve({backgroundColor:pb,groupIds:[rb]},dj),{},{type:"line",x:Ia,y:ib-256-12,startArrowhead:null,endArrowhead:null,strokeStyle:"dotted",width:Ra,opacity:50,points:[[0,0],[Ra,0]]}))]}(d,p,w,H,U))},Un=function(d,p,w,H){return"line"===d?function(U,ba,va){for(var ua=Math.max.apply(Math,U.values),Ba=vi(),Ra=Rk[Math.floor(Math.random()*Rk.length)],Ia=0,ib=[],rb=0,pb=U.values;rb<pb.length;rb++)ib.push([44*Ia,-pb[rb]/ua*256]),Ia++;Ia=Math.max.apply(Math,ib.map(function(Vb){return Vb[0]}));
rb=Math.max.apply(Math,ib.map(function(Vb){return Vb[1]}));pb=Math.min.apply(Math,ib.map(function(Vb){return Vb[0]}));var dc=Math.min.apply(Math,ib.map(function(Vb){return Vb[1]}));ib=Ye(Ve(Ve({backgroundColor:Ra,groupIds:[Ba]},dj),{},{type:"line",x:ba+12+16,y:va-12,startArrowhead:null,endArrowhead:null,height:rb-dc,width:Ia-pb,strokeWidth:2,points:ib}));Ia=U.values.map(function(Vb,Bc){Bc=44*Bc+6;Vb=-Vb/ua*256+6;return Ml(Ve(Ve({backgroundColor:Ra,groupIds:[Ba]},dj),{},{fillStyle:"solid",strokeWidth:2,
type:"ellipse",x:ba+Bc+16,y:va+Vb-24,width:12,height:12}))});rb=U.values.map(function(Vb,Bc){Bc=44*Bc+6;Vb=Vb/ua*256+18;return Ye(Ve(Ve({backgroundColor:Ra,groupIds:[Ba]},dj),{},{type:"line",x:ba+Bc+16+6,y:va-Vb,startArrowhead:null,endArrowhead:null,height:Vb,strokeStyle:"dotted",opacity:50,points:[[0,0],[0,Vb]]}))});return cn(Tn(U,ba,va,Ba,Ra,"production"===hc.Vi.DEVELOPMENT),[ib],rb,Ia)}(p,w,H):function(U,ba,va){var ua=Math.max.apply(Math,U.values),Ba=vi(),Ra=Rk[Math.floor(Math.random()*Rk.length)],
Ia=U.values.map(function(ib,rb){ib=ib/ua*256;return Ml(Ve(Ve({backgroundColor:Ra,groupIds:[Ba]},dj),{},{type:"rectangle",x:ba+44*rb+12,y:va-ib-12,width:32,height:ib}))});return cn(Ia,Tn(U,ba,va,Ba,Ra,"production"===hc.Vi.DEVELOPMENT))}(p,w,H)},Vn=function(){var d=function(p,w){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(H,U){H.__proto__=U}||function(H,U){for(var ba in U)Object.prototype.hasOwnProperty.call(U,ba)&&(H[ba]=U[ba])})(p,w)};return function(p,w){function H(){this.constructor=
p}d(p,w);p.prototype=null===w?Object.create(w):(H.prototype=w.prototype,new H)}}(),jn=function(d){function p(w,H){void 0===w&&(w="Couldn't export canvas.");void 0===H&&(H="CANVAS_ERROR");var U=d.call(this)||this;return U.name=H,U.message=w,U}return Vn(p,d),p}(Error),Lj=function(d,p){var w,H,U,ba,va,ua,Ba,Ra;d={type:d.type,version:d.version||1,versionNonce:null!==(w=d.versionNonce)&&void 0!==w?w:0,isDeleted:null!==(H=d.isDeleted)&&void 0!==H&&H,id:d.id||vi(),fillStyle:d.fillStyle||"hachure",strokeWidth:d.strokeWidth||
1,strokeStyle:null!==(U=d.strokeStyle)&&void 0!==U?U:"solid",roughness:null!==(ba=d.roughness)&&void 0!==ba?ba:1,opacity:null==d.opacity?100:d.opacity,angle:d.angle||0,x:d.x||0,y:d.y||0,strokeColor:d.strokeColor,backgroundColor:d.backgroundColor,width:d.width||0,height:d.height||0,seed:null!==(va=d.seed)&&void 0!==va?va:1,groupIds:null!==(ua=d.groupIds)&&void 0!==ua?ua:[],strokeSharpness:null!==(Ba=d.strokeSharpness)&&void 0!==Ba?Ba:ej(d.type)?"round":"sharp",boundElementIds:null!==(Ra=d.boundElementIds)&&
void 0!==Ra?Ra:[]};return Fe(Fe(Fe({},d),Kl(d)),p)},tk=function(d){return(d||[]).reduce(function(p,w){if("selection"!==w.type&&!Rh(w)){a:{var H;switch(w.type){case "text":var U=w.fontSize,ba=w.fontFamily;if("font"in w){U=w.font.split(" ");ba=U[1];U=parseInt(U[0],10);b:{for(var va=0,ua=Object.entries(hc.ut);va<ua.length;va++){var Ba=ua[va],Ra=Ba[0];if(Ba[1].includes(ba)){ba=parseInt(Ra);break b}}ba=hc.rk}}w=Lj(w,{fontSize:U,fontFamily:ba,text:null!==(H=w.text)&&void 0!==H?H:"",baseline:w.baseline,
textAlign:w.textAlign||hc.Hg,verticalAlign:w.verticalAlign||hc.hs});break a;case "draw":case "line":case "arrow":H=w.startArrowhead;H=void 0===H?null:H;U=w.endArrowhead;U=void 0===U?"arrow"===w.type?"arrow":null:U;w=Lj(w,{startBinding:w.startBinding,endBinding:w.endBinding,points:!Array.isArray(w.points)||2>w.points.length?[[0,0],[w.width,w.height]]:w.points,lastCommittedPoint:null,startArrowhead:H,endArrowhead:U});break a;case "ellipse":case "rectangle":case "diamond":w=Lj(w,{});break a}w=void 0}w&&
p.push(w)}return p},[])},bn=function(d,p){d=d||{};for(var w=Ch(),H={},U=0,ba=Object.entries(w);U<ba.length;U++){var va=ba[U],ua=va[0];va=va[1];var Ba=d[ua],Ra=p?p[ua]:void 0;H[ua]=void 0!==Ba?Ba:void 0!==Ra?Ra:va}return Fe(Fe({},H),{},{offsetLeft:d.offsetLeft||0,offsetTop:d.offsetTop||0,zoom:"number"==typeof d.zoom?{value:d.zoom,translation:w.zoom.translation}:d.zoom||w.zoom})},dn=function(d,p){return{elements:tk(null==d?void 0:d.elements),appState:bn(null==d?void 0:d.appState,p||null)}},zm=function(d,
p){function w(Ba){return function(Ra){return function(Ia){if(H)throw new TypeError("Generator is already executing.");for(;ua;)try{if(H=1,U&&(ba=2&Ia[0]?U.return:Ia[0]?U.throw||((ba=U.return)&&ba.call(U),0):U.next)&&!(ba=ba.call(U,Ia[1])).done)return ba;switch(U=0,ba&&(Ia=[2&Ia[0],ba.value]),Ia[0]){case 0:case 1:ba=Ia;break;case 4:return ua.label++,{value:Ia[1],done:!1};case 5:ua.label++;U=Ia[1];Ia=[0];continue;case 7:Ia=ua.ops.pop();ua.trys.pop();continue;default:if(!(ba=ua.trys,(ba=0<ba.length&&
ba[ba.length-1])||6!==Ia[0]&&2!==Ia[0])){ua=0;continue}if(3===Ia[0]&&(!ba||Ia[1]>ba[0]&&Ia[1]<ba[3]))ua.label=Ia[1];else if(6===Ia[0]&&ua.label<ba[1])ua.label=ba[1],ba=Ia;else if(ba&&ua.label<ba[2])ua.label=ba[2],ua.ops.push(Ia);else{ba[2]&&ua.ops.pop();ua.trys.pop();continue}}Ia=p.call(d,ua)}catch(ib){Ia=[6,ib],U=0}finally{H=ba=0}if(5&Ia[0])throw Ia[1];return{value:Ia[0]?Ia[1]:void 0,done:!0}}([Ba,Ra])}}var H,U,ba,va,ua={label:0,sent:function(){if(1&ba[0])throw ba[1];return ba[1]},trys:[],ops:[]};
return va={next:w(0),throw:w(1),return:w(2)},"function"==typeof Symbol&&(va[Symbol.iterator]=function(){return this}),va},jj=function(){var d=Pc()(function(p){var w;return zm(this,function(H){switch(H.label){case 0:if("image/png"!==p.type)return[3,6];H.label=1;case 1:return H.trys.push([1,4,,5]),[4,Promise.all([h.e(736),h.e(9)]).then(h.bind(h,8527))];case 2:return[4,H.sent().decodePngMetadata(p)];case 3:return[2,H.sent()];case 4:throw"INVALID"===H.sent().message?Error(cb("alerts.imageDoesNotContainScene")):
Error(cb("alerts.cannotRestoreFromImage"));case 5:return[3,15];case 6:return"text"in Blob?[4,p.text()]:[3,8];case 7:return w=H.sent(),[3,10];case 8:return[4,new Promise(function(U){var ba=new FileReader;ba.readAsText(p,"utf8");ba.onloadend=function(){ba.readyState===FileReader.DONE&&U(ba.result)}})];case 9:w=H.sent(),H.label=10;case 10:if("image/svg+xml"!==p.type)return[3,15];H.label=11;case 11:return H.trys.push([11,14,,15]),[4,Promise.all([h.e(736),h.e(9)]).then(h.bind(h,8527))];case 12:return[4,
H.sent().decodeSvgMetadata({svg:w})];case 13:return[2,H.sent()];case 14:throw"INVALID"===H.sent().message?Error(cb("alerts.imageDoesNotContainScene")):Error(cb("alerts.cannotRestoreFromImage"));case 15:return[2,w]}})});return function(p){return d.apply(this,arguments)}}(),Lm=function(){var d=Pc()(function(p,w){var H,U;return zm(this,function(ba){switch(ba.label){case 0:return[4,jj(p)];case 1:H=ba.sent();try{if("excalidraw"!==(U=JSON.parse(H)).type)throw Error(cb("alerts.couldNotLoadInvalidFile"));
var va=Df(U.elements||[]),ua=null==w?void 0:w.appearance,Ba;if(Ba=p.handle){var Ra=["application/json",hc.LO.excalidraw],Ia=Ra.includes;a:{if("string"==typeof p)var ib=p;else{if(p.type){var rb=p.type;break a}ib=p.name||""}rb=/\.(excalidraw|json)$/.test(ib)?"application/json":/\.png$/.test(ib)?"image/png":/\.jpe?g$/.test(ib)?"image/jpeg":/\.svg$/.test(ib)?"image/svg+xml":""}Ba=Ia.call(Ra,rb)}return[2,dn({elements:va,appState:Bb(Bb({appearance:ua,fileHandle:Ba?p.handle:null},ti(U.appState||{},"export")),
w?ki(U.elements||[],w):{})},w)]}catch(pb){throw console.error(pb.message),Error(cb("alerts.couldNotLoadInvalidFile"));}}})});return function(p,w){return d.apply(this,arguments)}}(),un=function(){var d=Pc()(function(p){var w,H;return zm(this,function(U){switch(U.label){case 0:return[4,jj(p)];case 1:if(w=U.sent(),"excalidrawlib"!==(H=JSON.parse(w)).type)throw Error(cb("alerts.couldNotLoadInvalidFile"));return[2,H]}})});return function(p){return d.apply(this,arguments)}}(),pm=function(){var d=Pc()(function(p){return zm(this,
function(w){return[2,new Promise(function(H,U){try{p.toBlob(function(ba){if(!ba)return U(new jn(cb("canvasError.canvasTooBig"),"CANVAS_POSSIBLY_TOO_BIG"));H(ba)})}catch(ba){U(ba)}})]})});return function(p){return d.apply(this,arguments)}}(),Sk=function(d,p){function w(Ba){return function(Ra){return function(Ia){if(H)throw new TypeError("Generator is already executing.");for(;ua;)try{if(H=1,U&&(ba=2&Ia[0]?U.return:Ia[0]?U.throw||((ba=U.return)&&ba.call(U),0):U.next)&&!(ba=ba.call(U,Ia[1])).done)return ba;
switch(U=0,ba&&(Ia=[2&Ia[0],ba.value]),Ia[0]){case 0:case 1:ba=Ia;break;case 4:return ua.label++,{value:Ia[1],done:!1};case 5:ua.label++;U=Ia[1];Ia=[0];continue;case 7:Ia=ua.ops.pop();ua.trys.pop();continue;default:if(!(ba=ua.trys,(ba=0<ba.length&&ba[ba.length-1])||6!==Ia[0]&&2!==Ia[0])){ua=0;continue}if(3===Ia[0]&&(!ba||Ia[1]>ba[0]&&Ia[1]<ba[3]))ua.label=Ia[1];else if(6===Ia[0]&&ua.label<ba[1])ua.label=ba[1],ba=Ia;else if(ba&&ua.label<ba[2])ua.label=ba[2],ua.ops.push(Ia);else{ba[2]&&ua.ops.pop();
ua.trys.pop();continue}}Ia=p.call(d,ua)}catch(ib){Ia=[6,ib],U=0}finally{H=ba=0}if(5&Ia[0])throw Ia[1];return{value:Ia[0]?Ia[1]:void 0,done:!0}}([Ba,Ra])}}var H,U,ba,va,ua={label:0,sent:function(){if(1&ba[0])throw ba[1];return ba[1]},trys:[],ops:[]};return va={next:w(0),throw:w(1),return:w(2)},"function"==typeof Symbol&&(va[Symbol.iterator]=function(){return this}),va},qm="",Gl=!1,op="clipboard"in navigator&&"readText"in navigator.clipboard,Hm="clipboard"in navigator&&"writeText"in navigator.clipboard,
Im="clipboard"in navigator&&"write"in navigator.clipboard&&"ClipboardItem"in window&&"toBlob"in HTMLCanvasElement.prototype,yn=function(){var d=Pc()(function(p,w){var H,U,ba;return Sk(this,function(va){switch(va.label){case 0:H={type:"excalidraw/elements",created:Date.now(),elements:uf(p,w)},qm=U=JSON.stringify(H),va.label=1;case 1:return va.trys.push([1,3,,4]),Gl=!1,[4,Dh(U)];case 2:return va.sent(),[3,4];case 3:return ba=va.sent(),Gl=!0,console.error(ba),[3,4];case 4:return[2]}})});return function(p,
w){return d.apply(this,arguments)}}(),Fo=function(){if(!qm)return{};try{return JSON.parse(qm)}catch(d){return console.error(d),{}}},vn=function(d){d=function(p){var w=p.trim().split("\n").map(function(U){return U.trim().split("\t")});if(w.length&&2!==w[0].length&&(w=p.trim().split("\n").map(function(U){return U.trim().split(",")})),0===w.length)return{type:"NOT_SPREADSHEET",reason:"No values"};var H=w[0].length;if(!w.every(function(U){return U.length===H}))return{type:"NOT_SPREADSHEET",reason:"All rows don't have same number of columns"};
p=En(w);return"VALID_SPREADSHEET"!==p.type&&(w=En(function(U){for(var ba=[],va=0;va<U[0].length;va++){for(var ua=[],Ba=0;Ba<U.length;Ba++)ua.push(U[Ba][va]);ba.push(ua)}return ba}(w)),"VALID_SPREADSHEET"===w.type)?w:p}(d);return"VALID_SPREADSHEET"===d.type?{spreadsheet:d.spreadsheet}:null},Hl=function(){var d=Pc()(function(p){var w,H,U;return Sk(this,function(ba){switch(ba.label){case 0:return ba.trys.push([0,5,,6]),p?(H=null===(w=p.clipboardData)||void 0===w?void 0:w.getData("text/plain").trim(),
[3,4]):[3,1];case 1:return(U=op)?[4,navigator.clipboard.readText()]:[3,3];case 2:U=ba.sent(),ba.label=3;case 3:H=U,ba.label=4;case 4:return[2,H||""];case 5:return ba.sent(),[2,""];case 6:return[2]}})});return function(p){return d.apply(this,arguments)}}(),xn=function(){var d=Pc()(function(p){var w,H,U,ba;return Sk(this,function(va){switch(va.label){case 0:return[4,Hl(p)];case 1:if(!(w=va.sent())||w.includes("\x3c!-- svg-source:excalidraw --\x3e"))return[2,Fo()];if(H=vn(w))return[2,H];U=Fo();try{return ba=
JSON.parse(w),"excalidraw/elements"===(null==(ua=ba)?void 0:ua.type)&&(null==U||!U.created||U.created<ba.created)?[2,{elements:ba.elements}]:[2,U]}catch(Ba){return[2,Gl&&U.elements?U:{text:w}]}}var ua})});return function(p){return d.apply(this,arguments)}}(),wn=function(){var d=Pc()(function(p){var w;return Sk(this,function(H){switch(H.label){case 0:return[4,pm(p)];case 1:return w=H.sent(),[4,navigator.clipboard.write([new window.ClipboardItem({"image/png":w})])];case 2:return H.sent(),[2]}})});return function(p){return d.apply(this,
arguments)}}(),Dh=function(){var d=Pc()(function(p){var w,H;return Sk(this,function(U){switch(U.label){case 0:if(w=!1,!Hm)return[3,4];U.label=1;case 1:return U.trys.push([1,3,,4]),[4,navigator.clipboard.writeText(p||"")];case 2:return U.sent(),w=!0,[3,4];case 3:return H=U.sent(),console.error(H),[3,4];case 4:if(U=!w){var ba=p||" ",va="rtl"===document.documentElement.getAttribute("dir");U=document.createElement("textarea");U.style.border="0";U.style.padding="0";U.style.margin="0";U.style.position=
"absolute";U.style[va?"right":"left"]="-9999px";U.style.top="".concat(window.pageYOffset||document.documentElement.scrollTop,"px");U.style.fontSize="12pt";U.setAttribute("readonly","");U.value=ba;document.body.appendChild(U);ba=!1;try{U.select(),U.setSelectionRange(0,U.value.length),ba=document.execCommand("copy")}catch(ua){console.error(ua)}U=!(U.remove(),ba)}if(U)throw Error("couldn't copy");return[2]}})});return function(p){return d.apply(this,arguments)}}(),Uk=function(d,p){function w(Ba){return function(Ra){return function(Ia){if(H)throw new TypeError("Generator is already executing.");
for(;ua;)try{if(H=1,U&&(ba=2&Ia[0]?U.return:Ia[0]?U.throw||((ba=U.return)&&ba.call(U),0):U.next)&&!(ba=ba.call(U,Ia[1])).done)return ba;switch(U=0,ba&&(Ia=[2&Ia[0],ba.value]),Ia[0]){case 0:case 1:ba=Ia;break;case 4:return ua.label++,{value:Ia[1],done:!1};case 5:ua.label++;U=Ia[1];Ia=[0];continue;case 7:Ia=ua.ops.pop();ua.trys.pop();continue;default:if(!(ba=ua.trys,(ba=0<ba.length&&ba[ba.length-1])||6!==Ia[0]&&2!==Ia[0])){ua=0;continue}if(3===Ia[0]&&(!ba||Ia[1]>ba[0]&&Ia[1]<ba[3]))ua.label=Ia[1];else if(6===
Ia[0]&&ua.label<ba[1])ua.label=ba[1],ba=Ia;else if(ba&&ua.label<ba[2])ua.label=ba[2],ua.ops.push(Ia);else{ba[2]&&ua.ops.pop();ua.trys.pop();continue}}Ia=p.call(d,ua)}catch(ib){Ia=[6,ib],U=0}finally{H=ba=0}if(5&Ia[0])throw Ia[1];return{value:Ia[0]?Ia[1]:void 0,done:!0}}([Ba,Ra])}}var H,U,ba,va,ua={label:0,sent:function(){if(1&ba[0])throw ba[1];return ba[1]},trys:[],ops:[]};return va={next:w(0),throw:w(1),return:w(2)},"function"==typeof Symbol&&(va[Symbol.iterator]=function(){return this}),va},Il=function(){for(var d=
0,p=0,w=arguments.length;p<w;p++)d+=arguments[p].length;d=Array(d);var H=0;for(p=0;p<w;p++)for(var U=arguments[p],ba=0,va=U.length;ba<va;ba++,H++)d[H]=U[ba];return d},ug=function(){function d(){}return d.importLibrary=function(p){return Pc()(function(){var w,H,U,ba;return Uk(this,function(va){switch(va.label){case 0:return[4,un(p)];case 1:return(w=va.sent())&&w.library?(H=function(ua,Ba){return!ua.find(function(Ra){return Ra.length===Ba.length&&Ra.every(function(Ia,ib){return Ia.id===Ba[ib].id&&Ia.versionNonce===
Ba[ib].versionNonce})})},[4,d.loadLibrary()]):[2];case 2:return U=va.sent(),ba=w.library.reduce(function(ua,Ba){Ba=fe(tk(Ba));return H(U,Ba)&&ua.push(Ba),ua},[]),d.saveLibrary(Il(U,ba)),[2]}})})()},d}();ug.libraryCache=null;ug.resetLibrary=function(){ug.libraryCache=null;localStorage.removeItem(hc.I.LOCAL_STORAGE_LIBRARY)};ug.loadLibrary=function(){return new Promise(function(){var d=Pc()(function(p){var w,H;return Uk(this,function(U){if(ug.libraryCache)return[2,p(JSON.parse(JSON.stringify(ug.libraryCache)))];
try{if(!(w=localStorage.getItem(hc.I.LOCAL_STORAGE_LIBRARY)))return[2,p([])];H=JSON.parse(w).map(function(ba){return tk(ba)});ug.libraryCache=JSON.parse(JSON.stringify(H));p(H)}catch(ba){console.error(ba),p([])}return[2]})});return function(p){return d.apply(this,arguments)}}())};ug.saveLibrary=function(d){var p=ug.libraryCache;try{var w=JSON.stringify(d);ug.libraryCache=JSON.parse(w);localStorage.setItem(hc.I.LOCAL_STORAGE_LIBRARY,w)}catch(H){ug.libraryCache=p,console.error(H)}};var L=function(d,
p){function w(Ba){return function(Ra){return function(Ia){if(H)throw new TypeError("Generator is already executing.");for(;ua;)try{if(H=1,U&&(ba=2&Ia[0]?U.return:Ia[0]?U.throw||((ba=U.return)&&ba.call(U),0):U.next)&&!(ba=ba.call(U,Ia[1])).done)return ba;switch(U=0,ba&&(Ia=[2&Ia[0],ba.value]),Ia[0]){case 0:case 1:ba=Ia;break;case 4:return ua.label++,{value:Ia[1],done:!1};case 5:ua.label++;U=Ia[1];Ia=[0];continue;case 7:Ia=ua.ops.pop();ua.trys.pop();continue;default:if(!(ba=ua.trys,(ba=0<ba.length&&
ba[ba.length-1])||6!==Ia[0]&&2!==Ia[0])){ua=0;continue}if(3===Ia[0]&&(!ba||Ia[1]>ba[0]&&Ia[1]<ba[3]))ua.label=Ia[1];else if(6===Ia[0]&&ua.label<ba[1])ua.label=ba[1],ba=Ia;else if(ba&&ua.label<ba[2])ua.label=ba[2],ua.ops.push(Ia);else{ba[2]&&ua.ops.pop();ua.trys.pop();continue}}Ia=p.call(d,ua)}catch(ib){Ia=[6,ib],U=0}finally{H=ba=0}if(5&Ia[0])throw Ia[1];return{value:Ia[0]?Ia[1]:void 0,done:!0}}([Ba,Ra])}}var H,U,ba,va,ua={label:0,sent:function(){if(1&ba[0])throw ba[1];return ba[1]},trys:[],ops:[]};
return va={next:w(0),throw:w(1),return:w(2)},"function"==typeof Symbol&&(va[Symbol.iterator]=function(){return this}),va},fa=function(d,p){return JSON.stringify({type:"excalidraw",version:2,source:window.location.origin,elements:Df(d),appState:ti(p,"export")},null,2)},za=function(){var d=Pc()(function(p,w){var H;return L(this,function(U){switch(U.label){case 0:return H=fa(p,w),[4,ih(new Blob([H],{type:"application/json"}),{fileName:w.name,description:"Excalidraw file",extensions:[".excalidraw"]},
w.fileHandle)];case 1:return[2,{fileHandle:U.sent()}]}})});return function(p,w){return d.apply(this,arguments)}}(),bb=function(){var d=Pc()(function(p){var w;return L(this,function(H){switch(H.label){case 0:return[4,th({description:"Excalidraw files",extensions:[".json",".excalidraw",".png",".svg"],mimeTypes:["application/json","image/png","image/svg+xml"]})];case 1:return w=H.sent(),[2,Lm(w,p)]}})});return function(p){return d.apply(this,arguments)}}(),yb=function(){var d=Pc()(function(){var p,w;
return L(this,function(H){switch(H.label){case 0:return[4,ug.loadLibrary()];case 1:return p=H.sent(),w=JSON.stringify({type:"excalidrawlib",version:1,library:p},null,2),"library.excalidrawlib",[4,ih(new Blob([w],{type:hc.LO.excalidrawlib}),{fileName:"library.excalidrawlib",description:"Excalidraw library file",extensions:[".excalidrawlib"]})];case 2:return H.sent(),[2]}})});return function(){return d.apply(this,arguments)}}(),Kb=function(){var d=Pc()(function(){var p;return L(this,function(w){switch(w.label){case 0:return[4,
th({description:"Excalidraw library files",extensions:[".json",".excalidrawlib"],mimeTypes:["application/json"]})];case 1:return p=w.sent(),ug.importLibrary(p),[2]}})});return function(){return d.apply(this,arguments)}}(),oc=function(d,p){function w(Ba){return function(Ra){return function(Ia){if(H)throw new TypeError("Generator is already executing.");for(;ua;)try{if(H=1,U&&(ba=2&Ia[0]?U.return:Ia[0]?U.throw||((ba=U.return)&&ba.call(U),0):U.next)&&!(ba=ba.call(U,Ia[1])).done)return ba;switch(U=0,
ba&&(Ia=[2&Ia[0],ba.value]),Ia[0]){case 0:case 1:ba=Ia;break;case 4:return ua.label++,{value:Ia[1],done:!1};case 5:ua.label++;U=Ia[1];Ia=[0];continue;case 7:Ia=ua.ops.pop();ua.trys.pop();continue;default:if(!(ba=ua.trys,(ba=0<ba.length&&ba[ba.length-1])||6!==Ia[0]&&2!==Ia[0])){ua=0;continue}if(3===Ia[0]&&(!ba||Ia[1]>ba[0]&&Ia[1]<ba[3]))ua.label=Ia[1];else if(6===Ia[0]&&ua.label<ba[1])ua.label=ba[1],ba=Ia;else if(ba&&ua.label<ba[2])ua.label=ba[2],ua.ops.push(Ia);else{ba[2]&&ua.ops.pop();ua.trys.pop();
continue}}Ia=p.call(d,ua)}catch(ib){Ia=[6,ib],U=0}finally{H=ba=0}if(5&Ia[0])throw Ia[1];return{value:Ia[0]?Ia[1]:void 0,done:!0}}([Ba,Ra])}}var H,U,ba,va,ua={label:0,sent:function(){if(1&ba[0])throw ba[1];return ba[1]},trys:[],ops:[]};return va={next:w(0),throw:w(1),return:w(2)},"function"==typeof Symbol&&(va[Symbol.iterator]=function(){return this}),va},Dc=function(){var d=Pc()(function(p,w,H,U,ba){var va,ua,Ba,Ra,Ia,ib,rb,pb,dc,Vb=ba.exportBackground,Bc=ba.exportPadding,fd=void 0===Bc?10:Bc,hd=
ba.viewBackgroundColor,ud=ba.name;Bc=ba.scale;var le=void 0===Bc?1:Bc,ke=ba.shouldAddWatermark;return oc(this,function(Oe){switch(Oe.label){case 0:if(0===w.length)throw Error(cb("alerts.cannotExportEmptyCanvas"));return"svg"!==p&&"clipboard-svg"!==p?[3,7]:(ua=Nl,Ba=[w],Ra={exportBackground:Vb,exportWithDarkMode:H.exportWithDarkMode,viewBackgroundColor:hd,exportPadding:fd,scale:le,shouldAddWatermark:ke},H.exportEmbedScene&&"svg"===p?[4,Promise.all([h.e(736),h.e(9)]).then(h.bind(h,8527))]:[3,3]);case 1:return[4,
Oe.sent().encodeSvgMetadata({text:fa(w,H)})];case 2:return Ia=Oe.sent(),[3,4];case 3:Ia=void 0,Oe.label=4;case 4:return va=ua.apply(void 0,Ba.concat([(Ra.metadata=Ia,Ra)])),"svg"!==p?[3,6]:[4,ih(new Blob([va.outerHTML],{type:"image/svg+xml"}),{fileName:"".concat(ud,".svg"),extensions:[".svg"]})];case 5:return Oe.sent(),[2];case 6:if("clipboard-svg"===p)return Dh(va.outerHTML),[2];Oe.label=7;case 7:return(ib=tm(w,H,{exportBackground:Vb,viewBackgroundColor:hd,exportPadding:fd,scale:le,shouldAddWatermark:ke})).style.display=
"none",document.body.appendChild(ib),"png"!==p?[3,13]:(rb="".concat(ud,".png"),[4,pm(ib)]);case 8:return pb=Oe.sent(),H.exportEmbedScene?[4,Promise.all([h.e(736),h.e(9)]).then(h.bind(h,8527))]:[3,11];case 9:return[4,Oe.sent().encodePngMetadata({blob:pb,metadata:fa(w,H)})];case 10:pb=Oe.sent(),Oe.label=11;case 11:return[4,ih(pb,{fileName:rb,extensions:[".png"]})];case 12:return Oe.sent(),[3,17];case 13:if("clipboard"!==p)return[3,17];Oe.label=14;case 14:return Oe.trys.push([14,16,,17]),[4,wn(ib)];
case 15:return Oe.sent(),[3,17];case 16:if("CANVAS_POSSIBLY_TOO_BIG"===(dc=Oe.sent()).name)throw dc;throw Error(cb("alerts.couldNotCopyToClipboard"));case 17:return ib!==U&&ib.remove(),[2]}})});return function(p,w,H,U,ba){return d.apply(this,arguments)}}(),Lc=function(d,p){function w(Ba){return function(Ra){return function(Ia){if(H)throw new TypeError("Generator is already executing.");for(;ua;)try{if(H=1,U&&(ba=2&Ia[0]?U.return:Ia[0]?U.throw||((ba=U.return)&&ba.call(U),0):U.next)&&!(ba=ba.call(U,
Ia[1])).done)return ba;switch(U=0,ba&&(Ia=[2&Ia[0],ba.value]),Ia[0]){case 0:case 1:ba=Ia;break;case 4:return ua.label++,{value:Ia[1],done:!1};case 5:ua.label++;U=Ia[1];Ia=[0];continue;case 7:Ia=ua.ops.pop();ua.trys.pop();continue;default:if(!(ba=ua.trys,(ba=0<ba.length&&ba[ba.length-1])||6!==Ia[0]&&2!==Ia[0])){ua=0;continue}if(3===Ia[0]&&(!ba||Ia[1]>ba[0]&&Ia[1]<ba[3]))ua.label=Ia[1];else if(6===Ia[0]&&ua.label<ba[1])ua.label=ba[1],ba=Ia;else if(ba&&ua.label<ba[2])ua.label=ba[2],ua.ops.push(Ia);else{ba[2]&&
ua.ops.pop();ua.trys.pop();continue}}Ia=p.call(d,ua)}catch(ib){Ia=[6,ib],U=0}finally{H=ba=0}if(5&Ia[0])throw Ia[1];return{value:Ia[0]?Ia[1]:void 0,done:!0}}([Ba,Ra])}}var H,U,ba,va,ua={label:0,sent:function(){if(1&ba[0])throw ba[1];return ba[1]},trys:[],ops:[]};return va={next:w(0),throw:w(1),return:w(2)},"function"==typeof Symbol&&(va[Symbol.iterator]=function(){return this}),va},Xc,nd,Qd;ne({name:"changeProjectName",perform:function(d,p,w){return Tg("change","title"),{appState:Wa(Wa({},p),{},{name:w}),
commitToHistory:!1}},PanelComponent:function(d){var p=d.appState,w=d.updateData;return Ca().createElement(Bi,{label:cb("labels.fileTitle"),value:p.name||"Unnamed",onChange:function(H){return w(H)}})}});ne({name:"changeExportBackground",perform:function(d,p,w){return{appState:Wa(Wa({},p),{},{exportBackground:w}),commitToHistory:!1}},PanelComponent:function(d){var p=d.appState,w=d.updateData;return Ca().createElement("label",null,Ca().createElement("input",{type:"checkbox",checked:p.exportBackground,
onChange:function(H){return w(H.target.checked)}})," ",cb("labels.withBackground"))}});ne({name:"changeExportEmbedScene",perform:function(d,p,w){return{appState:Wa(Wa({},p),{},{exportEmbedScene:w}),commitToHistory:!1}},PanelComponent:function(d){var p=d.appState,w=d.updateData;return Ca().createElement("label",{style:{display:"flex"}},Ca().createElement("input",{type:"checkbox",checked:p.exportEmbedScene,onChange:function(H){return w(H.target.checked)}})," ",cb("labels.exportEmbedScene"),Ca().createElement(Ej,
{label:cb("labels.exportEmbedScene_details"),position:"above",long:!0},Ca().createElement("div",{className:"TooltipIcon"},ed)))}});ne({name:"changeShouldAddWatermark",perform:function(d,p,w){return{appState:Wa(Wa({},p),{},{shouldAddWatermark:w}),commitToHistory:!1}},PanelComponent:function(d){var p=d.appState,w=d.updateData;return Ca().createElement("label",null,Ca().createElement("input",{type:"checkbox",checked:p.shouldAddWatermark,onChange:function(H){return w(H.target.checked)}})," ",cb("labels.addWatermark"))}});
ne({name:"saveScene",perform:(Xc=Pc()(function(d,p,w){var H,U,ba;return Lc(this,function(va){switch(va.label){case 0:H=!!p.fileHandle,va.label=1;case 1:return va.trys.push([1,3,,4]),[4,za(d,p)];case 2:return U=va.sent().fileHandle,[2,{commitToHistory:!1,appState:Wa(Wa({},p),{},{fileHandle:U,toastMessage:H?U.name?cb("toast.fileSavedToFilename").replace("{filename}",'"'.concat(U.name,'"')):cb("toast.fileSaved"):null})}];case 3:return"AbortError"!==(null==(ba=va.sent())?void 0:ba.name)&&console.error(ba),
[2,{commitToHistory:!1}];case 4:return[2]}})}),function(d,p,w){return Xc.apply(this,arguments)}),keyTest:function(d){return"s"===d.key&&d[cf]&&!d.shiftKey},PanelComponent:function(d){var p=d.updateData;return Ca().createElement(gf,{type:"button",icon:De,title:cb("buttons.save"),"aria-label":cb("buttons.save"),showAriaLabel:Ue(),onClick:function(){return p(null)}})}});ne({name:"saveAsScene",perform:(nd=Pc()(function(d,p,w){var H,U;return Lc(this,function(ba){switch(ba.label){case 0:return ba.trys.push([0,
2,,3]),[4,za(d,Wa(Wa({},p),{},{fileHandle:null}))];case 1:return H=ba.sent().fileHandle,[2,{commitToHistory:!1,appState:Wa(Wa({},p),{},{fileHandle:H})}];case 2:return"AbortError"!==(null==(U=ba.sent())?void 0:U.name)&&console.error(U),[2,{commitToHistory:!1}];case 3:return[2]}})}),function(d,p,w){return nd.apply(this,arguments)}),keyTest:function(d){return"s"===d.key&&d.shiftKey&&d[cf]},PanelComponent:function(d){var p=d.updateData;return Ca().createElement(gf,{type:"button",icon:Cm,title:cb("buttons.saveAs"),
"aria-label":cb("buttons.saveAs"),showAriaLabel:Ue(),hidden:!("chooseFileSystemEntries"in window||"showOpenFilePicker"in window),onClick:function(){return p(null)}})}});ne({name:"loadScene",perform:(Qd=Pc()(function(d,p){var w,H,U,ba;return Lc(this,function(va){switch(va.label){case 0:return va.trys.push([0,2,,3]),[4,bb(p)];case 1:return w=va.sent(),H=w.elements,U=w.appState,[2,{elements:H,appState:U,commitToHistory:!0}];case 2:return"AbortError"===(null==(ba=va.sent())?void 0:ba.name)?[2,!1]:[2,
{elements:d,appState:Wa(Wa({},p),{},{errorMessage:ba.message}),commitToHistory:!1}];case 3:return[2]}})}),function(d,p){return Qd.apply(this,arguments)}),keyTest:function(d){return d[cf]&&"o"===d.key},PanelComponent:function(d){var p=d.updateData;d.appState;return Ca().createElement(gf,{type:"button",icon:nm,title:cb("buttons.load"),"aria-label":cb("buttons.load"),showAriaLabel:Ue(),onClick:p})}});ne({name:"exportWithDarkMode",perform:function(d,p,w){return{appState:Wa(Wa({},p),{},{exportWithDarkMode:w}),
commitToHistory:!1}},PanelComponent:function(d){var p=d.appState,w=d.updateData;return Ca().createElement("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:"-45px",marginBottom:"10px"}},Ca().createElement(ek,{value:p.exportWithDarkMode?"dark":"light",onChange:function(H){w("dark"===H)},title:cb("labels.toggleExportColorScheme")}))}});var ee="{}",qf=ne({name:"copyStyles",perform:function(d,p){d=d.find(function(w){return p.selectedElementIds[w.id]});return d&&(ee=JSON.stringify(d)),{appState:tb(tb({},
p),{},{toastMessage:cb("toast.copyStyles")}),commitToHistory:!1}},contextItemLabel:"labels.copyStyles",keyTest:function(d){return d[cf]&&d.altKey&&"KeyC"===d.code}}),hf=ne({name:"pasteStyles",perform:function(d,p){var w=JSON.parse(ee);return"text"!==(null==w?void 0:w.type)&&"diamond"!==(null==w?void 0:w.type)&&"rectangle"!==(null==w?void 0:w.type)&&"ellipse"!==(null==w?void 0:w.type)&&"arrow"!==(null==w?void 0:w.type)&&"draw"!==(null==w?void 0:w.type)&&"line"!==(null==w?void 0:w.type)?{elements:d,
commitToHistory:!1}:{elements:d.map(function(H){return p.selectedElementIds[H.id]?(H=zg(H,{backgroundColor:null==w?void 0:w.backgroundColor,strokeWidth:null==w?void 0:w.strokeWidth,strokeColor:null==w?void 0:w.strokeColor,strokeStyle:null==w?void 0:w.strokeStyle,fillStyle:null==w?void 0:w.fillStyle,opacity:null==w?void 0:w.opacity,roughness:null==w?void 0:w.roughness}),be(H)&&(jf(H,{fontSize:(null==w?void 0:w.fontSize)||hc.n5,fontFamily:(null==w?void 0:w.fontFamily)||hc.rk,textAlign:(null==w?void 0:
w.textAlign)||hc.Hg}),nk(H)),H):H}),commitToHistory:!0}},contextItemLabel:"labels.pasteStyles",keyTest:function(d){return d[cf]&&d.altKey&&"KeyV"===d.code}}),di=function(d){return Ca().createElement("label",{title:"".concat(d.title," — ?"),className:"help-icon"},Ca().createElement("div",{onClick:d.onClick},ed))};ne({name:"toggleCanvasMenu",perform:function(d,p){return{appState:qc(qc({},p),{},{openMenu:"canvas"===p.openMenu?null:"canvas"}),commitToHistory:!1}},PanelComponent:function(d){var p=d.appState;
d=d.updateData;return Ca().createElement(gf,{type:"button",icon:Nk,"aria-label":cb("buttons.menu"),onClick:d,selected:"canvas"===p.openMenu})}});ne({name:"toggleEditMenu",perform:function(d,p){return{appState:qc(qc({},p),{},{openMenu:"shape"===p.openMenu?null:"shape"}),commitToHistory:!1}},PanelComponent:function(d){var p=d.elements,w=d.appState;d=d.updateData;return Ca().createElement(gf,{visible:qh(w,fe(p)),type:"button",icon:Mh,"aria-label":cb("buttons.edit"),onClick:d,selected:"shape"===w.openMenu})}});
ne({name:"toggleFullScreen",perform:function(){return vh()||document.documentElement.requestFullscreen(),vh()&&document.exitFullscreen(),{commitToHistory:!1}},keyTest:function(d){return"KeyF"===d.code&&!d[cf]}});ne({name:"toggleShortcuts",perform:function(d,p){return{appState:qc(qc({},p),{},{showHelpDialog:!p.showHelpDialog}),commitToHistory:!1}},PanelComponent:function(d){d=d.updateData;return Ca().createElement(di,{title:cb("helpDialog.title"),onClick:d})},keyTest:function(d){return"?"===d.key}});
var am=function(){for(var d=0,p=0,w=arguments.length;p<w;p++)d+=arguments[p].length;d=Array(d);var H=0;for(p=0;p<w;p++)for(var U=arguments[p],ba=0,va=U.length;ba<va;ba++,H++)d[H]=U[ba];return d},Xj=function(d,p){d=uf(fe(d),p);return 2<=d.length&&!function(w){if(2<=w.length)for(var H=function(ua){if(w.reduce(function(Ba,Ra){return Ba&&Ra.groupIds.includes(ua)},!0))return{value:!0}},U=0,ba=w[0].groupIds;U<ba.length;U++){var va=H(ba[U]);if("object"==typeof va)return va.value}return!1}(d)},bg=ne({name:"group",
perform:function(d,p){var w=uf(fe(d),p);if(2>w.length)return{appState:p,elements:d,commitToHistory:!1};var H=Ji(p);if(1===H.length&&(H=new Set(Zj(d,H[0]).map(function(va){return va.id})),w=new Set(w.map(function(va){return va.id})),(new Set(am(Array.from(H),Array.from(w)))).size===H.size))return{appState:p,elements:d,commitToHistory:!1};var U=vi();H=d.map(function(va){if(p.selectedElementIds[va.id]){var ua=p.editingGroupId;var Ba=ul(va.groupIds);ua=ua?Ba.indexOf(ua):-1;Ba=(Ba.splice(-1<ua?ua:Ba.length,
0,U),Ba);va=zg(va,{groupIds:Ba})}return va});d=Zj(H,U);var ba=H.lastIndexOf(d[d.length-1]);w=H.slice(ba+1);H=H.slice(0,ba).filter(function(va){return!va.groupIds.includes(U)});d=am(H,d,w);return{appState:Yj(U,Nc(Nc({},p),{},{selectedGroupIds:{}}),fe(d)),elements:d,commitToHistory:!0}},contextItemLabel:"labels.group",contextItemPredicate:function(d,p){return Xj(d,p)},keyTest:function(d){return!d.shiftKey&&d[cf]&&"KeyG"===d.code},PanelComponent:function(d){var p=d.elements,w=d.appState,H=d.updateData;
return Ca().createElement(gf,{hidden:!Xj(p,w),type:"button",icon:Ca().createElement(sf,{appearance:w.appearance}),onClick:function(){return H(null)},title:"".concat(cb("labels.group")," — ").concat(Vd("CtrlOrCmd+G")),"aria-label":cb("labels.group"),visible:jg(fe(p),w)})}}),wi=ne({name:"ungroup",perform:function(d,p){if(0===Ji(p).length)return{appState:p,elements:d,commitToHistory:!1};d=d.map(function(w){var H=function(U,ba){return U.filter(function(va){return!ba[va]})}(w.groupIds,p.selectedGroupIds);
return H.length===w.groupIds.length?w:zg(w,{groupIds:H})});return{appState:Vh(Nc(Nc({},p),{},{selectedGroupIds:{}}),fe(d)),elements:d,commitToHistory:!0}},keyTest:function(d){return d.shiftKey&&d[cf]&&"KeyG"===d.code},contextItemLabel:"labels.ungroup",contextItemPredicate:function(d,p){return 0<Ji(p).length},PanelComponent:function(d){var p=d.elements,w=d.appState,H=d.updateData;return Ca().createElement(gf,{type:"button",hidden:0===Ji(w).length,icon:Ca().createElement(Jk,{appearance:w.appearance}),
onClick:function(){return H(null)},title:"".concat(cb("labels.ungroup")," — ").concat(Vd("CtrlOrCmd+Shift+G")),"aria-label":cb("labels.ungroup"),visible:jg(fe(p),w)})}}),Fk=(h(1395),function(d){var p=d.children,w=d.color,H=d.border;d=d.onClick;return Ca().createElement("div",{className:"Avatar",style:{background:w,border:"1px solid ".concat(H)},onClick:d},p)});ne({name:"goToCollaborator",perform:function(d,p,w){return w?{appState:Yc(Yc(Yc({},p),Vi({scenePoint:w,viewportDimensions:{width:p.width,height:p.height},
zoom:p.zoom})),{},{openMenu:"canvas"===p.openMenu?null:p.openMenu}),commitToHistory:!1}:{appState:p,commitToHistory:!1}},PanelComponent:function(d){var p=d.appState,w=d.updateData;d=d.id;if(!d)return null;var H=p.collaborators.get(d);if(!H)return null;d=Ri(d,p);p=d.background;d=d.stroke;var U=function(ba){if(!ba)return"?";ba=ba.trim().split(" ");return 2>ba.length?ba[0].substring(0,2).toUpperCase():(ba[0][0]+ba[ba.length-1][0]).toUpperCase()}(H.username);return Ca().createElement(Fk,{color:p,border:d,
onClick:function(){return w(H.pointer)}},U)}});var gn=function(){for(var d=0,p=0,w=arguments.length;p<w;p++)d+=arguments[p].length;d=Array(d);var H=0;for(p=0;p<w;p++)for(var U=arguments[p],ba=0,va=U.length;ba<va;ba++,H++)d[H]=U[ba];return d},Jo=ne({name:"addToLibrary",perform:function(d,p){var w=uf(fe(d),p);return ug.loadLibrary().then(function(H){ug.saveLibrary(gn(H,[w.map(Jj)]))}),!1},contextItemLabel:"labels.addToLibrary"}),Zn=function(){for(var d=0,p=0,w=arguments.length;p<w;p++)d+=arguments[p].length;
d=Array(d);var H=0;for(p=0;p<w;p++)for(var U=arguments[p],ba=0,va=U.length;ba<va;ba++,H++)d[H]=U[ba];return d},$n=function(d){var p=new Map;return d.forEach(function(w){var H=0===w.groupIds.length?w.id:w.groupIds[w.groupIds.length-1],U=p.get(H)||[];p.set(H,Zn(U,[w]))}),Array.from(p.values())},Cf=function(d,p,w){var H,U,ba,va=w.axis;w=w.position;d=Uj(d);var ua="x"===va?["minX","maxX"]:["minY","maxY"],Ba=ua[0];ua=ua[1];return sc(sc({},{x:0,y:0}),{},"start"===w?((H={})[va]=p[Ba]-d[Ba],H):"end"===w?((U=
{})[va]=p[ua]-d[ua],U):((ba={})[va]=(p[Ba]+p[ua])/2-(d[Ba]+d[ua])/2,ba))},Uj=function(d){d=Cg(d);return{minX:d[0],minY:d[1],maxX:d[2],maxY:d[3]}},Yh=function(d,p){return 1<uf(fe(d),p).length},Ii=function(d,p,w){p=function(U,ba){var va=$n(U),ua=Uj(U);return va.flatMap(function(Ba){var Ra=Cf(Ba,ua,ba);return Ba.map(function(Ia){return zg(Ia,{x:Ia.x+Ra.x,y:Ia.y+Ra.y})})})}(uf(fe(d),p),w);var H=Yi(p);return d.map(function(U){return H[U.id]||U})},Bn=(ne({name:"alignTop",perform:function(d,p){return{appState:p,
elements:Ii(d,p,{position:"start",axis:"y"}),commitToHistory:!0}},keyTest:function(d){return d[cf]&&d.shiftKey&&"ArrowUp"===d.key},PanelComponent:function(d){var p=d.elements,w=d.appState,H=d.updateData;return Ca().createElement(gf,{hidden:!Yh(p,w),type:"button",icon:Ca().createElement(Gh,{appearance:w.appearance}),onClick:function(){return H(null)},title:"".concat(cb("labels.alignTop")," — ").concat(Vd("CtrlOrCmd+Shift+Up")),"aria-label":cb("labels.alignTop"),visible:jg(fe(p),w)})}}),ne({name:"alignBottom",
perform:function(d,p){return{appState:p,elements:Ii(d,p,{position:"end",axis:"y"}),commitToHistory:!0}},keyTest:function(d){return d[cf]&&d.shiftKey&&"ArrowDown"===d.key},PanelComponent:function(d){var p=d.elements,w=d.appState,H=d.updateData;return Ca().createElement(gf,{hidden:!Yh(p,w),type:"button",icon:Ca().createElement(rg,{appearance:w.appearance}),onClick:function(){return H(null)},title:"".concat(cb("labels.alignBottom")," — ").concat(Vd("CtrlOrCmd+Shift+Down")),"aria-label":cb("labels.alignBottom"),
visible:jg(fe(p),w)})}}),ne({name:"alignLeft",perform:function(d,p){return{appState:p,elements:Ii(d,p,{position:"start",axis:"x"}),commitToHistory:!0}},keyTest:function(d){return d[cf]&&d.shiftKey&&"ArrowLeft"===d.key},PanelComponent:function(d){var p=d.elements,w=d.appState,H=d.updateData;return Ca().createElement(gf,{hidden:!Yh(p,w),type:"button",icon:Ca().createElement(Nj,{appearance:w.appearance}),onClick:function(){return H(null)},title:"".concat(cb("labels.alignLeft")," — ").concat(Vd("CtrlOrCmd+Shift+Left")),
"aria-label":cb("labels.alignLeft"),visible:jg(fe(p),w)})}}),ne({name:"alignRight",perform:function(d,p){return{appState:p,elements:Ii(d,p,{position:"end",axis:"x"}),commitToHistory:!0}},keyTest:function(d){return d[cf]&&d.shiftKey&&"ArrowRight"===d.key},PanelComponent:function(d){var p=d.elements,w=d.appState,H=d.updateData;return Ca().createElement(gf,{hidden:!Yh(p,w),type:"button",icon:Ca().createElement(id,{appearance:w.appearance}),onClick:function(){return H(null)},title:"".concat(cb("labels.alignRight"),
" — ").concat(Vd("CtrlOrCmd+Shift+Right")),"aria-label":cb("labels.alignRight"),visible:jg(fe(p),w)})}}),ne({name:"alignVerticallyCentered",perform:function(d,p){return{appState:p,elements:Ii(d,p,{position:"center",axis:"y"}),commitToHistory:!0}},PanelComponent:function(d){var p=d.elements,w=d.appState,H=d.updateData;return Ca().createElement(gf,{hidden:!Yh(p,w),type:"button",icon:Ca().createElement($c,{appearance:w.appearance}),onClick:function(){return H(null)},title:cb("labels.centerVertically"),
"aria-label":cb("labels.centerVertically"),visible:jg(fe(p),w)})}}),ne({name:"alignHorizontallyCentered",perform:function(d,p){return{appState:p,elements:Ii(d,p,{position:"center",axis:"x"}),commitToHistory:!0}},PanelComponent:function(d){var p=d.elements,w=d.appState,H=d.updateData;return Ca().createElement(gf,{hidden:!Yh(p,w),type:"button",icon:Ca().createElement(Ok,{appearance:w.appearance}),onClick:function(){return H(null)},title:cb("labels.centerHorizontally"),"aria-label":cb("labels.centerHorizontally"),
visible:jg(fe(p),w)})}}),function(){for(var d=0,p=0,w=arguments.length;p<w;p++)d+=arguments[p].length;d=Array(d);var H=0;for(p=0;p<w;p++)for(var U=arguments[p],ba=0,va=U.length;ba<va;ba++,H++)d[H]=U[ba];return d}),dq=function(d){var p=new Map;return d.forEach(function(w){var H=0===w.groupIds.length?w.id:w.groupIds[w.groupIds.length-1],U=p.get(H)||[];p.set(H,Bn(U,[w]))}),Array.from(p.values())},vj=function(d){var p=Cg(d);d=p[0];var w=p[1],H=p[2];p=p[3];return{minX:d,minY:w,maxX:H,maxY:p,width:H-d,
height:p-w,midX:(d+H)/2,midY:(w+p)/2}},Io=function(d,p){return 1<uf(fe(d),p).length},zn=function(d,p,w){p=function(U,ba){var va="x"===ba.axis?["minX","midX","maxX","width"]:["minY","midY","maxY","height"],ua=va[0],Ba=va[1],Ra=va[2],Ia=va[3],ib=vj(U);U=dq(U).map(function(ud){return[ud,vj(ud)]}).sort(function(ud,le){return ud[1][Ba]-le[1][Ba]});for(var rb=va=0;rb<U.length;rb++)va+=U[rb][1][Ia];var pb=(ib[Ia]-va)/(U.length-1);if(0>pb){var dc=U.findIndex(function(ud){return ud[1][ua]===ib[ua]}),Vb=U.findIndex(function(ud){return ud[1][Ra]===
ib[Ra]}),Bc=(U[Vb][1][Ba]-U[dc][1][Ba])/(U.length-1),fd=U[dc][1][Ba];return U.flatMap(function(ud,le){var ke=ud[0];ud=ud[1];var Oe={x:0,y:0};return le!==dc&&le!==Vb&&(fd+=Bc,Oe[ba.axis]=fd-ud[Ba]),ke.map(function(Je){return zg(Je,{x:Je.x+Oe.x,y:Je.y+Oe.y})})})}var hd=ib[ua];return U.flatMap(function(ud){var le=ud[0];ud=ud[1];var ke={x:0,y:0};return ke[ba.axis]=hd-ud[ua],hd+=pb,hd+=ud[Ia],le.map(function(Oe){return zg(Oe,{x:Oe.x+ke.x,y:Oe.y+ke.y})})})}(uf(fe(d),p),w);var H=Yi(p);return d.map(function(U){return H[U.id]||
U})},Xn=(ne({name:"distributeHorizontally",perform:function(d,p){return{appState:p,elements:zn(d,p,{space:"between",axis:"x"}),commitToHistory:!0}},keyTest:function(d){return d.altKey&&"KeyH"===d.code},PanelComponent:function(d){var p=d.elements,w=d.appState,H=d.updateData;return Ca().createElement(gf,{hidden:!Io(p,w),type:"button",icon:Ca().createElement(qd,{appearance:w.appearance}),onClick:function(){return H(null)},title:"".concat(cb("labels.distributeHorizontally")," — ").concat(Vd("Alt+H")),
"aria-label":cb("labels.distributeHorizontally"),visible:jg(fe(p),w)})}}),ne({name:"distributeVertically",perform:function(d,p){return{appState:p,elements:zn(d,p,{space:"between",axis:"y"}),commitToHistory:!0}},keyTest:function(d){return d.altKey&&"KeyV"===d.code},PanelComponent:function(d){var p=d.elements,w=d.appState,H=d.updateData;return Ca().createElement(gf,{hidden:!Io(p,w),type:"button",icon:Ca().createElement(Pg,{appearance:w.appearance}),onClick:function(){return H(null)},title:"".concat(cb("labels.distributeVertically"),
" — ").concat(Vd("Alt+V")),"aria-label":cb("labels.distributeVertically"),visible:jg(fe(p),w)})}}),function(d,p){function w(Ba){return function(Ra){return function(Ia){if(H)throw new TypeError("Generator is already executing.");for(;ua;)try{if(H=1,U&&(ba=2&Ia[0]?U.return:Ia[0]?U.throw||((ba=U.return)&&ba.call(U),0):U.next)&&!(ba=ba.call(U,Ia[1])).done)return ba;switch(U=0,ba&&(Ia=[2&Ia[0],ba.value]),Ia[0]){case 0:case 1:ba=Ia;break;case 4:return ua.label++,{value:Ia[1],done:!1};case 5:ua.label++;
U=Ia[1];Ia=[0];continue;case 7:Ia=ua.ops.pop();ua.trys.pop();continue;default:if(!(ba=ua.trys,(ba=0<ba.length&&ba[ba.length-1])||6!==Ia[0]&&2!==Ia[0])){ua=0;continue}if(3===Ia[0]&&(!ba||Ia[1]>ba[0]&&Ia[1]<ba[3]))ua.label=Ia[1];else if(6===Ia[0]&&ua.label<ba[1])ua.label=ba[1],ba=Ia;else if(ba&&ua.label<ba[2])ua.label=ba[2],ua.ops.push(Ia);else{ba[2]&&ua.ops.pop();ua.trys.pop();continue}}Ia=p.call(d,ua)}catch(ib){Ia=[6,ib],U=0}finally{H=ba=0}if(5&Ia[0])throw Ia[1];return{value:Ia[0]?Ia[1]:void 0,done:!0}}([Ba,
Ra])}}var H,U,ba,va,ua={label:0,sent:function(){if(1&ba[0])throw ba[1];return ba[1]},trys:[],ops:[]};return va={next:w(0),throw:w(1),return:w(2)},"function"==typeof Symbol&&(va[Symbol.iterator]=function(){return this}),va}),fn=ne({name:"copy",perform:function(d,p){return yn(fe(d),p),{commitToHistory:!1}},contextItemLabel:"labels.copy",keyTest:function(d){return d[cf]&&"KeyC"===d.code}}),cq=ne({name:"cut",perform:function(d,p,w,H){return fn.perform(d,p,w,H),Sg.perform(d,p,w,H)},contextItemLabel:"labels.cut",
keyTest:function(d){return d[cf]&&"KeyX"===d.code}}),sp=ne({name:"copyAsSvg",perform:function(){var d=Pc()(function(p,w,H,U){var ba,va;return Xn(this,function(ua){switch(ua.label){case 0:if(!U.canvas)return[2,{commitToHistory:!1}];ba=uf(fe(p),w);ua.label=1;case 1:return ua.trys.push([1,3,,4]),[4,Dc("clipboard-svg",ba.length?ba:fe(p),w,U.canvas,w)];case 2:return ua.sent(),[2,{commitToHistory:!1}];case 3:return va=ua.sent(),console.error(va),[2,{appState:he(he({},w),{},{errorMessage:va.message}),commitToHistory:!1}];
case 4:return[2]}})});return function(p,w,H,U){return d.apply(this,arguments)}}(),contextItemLabel:"labels.copyAsSvg"}),rp=ne({name:"copyAsPng",perform:function(){var d=Pc()(function(p,w,H,U){var ba,va;return Xn(this,function(ua){switch(ua.label){case 0:if(!U.canvas)return[2,{commitToHistory:!1}];ba=uf(fe(p),w);ua.label=1;case 1:return ua.trys.push([1,3,,4]),[4,Dc("clipboard",ba.length?ba:fe(p),w,U.canvas,w)];case 2:return ua.sent(),[2,{appState:he(he({},w),{},{toastMessage:cb("toast.copyToClipboardAsPng",
{exportSelection:ba.length?cb("toast.selection"):cb("toast.canvas"),exportColorScheme:w.exportWithDarkMode?cb("buttons.darkMode"):cb("buttons.lightMode")})}),commitToHistory:!1}];case 3:return va=ua.sent(),console.error(va),[2,{appState:he(he({},w),{},{errorMessage:va.message}),commitToHistory:!1}];case 4:return[2]}})});return function(p,w,H,U){return d.apply(this,arguments)}}(),contextItemLabel:"labels.copyAsPng",keyTest:function(d){return"KeyC"===d.code&&d.altKey&&d.shiftKey}}),pp=ne({name:"gridMode",
perform:function(d,p){return Tg("view","mode","grid"),{appState:Ae(Ae({},p),{},{gridSize:this.checked(p)?null:hc.k}),commitToHistory:!1}},checked:function(d){return null!==d.gridSize},contextItemLabel:"labels.showGrid",keyTest:function(d){return d[cf]&&"Quote"===d.code}}),oe=ne({name:"zenMode",perform:function(d,p){return Tg("view","mode","zen"),{appState:ic(ic({},p),{},{zenModeEnabled:!this.checked(p)}),commitToHistory:!1}},checked:function(d){return d.zenModeEnabled},contextItemLabel:"buttons.zenMode",
keyTest:function(d){return!d[cf]&&d.altKey&&"KeyZ"===d.code}}),Yn=ne({name:"stats",perform:function(d,p){return{appState:kc(kc({},p),{},{showStats:!this.checked(p)}),commitToHistory:!1}},checked:function(d){return d.showStats},contextItemLabel:"stats.title"}),qp=function(d,p,w){if(!(p.multiElement||p.resizingElement||p.editingElement||p.draggingElement)){w=w();if(null===w)return{commitToHistory:!1};var H=Yi(d),U=w.elements,ba=Yi(U);d=d.filter(function(va){return!ba.hasOwnProperty(va.id)});U=U.map(function(va){return zg(H[va.id]||
va,va)}).concat(d.map(function(va){return zg(va,{isDeleted:!0})}));return qj(U,d),{elements:U,appState:Ad(Ad({},p),w.appState),commitToHistory:!1,syncHistory:!0}}return{commitToHistory:!1}},sm=function(){function d(p,w,H,U){var ba=this;this.actions={};this.renderAction=function(va,ua){if(ba.actions[va]&&"PanelComponent"in ba.actions[va]){var Ba=ba.actions[va];va=Ba.PanelComponent;return Ca().createElement(va,{elements:ba.getElementsIncludingDeleted(),appState:ba.getAppState(),updateData:function(Ra){ba.updater(Ba.perform(ba.getElementsIncludingDeleted(),
ba.getAppState(),Ra,ba.app))},id:ua})}return null};this.updater=function(va){if(!(va&&"then"in va))return p(va);va.then(function(ua){return p(ua)})};this.getAppState=w;this.getElementsIncludingDeleted=H;this.app=U}return d.prototype.registerAction=function(p){this.actions[p.name]=p},d.prototype.registerAll=function(p){var w=this;p.forEach(function(H){return w.registerAction(H)})},d.prototype.handleKeyDown=function(p){var w=this,H=Object.values(this.actions).sort(function(U,ba){return(ba.keyPriority||
0)-(U.keyPriority||0)}).filter(function(U){return U.keyTest&&U.keyTest(p,w.getAppState(),w.getElementsIncludingDeleted())});return 0!==H.length&&!(this.getAppState().viewModeEnabled&&!Object.values(hc.EH).includes(H[0].name))&&(p.preventDefault(),this.updater(H[0].perform(this.getElementsIncludingDeleted(),this.getAppState(),null,this.app)),!0)},d.prototype.executeAction=function(p){this.updater(p.perform(this.getElementsIncludingDeleted(),this.getAppState(),null,this.app))},d}(),Nm=function(d){d=
Array.from(d.values());return{x:bo(d,function(p){return p.x})/d.length,y:bo(d,function(p){return p.y})/d.length}},ao=function(d){var p=d[0];d=d[1];return Math.hypot(p.x-d.x,p.y-d.y)},bo=function(d,p){return d.reduce(function(w,H){return w+p(H)},0)},Ko,eq=function(){function d(){var p=this;this.elementCache=new Map;this.recording=!0;this.stateHistory=[];this.redoStack=[];this.lastEntry=null;this.generateEntry=function(w,H){return p.dehydrateHistoryEntry({appState:{selectedElementIds:w.selectedElementIds,
viewBackgroundColor:w.viewBackgroundColor,editingLinearElement:w.editingLinearElement,editingGroupId:w.editingGroupId,name:w.name},elements:H.reduce(function(U,ba){if(Gg(ba)&&w.multiElement&&w.multiElement.id===ba.id){if(w.multiElement&&w.multiElement.id===ba.id&&2>ba.points.length)return U;U.push(We(We({},ba),{},{points:ba.lastCommittedPoint!==ba.points[ba.points.length-1]?ba.points.slice(0,-1):ba.points}))}else U.push(ba);return U},[])})}}return d.prototype.hydrateHistoryEntry=function(p){var w=
p.elements,H=this;return{appState:JSON.parse(p.appState),elements:w.map(function(U){var ba,va=null===(ba=H.elementCache.get(U.id))||void 0===ba?void 0:ba.get(U.versionNonce);if(!va)throw Error("Element not found: ".concat(U.id,":").concat(U.versionNonce));return va})}},d.prototype.dehydrateHistoryEntry=function(p){var w=p.elements,H=this;return{appState:JSON.stringify(p.appState),elements:w.map(function(U){H.elementCache.has(U.id)||H.elementCache.set(U.id,new Map);var ba=H.elementCache.get(U.id);
return ba.has(U.versionNonce)||ba.set(U.versionNonce,Jj(U)),{id:U.id,versionNonce:U.versionNonce}})}},d.prototype.getSnapshotForTest=function(){var p=this;return{recording:this.recording,stateHistory:this.stateHistory.map(function(w){return p.hydrateHistoryEntry(w)}),redoStack:this.redoStack.map(function(w){return p.hydrateHistoryEntry(w)})}},d.prototype.clear=function(){this.stateHistory.length=0;this.redoStack.length=0;this.lastEntry=null;this.elementCache.clear()},d.prototype.shouldCreateEntry=
function(p){var w,H=this.lastEntry;if(!H||p.elements.length!==H.elements.length)return!0;for(var U=p.elements.length-1;-1<U;U--){var ba=p.elements[U],va=H.elements[U];if(!ba||!va||ba.id!==va.id||ba.versionNonce!==va.versionNonce)return!0}for(w in p.appState){var ua,Ba;if(("editingLinearElement"!==w||(null===(ua=p.appState[w])||void 0===ua?void 0:ua.elementId)!==(null===(Ba=H.appState[w])||void 0===Ba?void 0:Ba.elementId))&&"selectedElementIds"!==w&&p.appState[w]!==H.appState[w])return!0}return!1},
d.prototype.pushEntry=function(p,w){p=this.generateEntry(p,w);(w=this.hydrateHistoryEntry(p))&&this.shouldCreateEntry(w)&&(this.stateHistory.push(p),this.lastEntry=w,this.clearRedoStack())},d.prototype.clearRedoStack=function(){this.redoStack.splice(0,this.redoStack.length)},d.prototype.redoOnce=function(){if(0===this.redoStack.length)return null;var p=this.redoStack.pop();return void 0!==p?(this.stateHistory.push(p),this.hydrateHistoryEntry(p)):null},d.prototype.undoOnce=function(){if(1===this.stateHistory.length)return null;
var p=this.stateHistory.pop(),w=this.stateHistory[this.stateHistory.length-1];return void 0!==p?(this.redoStack.push(p),this.hydrateHistoryEntry(w)):null},d.prototype.setCurrentState=function(p,w){this.lastEntry=this.hydrateHistoryEntry(this.generateEntry(p,w))},d.prototype.resumeRecording=function(){this.recording=!0},d.prototype.record=function(p,w){this.recording&&(this.pushEntry(p,w),this.recording=!1)},d}(),um=[{icon:Ca().createElement("svg",{viewBox:"0 0 320 512",className:""},Ca().createElement("path",
{d:"M302.189 329.126H196.105l55.831 135.993c3.889 9.428-.555 19.999-9.444 23.999l-49.165 21.427c-9.165 4-19.443-.571-23.332-9.714l-53.053-129.136-86.664 89.138C18.729 472.71 0 463.554 0 447.977V18.299C0 1.899 19.921-6.096 30.277 5.443l284.412 292.542c11.472 11.179 3.007 31.141-12.5 31.141z"})),value:"selection",key:["v","s"]},{icon:Ca().createElement("svg",{viewBox:"0 0 448 512"},Ca().createElement("path",{d:"M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48z"})),
value:"rectangle",key:"r"},{icon:Ca().createElement("svg",{viewBox:"0 0 223.646 223.646"},Ca().createElement("path",{d:"M111.823 0L16.622 111.823 111.823 223.646 207.025 111.823z"})),value:"diamond",key:"d"},{icon:Ca().createElement("svg",{viewBox:"0 0 512 512"},Ca().createElement("path",{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8z"})),value:"ellipse",key:"e"},{icon:Ca().createElement("svg",{viewBox:"0 0 448 512",className:"rtl-mirror"},Ca().createElement("path",{d:"M313.941 216H12c-6.627 0-12 5.373-12 12v56c0 6.627 5.373 12 12 12h301.941v46.059c0 21.382 25.851 32.09 40.971 16.971l86.059-86.059c9.373-9.373 9.373-24.569 0-33.941l-86.059-86.059c-15.119-15.119-40.971-4.411-40.971 16.971V216z"})),
value:"arrow",key:"a"},{icon:Ca().createElement("svg",{viewBox:"0 0 6 6"},Ca().createElement("line",{x1:"0",y1:"3",x2:"6",y2:"3",stroke:"currentColor",strokeLinecap:"round"})),value:"line",key:["p","l"]},{icon:Ca().createElement("svg",{viewBox:"0 0 512 512"},Ca().createElement("path",{fill:"currentColor",d:"M290.74 93.24l128.02 128.02-277.99 277.99-114.14 12.6C11.35 513.54-1.56 500.62.14 485.34l12.7-114.22 277.9-277.88zm207.2-19.06l-60.11-60.11c-18.75-18.75-49.16-18.75-67.91 0l-56.55 56.55 128.02 128.02 56.55-56.55c18.75-18.76 18.75-49.16 0-67.91z"})),
value:"draw",key:"x"},{icon:Ca().createElement("svg",{viewBox:"0 0 448 512"},Ca().createElement("path",{d:"M432 416h-23.41L277.88 53.69A32 32 0 0 0 247.58 32h-47.16a32 32 0 0 0-30.3 21.69L39.41 416H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h128a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16h-19.58l23.3-64h152.56l23.3 64H304a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h128a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM176.85 272L224 142.51 271.15 272z"})),value:"text",key:"t"}],Ho=(h(4518),{cut:[Vd("CtrlOrCmd+X")],copy:[Vd("CtrlOrCmd+C")],
paste:[Vd("CtrlOrCmd+V")],copyStyles:[Vd("CtrlOrCmd+Alt+C")],pasteStyles:[Vd("CtrlOrCmd+Alt+V")],selectAll:[Vd("CtrlOrCmd+A")],deleteSelectedElements:[Vd("Del")],duplicateSelection:[Vd("CtrlOrCmd+D"),Vd("Alt+".concat(cb("helpDialog.drag")))],sendBackward:[Vd("CtrlOrCmd+[")],bringForward:[Vd("CtrlOrCmd+]")],sendToBack:[Vd(Lg?"CtrlOrCmd+Alt+[":"CtrlOrCmd+Shift+[")],bringToFront:[Vd(Lg?"CtrlOrCmd+Alt+]":"CtrlOrCmd+Shift+]")],copyAsPng:[Vd("Shift+Alt+C")],copyAsSvg:[],group:[Vd("CtrlOrCmd+G")],ungroup:[Vd("CtrlOrCmd+Shift+G")],
gridMode:[Vd("CtrlOrCmd+'")],zenMode:[Vd("Alt+Z")],stats:[],addToLibrary:[],viewMode:[Vd("Alt+R")]}),bq=function(d){var p,w=d.options,H=d.onCloseRequest,U=d.top,ba=d.left,va=d.actionManager,ua=d.appState;d=!(null===(p=document.querySelector(".excalidraw"))||void 0===p||!p.classList.contains("Appearance_dark"));return Ca().createElement("div",{className:xc("excalidraw",{"Appearance_dark Appearance_dark-background-none":d})},Ca().createElement(gb,{onCloseRequest:H,top:U,left:ba,fitInViewport:!0},Ca().createElement("ul",
{className:"context-menu",onContextMenu:function(Ba){return Ba.preventDefault()}},w.map(function(Ba,Ra){var Ia;if("separator"===Ba)return Ca().createElement("hr",{key:Ra,className:"context-menu-option-separator"});var ib,rb=Ba.name,pb=Ba.contextItemLabel?cb(Ba.contextItemLabel):"";return Ca().createElement("li",{key:Ra,"data-testid":rb,onClick:H},Ca().createElement("button",{className:xc("context-menu-option",{dangerous:"deleteSelectedElements"===rb,checkmark:null===(Ia=Ba.checked)||void 0===Ia?void 0:
Ia.call(Ba,ua)}),onClick:function(){return va.executeAction(Ba)}},Ca().createElement("div",{className:"context-menu-option__label"},pb),Ca().createElement("kbd",{className:"context-menu-option__shortcut"},rb?(ib=Ho[rb])&&0<ib.length?ib[0]:"":"")))}))))},Go=function(){if(Ko)return Ko;var d=document.createElement("div");return document.body.appendChild(d),Ko=d},Km=function(){(0,Zf.unmountComponentAtNode)(Go())};const An=function(d){var p=[];d.options.forEach(function(w){w&&p.push(w)});p.length&&(0,
Zf.render)(Ca().createElement(bq,{top:d.top,left:d.left,options:p,onCloseRequest:Km,actionManager:d.actionManager,appState:d.appState}),Go())};h(1575);const Xk=function(d){var p=d.children,w=d.gap,H=d.align,U=d.justifyContent,ba=d.className;d=d.style;return Ca().createElement("div",{className:xc("Stack Stack_horizontal",ba),style:Tc({"--gap":w,alignItems:H,justifyContent:U},d)},p)},Yk=function(d){var p=d.children,w=d.gap,H=d.align,U=d.justifyContent;d=d.className;return Ca().createElement("div",{className:xc("Stack Stack_vertical",
d),style:{"--gap":w,justifyItems:H,justifyContent:U}},p)};var Zq=function(d){var p=d.appState,w=d.renderAction,H=d.elementType;d=hk(fe(d.elements),p);p=!!p.editingElement;var U=Ue(),ba="rtl"===document.documentElement.getAttribute("dir"),va=Mj(H)||d.some(function(Ba){return Mj(Ba.type)&&(Ra=Ba.backgroundColor,Ia=5===Ra.length&&"0"===Ra.substr(4,1),ib=9===Ra.length&&"00"===Ra.substr(7,2),!(Ia||ib||Ra===zk.elementBackground[0]));var Ra,Ia,ib}),ua=Mj(H)||d.some(function(Ba){return Mj(Ba.type)});return Ca().createElement("div",
{className:"panelColumn"},w("changeStrokeColor"),ua&&w("changeBackgroundColor"),va&&w("changeFillStyle"),(Uf(H)||d.some(function(Ba){return Uf(Ba.type)}))&&Ca().createElement(Ca().Fragment,null,w("changeStrokeWidth"),w("changeStrokeStyle"),w("changeSloppiness")),(ok(H)||d.some(function(Ba){return ok(Ba.type)}))&&Ca().createElement(Ca().Fragment,null,w("changeSharpness")),("text"===H||d.some(function(Ba){return"text"===Ba.type}))&&Ca().createElement(Ca().Fragment,null,w("changeFontSize"),w("changeFontFamily"),
w("changeTextAlign")),("arrow"===H||d.some(function(Ba){return"arrow"===Ba.type}))&&Ca().createElement(Ca().Fragment,null,w("changeArrowhead")),w("changeOpacity"),Ca().createElement("fieldset",null,Ca().createElement("legend",null,cb("labels.layers")),Ca().createElement("div",{className:"buttonList"},w("sendToBack"),w("sendBackward"),w("bringToFront"),w("bringForward"))),1<d.length&&Ca().createElement("fieldset",null,Ca().createElement("legend",null,cb("labels.align")),Ca().createElement("div",{className:"buttonList"},
ba?Ca().createElement(Ca().Fragment,null,w("alignRight"),w("alignHorizontallyCentered"),w("alignLeft")):Ca().createElement(Ca().Fragment,null,w("alignLeft"),w("alignHorizontallyCentered"),w("alignRight")),2<d.length&&w("distributeHorizontally"),Ca().createElement("div",{className:"iconRow"},w("alignTop"),w("alignVerticallyCentered"),w("alignBottom"),2<d.length&&w("distributeVertically")))),!U&&!p&&0<d.length&&Ca().createElement("fieldset",null,Ca().createElement("legend",null,cb("labels.actions")),
Ca().createElement("div",{className:"buttonList"},w("duplicateSelection"),w("deleteSelectedElements"),w("group"),w("ungroup"))))},Rr=Ca().createElement("svg",{viewBox:"0 0 512 512"},Ca().createElement("path",{d:"M296 32h192c13.255 0 24 10.745 24 24v160c0 13.255-10.745 24-24 24H296c-13.255 0-24-10.745-24-24V56c0-13.255 10.745-24 24-24zm-80 0H24C10.745 32 0 42.745 0 56v160c0 13.255 10.745 24 24 24h192c13.255 0 24-10.745 24-24V56c0-13.255-10.745-24-24-24zM0 296v160c0 13.255 10.745 24 24 24h192c13.255 0 24-10.745 24-24V296c0-13.255-10.745-24-24-24H24c-13.255 0-24 10.745-24 24zm296 184h192c13.255 0 24-10.745 24-24V296c0-13.255-10.745-24-24-24H296c-13.255 0-24 10.745-24 24v160c0 13.255 10.745 24 24 24z"})),
aq=function(d){var p=d.canvas,w=d.elementType,H=d.setAppState,U=d.isLibraryOpen;return Ca().createElement(Ca().Fragment,null,um.map(function(ba,va){var ua=ba.value,Ba=ba.icon,Ra=ba.key;ba=cb("toolBar.".concat(ua));Ra="".concat(hj("string"==typeof Ra?Ra:Ra[0])," ").concat(cb("helpDialog.or")," ").concat(va+1);return Ca().createElement(gf,{className:"Shape",key:ua,type:"radio",icon:Ba,checked:w===ua,name:"editor-current-shape",title:"".concat(hj(ba)," — ").concat(Ra),keyBindingLabel:"".concat(va+1),
"aria-label":hj(ba),"aria-keyshortcuts":Ra,"data-testid":ua,onChange:function(){H({elementType:ua,multiElement:null,selectedElementIds:{}});si(p,ua);H({})}})}),Ca().createElement(gf,{className:"Shape ToolIcon_type_button__library",type:"button",icon:Rr,name:"editor-library",keyBindingLabel:"9","aria-keyshortcuts":"9",title:"".concat(hj(cb("toolBar.library"))," — 9"),"aria-label":hj(cb("toolBar.library")),onClick:function(){H({isLibraryOpen:!U})}}))},Qr=function(d){var p=d.renderAction;d=d.zoom;return Ca().createElement(Yk,
{gap:1},Ca().createElement(Xk,{gap:1,align:"center"},p("zoomIn"),p("zoomOut"),p("resetZoom"),Ca().createElement("div",{style:{marginInlineStart:4}},(100*d.value).toFixed(0),"%")))},Yq=function(d){var p=d.appState,w=d.setAppState;d=d.actionManager;return Ca().createElement("div",{style:{display:"flex"}},d.renderAction("changeViewBackgroundColor"),Ca().createElement("div",{style:{marginInlineStart:"0.25rem"}},Ca().createElement(ek,{value:p.appearance,onChange:function(H){w({appearance:H})}})))};h(3211);
const $q=function(d){var p=d.isCollaborating,w=d.collaboratorCount;d=d.onClick;return Ca().createElement(Ca().Fragment,null,Ca().createElement(gf,{className:xc("CollabButton",{"is-collaborating":p}),onClick:d,icon:El,type:"button",title:cb("labels.liveCollaboration"),"aria-label":cb("labels.liveCollaboration"),showAriaLabel:Ue()},0<w&&Ca().createElement("div",{className:"CollabButton-collaborators"},w)))};h(3040);h(7428);var cl=Ca().forwardRef(function(d,p){var w=d.children,H=d.padding,U=d.className;
d=d.style;return Ca().createElement("div",{className:xc("Island",U),style:wb({"--padding":H},d),ref:p},w)}),Sr=(h(205),function(d){var p=tp();return p?(0,Zf.createPortal)(Ca().createElement("div",{className:xc("Modal",d.className),role:"dialog","aria-modal":"true",onKeyDown:function(w){"Escape"===w.key&&(w.nativeEvent.stopImmediatePropagation(),d.onCloseRequest())},"aria-labelledby":d.labelledBy},Ca().createElement("div",{className:"Modal__background",onClick:d.onCloseRequest}),Ca().createElement("div",
{className:"Modal__content",style:{"--max-width":"".concat(d.maxWidth,"px")}},d.children)),p):null}),tp=function(){var d=(0,jc.useState)(null),p=d[0],w=d[1];return(0,jc.useLayoutEffect)(function(){var H,U=!(null===(H=document.querySelector(".excalidraw"))||void 0===H||!H.classList.contains("Appearance_dark")),ba=document.createElement("div");return ba.classList.add("excalidraw","excalidraw-modal-container"),U&&(ba.classList.add("Appearance_dark"),ba.classList.add("Appearance_dark-background-none")),
document.body.appendChild(ba),w(ba),function(){document.body.removeChild(ba)}},[]),p},E=function(d){var p=function(){var U=(0,jc.useState)(null),ba=U[1];return[U[0],(0,jc.useCallback)(function(va){return ba(va)},[])]}(),w=p[0];p=p[1];(0,jc.useEffect)(function(){if(w){var U=H(w);0<U.length&&!1!==d.autofocus&&(U[1]||U[0]).focus();var ba=function(va){if("Tab"===va.key){var ua=H(w),Ba=document.activeElement,Ra=ua.findIndex(function(Ia){return Ia===Ba});0===Ra&&va.shiftKey?(ua[ua.length-1].focus(),va.preventDefault()):
Ra!==ua.length-1||va.shiftKey||(ua[0].focus(),va.preventDefault())}};return w.addEventListener("keydown",ba),function(){return w.removeEventListener("keydown",ba)}}},[w,d.autofocus]);var H=function(U){return(U=U.querySelectorAll("button, a, input, select, textarea, div[tabindex]"))?Array.from(U):[]};return Ca().createElement(Sr,{className:xc("Dialog",d.className),labelledBy:"dialog-title",maxWidth:d.small?550:800,onCloseRequest:d.onCloseRequest},Ca().createElement(cl,{ref:p},Ca().createElement("h2",
{id:"dialog-title",className:"Dialog__title"},Ca().createElement("span",{className:"Dialog__titleContent"},d.title),Ca().createElement("button",{className:"Modal__close",onClick:d.onCloseRequest,"aria-label":cb("buttons.close")},Ue()?jh:sj)),Ca().createElement("div",{className:"Dialog__content"},d.children)))},O=function(d){var p=d.message,w=d.onClose,H=(0,jc.useState)(!!p);d=H[0];var U=H[1];H=Ca().useCallback(function(){U(!1);w&&w()},[w]);return Ca().createElement(Ca().Fragment,null,d&&Ca().createElement(E,
{small:!0,onCloseRequest:H,title:cb("errorDialog.title")},Ca().createElement("div",null,p.split("\n").map(function(ba){return Ca().createElement(Ca().Fragment,null,ba,Ca().createElement("br",null))}))))},ma=(h(8623),[1,2,3]),Ha=ma.includes(devicePixelRatio)?devicePixelRatio:1,$a="filter"in document.createElement("canvas").getContext("2d"),sb=function(){return Ca().createElement("div",null,Ca().createElement("h3",null,cb("canvasError.cannotShowPreview")),Ca().createElement("p",null,Ca().createElement("span",
null,cb("canvasError.canvasTooBig"))),Ca().createElement("em",null,"(",cb("canvasError.canvasTooBigTip"),")"))},Jb=function(d,p){(0,Zf.unmountComponentAtNode)(p);p.innerHTML="";d instanceof HTMLCanvasElement?p.appendChild(d):(0,Zf.render)(Ca().createElement(sb,null),p)},ac=function(d){var p=d.elements,w=d.appState,H=d.exportPadding,U=void 0===H?10:H;H=d.actionManager;var ba=d.onExportToPng,va=d.onExportToSvg,ua=d.onExportToClipboard,Ba=d.onExportToBackend,Ra=jg(p,w);d=(0,jc.useState)(Ha);var Ia=d[0],
ib=d[1];d=(0,jc.useState)(Ra);var rb=d[0],pb=d[1],dc=(0,jc.useRef)(null),Vb=w.exportBackground,Bc=w.viewBackgroundColor,fd=w.shouldAddWatermark,hd=rb?uf(p,w):p;return(0,jc.useEffect)(function(){pb(Ra)},[Ra]),(0,jc.useEffect)(function(){var ud=dc.current;if(ud)try{var le=tm(hd,w,{exportBackground:Vb,viewBackgroundColor:Bc,exportPadding:U,scale:Ia,shouldAddWatermark:fd});pm(le).then(function(){Jb(le,ud)}).catch(function(ke){console.error(ke);Jb(new jn,ud)})}catch(ke){console.error(ke),Jb(new jn,ud)}},
[w,hd,Vb,U,Bc,Ia,fd]),Ca().createElement("div",{className:"ExportDialog"},Ca().createElement("div",{className:"ExportDialog__preview",ref:dc}),$a&&H.renderAction("exportWithDarkMode"),Ca().createElement(Yk,{gap:2,align:"center"},Ca().createElement("div",{className:"ExportDialog__actions"},Ca().createElement(Xk,{gap:2},Ca().createElement(gf,{type:"button",label:"PNG",title:cb("buttons.exportToPng"),"aria-label":cb("buttons.exportToPng"),onClick:function(){return ba(hd,Ia)}}),Ca().createElement(gf,
{type:"button",label:"SVG",title:cb("buttons.exportToSvg"),"aria-label":cb("buttons.exportToSvg"),onClick:function(){return va(hd,Ia)}}),Im&&Ca().createElement(gf,{type:"button",icon:qk,title:cb("buttons.copyPngToClipboard"),"aria-label":cb("buttons.copyPngToClipboard"),onClick:function(){return ua(hd,Ia)}}),Ba&&Ca().createElement(gf,{type:"button",icon:ol,title:cb("buttons.getShareableLink"),"aria-label":cb("buttons.getShareableLink"),onClick:function(){return Ba(hd)}})),Ca().createElement("div",
{className:"ExportDialog__name"},H.renderAction("changeProjectName")),Ca().createElement(Xk,{gap:2},ma.map(function(ud){var le=function(Oe,Je,df,zd){Oe=Wn(Oe,df);Je=Gm(Oe,Je,df).map(function(Yd){return Math.trunc(Yd*zd)});return[Je[2],Je[3]]}(hd,U,fd,ud),ke=le[0];le=le[1];ke="".concat(cb("buttons.scale")," ").concat(ud,"x (").concat(ke,"x").concat(le,")");return Ca().createElement(gf,{key:ud,size:"s",type:"radio",icon:"".concat(ud,"x"),name:"export-canvas-scale",title:ke,"aria-label":ke,id:"export-canvas-scale",
checked:ud===Ia,onChange:function(){return ib(ud)}})}))),H.renderAction("changeExportBackground"),Ra&&Ca().createElement("div",null,Ca().createElement("label",null,Ca().createElement("input",{type:"checkbox",checked:rb,onChange:function(ud){return pb(ud.currentTarget.checked)}})," ",cb("labels.onlySelected"))),H.renderAction("changeExportEmbedScene"),H.renderAction("changeShouldAddWatermark")))},Ec=function(d){var p=d.elements,w=d.appState,H=d.exportPadding;H=void 0===H?10:H;var U=d.actionManager,
ba=d.onExportToPng,va=d.onExportToSvg,ua=d.onExportToClipboard;d=d.onExportToBackend;var Ba=(0,jc.useState)(!1),Ra=Ba[0],Ia=Ba[1],ib=(0,jc.useRef)(null);Ba=Ca().useCallback(function(){var rb;Ia(!1);null===(rb=ib.current)||void 0===rb||rb.focus()},[]);return Ca().createElement(Ca().Fragment,null,Ca().createElement(gf,{onClick:function(){Ia(!0)},icon:sh,type:"button","aria-label":cb("buttons.export"),showAriaLabel:Ue(),title:cb("buttons.export"),ref:ib}),Ra&&Ca().createElement(E,{onCloseRequest:Ba,
title:cb("buttons.export")},Ca().createElement(ac,{elements:p,appState:w,exportPadding:H,actionManager:U,onExportToPng:ba,onExportToSvg:va,onExportToClipboard:ua,onExportToBackend:d,onCloseRequest:Ba})))},bd=(h(4193),function(d){var p=d.children,w=d.side;d=d.className;return Ca().createElement("div",{className:xc("FixedSideContainer","FixedSideContainer_side_".concat(w),d)},p)}),re=Ca().memo(function(d){d=d.appearance;return Ca().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",
height:"40",viewBox:"0 0 250 250",className:"github-corner rtl-mirror"},Ca().createElement("a",{href:"https://github.com/excalidraw/excalidraw",target:"_blank",rel:"noopener noreferrer","aria-label":"GitHub repository"},Ca().createElement("path",{d:"M0 0l115 115h15l12 27 108 108V0z",fill:"light"===d?Ee.MA[6]:Ee.MA[8]}),Ca().createElement("path",{className:"octo-arm",d:"M128 109c-15-9-9-19-9-19 3-7 2-11 2-11-1-7 3-2 3-2 4 5 2 11 2 11-3 10 5 15 9 16",style:{transformOrigin:"130px 106px"},fill:"light"===
d?Ee.ix:Ee.Sn}),Ca().createElement("path",{className:"octo-body",d:"M115 115s4 2 5 0l14-14c3-2 6-3 8-3-8-11-15-24 2-41 5-5 10-7 16-7 1-2 3-7 12-11 0 0 5 3 7 16 4 2 8 5 12 9s7 8 9 12c14 3 17 7 17 7-4 8-9 11-11 11 0 6-2 11-7 16-16 16-30 10-41 2 0 3-1 7-5 11l-12 11c-1 1 1 5 1 5z",fill:"light"===d?Ee.ix:Ee.Sn})))}),zf=(h(9705),function(d){return(d=function(p){var w=p.appState,H=p.elements,U=w.elementType;p=w.isResizing;var ba=w.isRotating,va=w.lastPointerDownWith,ua=null!==w.multiElement;if("arrow"===
U||"line"===U)return cb(ua?"hints.linearElementMulti":"hints.linearElement");if("draw"===U)return cb("hints.freeDraw");if("text"===U)return cb("hints.text");H=uf(H,w);return p&&"mouse"===va&&1===H.length?(w=H[0],Gg(w)&&2===w.points.length?cb("hints.lockAngle"):cb("hints.resize")):ba&&"mouse"===va?cb("hints.rotate"):1===H.length&&Gg(H[0])?w.editingLinearElement?w.editingLinearElement.activePointIndex?cb("hints.lineEditor_pointSelected"):cb("hints.lineEditor_nothingSelected"):cb("hints.lineEditor_info"):
null}({appState:d.appState,elements:d.elements}))?(d=Vd(d),Ca().createElement("div",{className:"HintViewer"},Ca().createElement("span",null,d))):null}),Gd=(h(8465),h(8680),Ca().createElement("svg",{viewBox:"0 0 1792 1792"},Ca().createElement("path",{fill:"currentColor",d:"M1600 736v192q0 40-28 68t-68 28h-416v416q0 40-28 68t-68 28h-192q-40 0-68-28t-28-68v-416h-416q-40 0-68-28t-28-68v-192q0-40 28-68t68-28h416v-416q0-40 28-68t68-28h192q40 0 68 28t28 68v416h416q40 0 68 28t28 68z"}))),Pe=function(d){var p=
d.elements,w=d.pendingElements,H=d.onRemoveFromLibrary;d=d.onClick;var U=(0,jc.useRef)(null);(0,jc.useEffect)(function(){var Ra=p||w;if(Ra){var Ia=Nl(Ra,{exportBackground:!1,viewBackgroundColor:Ee.ix,shouldAddWatermark:!1});Ra=0;for(var ib=U.current.children;Ra<ib.length;Ra++){var rb=ib[Ra];"svg"===rb.tagName&&U.current.removeChild(rb)}U.current.appendChild(Ia);var pb=U.current;return function(){pb.removeChild(Ia)}}},[p,w]);var ba=(0,jc.useState)(!1),va=ba[0],ua=ba[1];ba=Ue();var Ba=(va||ba)&&w&&
Ca().createElement("div",{className:"library-unit__adder"},Gd);return Ca().createElement("div",{className:xc("library-unit",{"library-unit__active":p||w}),onMouseEnter:function(){return ua(!0)},onMouseLeave:function(){return ua(!1)}},Ca().createElement("div",{className:xc("library-unit__dragger",{"library-unit__pulse":!!w}),ref:U,draggable:!!p,onClick:p||w?d:void 0,onDragStart:function(Ra){ua(!1);Ra.dataTransfer.setData(hc.LO.excalidrawlib,JSON.stringify(p))}}),Ba,p&&(va||ba)&&Ca().createElement("button",
{className:"library-unit__removeFromLibrary","aria-label":cb("labels.removeFromLibrary"),onClick:H},sj))},Af=Ca().createElement("svg",{width:"1792",height:"1792",viewBox:"0 0 1792 1792",xmlns:"http://www.w3.org/2000/svg"},Ca().createElement("path",{d:"M640 768h512v-192q0-106-75-181t-181-75-181 75-75 181v192zm832 96v576q0 40-28 68t-68 28h-960q-40 0-68-28t-28-68v-576q0-40 28-68t68-28h32v-192q0-184 132-316t316-132 316 132 132 316v192h32q40 0 68 28t28 68z"})),mf=Ca().createElement("svg",{width:"1792",
height:"1792",viewBox:"0 0 1792 1792",xmlns:"http://www.w3.org/2000/svg",className:"unlocked-icon rtl-mirror"},Ca().createElement("path",{d:"M1728 576v256q0 26-19 45t-45 19h-64q-26 0-45-19t-19-45v-256q0-106-75-181t-181-75-181 75-75 181v192h96q40 0 68 28t28 68v576q0 40-28 68t-68 28h-960q-40 0-68-28t-28-68v-576q0-40 28-68t68-28h672v-192q0-185 131.5-316.5t316.5-131.5 316.5 131.5 131.5 316.5z"})),Qc=function(d){return Ca().createElement("label",{className:xc("ToolIcon ToolIcon__lock ToolIcon_type_floating zen-mode-visibility",
"ToolIcon_size_".concat(d.size||"m"),{"zen-mode-visibility--hidden":d.zenModeEnabled}),title:"".concat(d.title," — Q")},Ca().createElement("input",{className:"ToolIcon_type_checkbox",type:"checkbox",name:d.name,id:d.id,onChange:d.onChange,checked:d.checked,"aria-label":d.title}),Ca().createElement("div",{className:"ToolIcon__icon"},d.checked?Af:mf))},Hc=function(d){var p=d.heading,w=d.children;d=Uh()(d,["heading","children"]);var H=Ca().createElement("h2",{className:"visually-hidden",id:"".concat(p,
"-title")},cb("headings.".concat(p)));return Ca().createElement("section",Od()({},d,{"aria-labelledby":"".concat(p,"-title")}),"function"==typeof w?w(H):Ca().createElement(Ca().Fragment,null,H,w))},Oc=(h(3142),function(d){var p=d.children,w=d.className;d=d.mobile;return Ca().createElement("div",{className:xc("UserList",w,{UserList_mobile:d})},p)}),xd=function(d){var p=d.appState,w=d.elements,H=d.libraryMenu,U=d.actionManager,ba=d.exportButton,va=d.setAppState,ua=d.onCollabButtonClick,Ba=d.onLockToggle,
Ra=d.canvas,Ia=d.isCollaborating,ib=d.renderCustomFooter;d=d.viewModeEnabled;return Ca().createElement(Ca().Fragment,null,!d&&Ca().createElement(bd,{side:"top",className:"App-top-bar"},Ca().createElement(Hc,{heading:"shapes"},function(rb){return Ca().createElement(Yk,{gap:4,align:"center"},Ca().createElement(Xk,{gap:1},Ca().createElement(cl,{padding:1},rb,Ca().createElement(Xk,{gap:1},Ca().createElement(aq,{canvas:Ra,elementType:p.elementType,setAppState:va,isLibraryOpen:p.isLibraryOpen}))),Ca().createElement(Qc,
{checked:p.elementLocked,onChange:Ba,title:cb("toolBar.lock")})),H)}),Ca().createElement(zf,{appState:p,elements:w})),Ca().createElement("div",{className:"App-bottom-bar",style:{marginBottom:14,marginLeft:14,marginRight:14}},Ca().createElement(cl,{padding:0},"canvas"===p.openMenu?Ca().createElement(Hc,{className:"App-mobile-menu",heading:"canvasActions"},Ca().createElement("div",{className:"panelColumn"},Ca().createElement(Yk,{gap:4},d?Ca().createElement(Ca().Fragment,null,U.renderAction("saveScene"),
U.renderAction("saveAsScene"),ba):Ca().createElement(Ca().Fragment,null,U.renderAction("loadScene"),U.renderAction("saveScene"),U.renderAction("saveAsScene"),ba,U.renderAction("clearCanvas"),ua&&Ca().createElement($q,{isCollaborating:Ia,collaboratorCount:p.collaborators.size,onClick:ua}),Ca().createElement(Yq,{actionManager:U,appState:p,setAppState:va})),null==ib?void 0:ib(!0),0<p.collaborators.size&&Ca().createElement("fieldset",null,Ca().createElement("legend",null,cb("labels.collaborators")),Ca().createElement(Oc,
{mobile:!0},Array.from(p.collaborators).filter(function(rb){rb[0];return 0!==Object.keys(rb[1]).length}).map(function(rb){var pb=rb[0];rb[1];return Ca().createElement(Ca().Fragment,{key:pb},U.renderAction("goToCollaborator",pb))})))))):"shape"===p.openMenu&&!d&&qh(p,w)?Ca().createElement(Hc,{className:"App-mobile-menu",heading:"selectedShapeActions"},Ca().createElement(Zq,{appState:p,elements:w,renderAction:U.renderAction,elementType:p.elementType})):null,Ca().createElement("footer",{className:"App-toolbar"},
d?Ca().createElement("div",{className:"App-toolbar-content"},U.renderAction("toggleCanvasMenu")):Ca().createElement("div",{className:"App-toolbar-content"},U.renderAction("toggleCanvasMenu"),U.renderAction("toggleEditMenu"),U.renderAction("undo"),U.renderAction("redo"),U.renderAction(p.multiElement?"finalize":"duplicateSelection"),U.renderAction("deleteSelectedElements")),p.scrolledOutside&&!p.openMenu&&Ca().createElement("button",{className:"scroll-back-to-content",onClick:function(){va(function(rb){for(var pb=
1;pb<arguments.length;pb++){var dc=null!=arguments[pb]?arguments[pb]:{};pb%2?yd(Object(dc),!0).forEach(function(Vb){od()(rb,Vb,dc[Vb])}):Object.getOwnPropertyDescriptors?Object.defineProperties(rb,Object.getOwnPropertyDescriptors(dc)):yd(Object(dc)).forEach(function(Vb){Object.defineProperty(rb,Vb,Object.getOwnPropertyDescriptor(dc,Vb))})}return rb}({},ki(w,p)))}},cb("buttons.scrollBackToContent"))))))},Bd=(h(8416),function(d){var p=(0,jc.useRef)(null),w=(0,jc.useState)(null),H=w[0],U=w[1];return(0,
jc.useLayoutEffect)(function(){if(d.spreadsheet){var ba=Un(d.chartType,d.spreadsheet,0,0);U(ba);var va=Nl(ba,{exportBackground:!1,viewBackgroundColor:Ee.ix,shouldAddWatermark:!1}),ua=p.current;return ua.appendChild(va),d.selected&&ua.parentNode.focus(),function(){ua.removeChild(va)}}},[d.spreadsheet,d.chartType,d.selected]),Ca().createElement("button",{className:"ChartPreview",onClick:function(){H&&d.onClick(d.chartType,H)}},Ca().createElement("div",{ref:p}))}),Jf=function(d){var p=d.setAppState,
w=d.appState,H=d.onClose,U=d.onInsertChart;d=Ca().useCallback(function(){H&&H()},[H]);var ba=function(va,ua){U(ua);Tg("magic","chart",va);p({currentChartType:va,pasteDialog:{shown:!1,data:null}})};return Ca().createElement(E,{small:!0,onCloseRequest:d,title:cb("labels.pasteCharts"),className:"PasteChartDialog",autofocus:!1},Ca().createElement("div",{className:"container"},Ca().createElement(Bd,{chartType:"bar",spreadsheet:w.pasteDialog.data,selected:"bar"===w.currentChartType,onClick:ba}),Ca().createElement(Bd,
{chartType:"line",spreadsheet:w.pasteDialog.data,selected:"line"===w.currentChartType,onClick:ba})))},He=(h(341),function(){return Ca().createElement("div",{className:"HelpDialog--header"},Ca().createElement("a",{className:"HelpDialog--btn",href:"https://github.com/excalidraw/excalidraw#documentation",target:"_blank",rel:"noopener noreferrer"},cb("helpDialog.documentation")),Ca().createElement("a",{className:"HelpDialog--btn",href:"https://blog.excalidraw.com",target:"_blank",rel:"noopener noreferrer"},
cb("helpDialog.blog")),Ca().createElement("a",{className:"HelpDialog--btn",href:"https://github.com/excalidraw/excalidraw/issues",target:"_blank",rel:"noopener noreferrer"},cb("helpDialog.github")))}),Kf=function(d){return Ca().createElement(Ca().Fragment,null,Ca().createElement("h3",null,d.title),d.children)},mg=function(d){return Ca().createElement("div",{style:{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"space-between"}},d.children)},Nf=function(d){return Ca().createElement("div",
{style:{width:"49%"}},d.children)},rm=function(d){return Ca().createElement("div",{className:"HelpDialog--island"},Ca().createElement("h3",{className:"HelpDialog--island-title"},d.caption),d.children)},tf=function(d){return Ca().createElement("div",{className:"HelpDialog--shortcut"},Ca().createElement("div",{style:{display:"flex",margin:"0",padding:"4px 8px",alignItems:"center"}},Ca().createElement("div",{style:{lineHeight:1.4}},d.label),Ca().createElement("div",{style:{display:"flex",flex:"0 0 auto",
justifyContent:"flex-end",marginInlineStart:"auto",minWidth:"30%"}},d.shortcuts.map(function(p,w){return Ca().createElement(Ca().Fragment,{key:w},Ca().createElement(au,null,p),d.isOr&&w!==d.shortcuts.length-1&&cb("helpDialog.or"))}))))};tf.defaultProps={isOr:!0};var au=function(d){return Ca().createElement("kbd",Od()({className:"HelpDialog--key"},d))},bu=function(d){var p=d.onClose;d=Ca().useCallback(function(){p&&p()},[p]);return Ca().createElement(Ca().Fragment,null,Ca().createElement(E,{onCloseRequest:d,
title:cb("helpDialog.title"),className:"HelpDialog"},Ca().createElement(He,null),Ca().createElement(Kf,{title:cb("helpDialog.shortcuts")},Ca().createElement(mg,null,Ca().createElement(Nf,null,Ca().createElement(rm,{caption:cb("helpDialog.shapes")},Ca().createElement(tf,{label:cb("toolBar.selection"),shortcuts:["V","1"]}),Ca().createElement(tf,{label:cb("toolBar.rectangle"),shortcuts:["R","2"]}),Ca().createElement(tf,{label:cb("toolBar.diamond"),shortcuts:["D","3"]}),Ca().createElement(tf,{label:cb("toolBar.ellipse"),
shortcuts:["E","4"]}),Ca().createElement(tf,{label:cb("toolBar.arrow"),shortcuts:["A","5"]}),Ca().createElement(tf,{label:cb("toolBar.line"),shortcuts:["P","6"]}),Ca().createElement(tf,{label:cb("toolBar.draw"),shortcuts:["Shift+P","7"]}),Ca().createElement(tf,{label:cb("toolBar.text"),shortcuts:["T","8"]}),Ca().createElement(tf,{label:cb("helpDialog.textNewLine"),shortcuts:[Vd("Enter"),Vd("Shift+Enter")]}),Ca().createElement(tf,{label:cb("helpDialog.textFinish"),shortcuts:[Vd("Esc"),Vd("CtrlOrCmd+Enter")]}),
Ca().createElement(tf,{label:cb("helpDialog.curvedArrow"),shortcuts:["A",cb("helpDialog.click"),cb("helpDialog.click"),cb("helpDialog.click")],isOr:!1}),Ca().createElement(tf,{label:cb("helpDialog.curvedLine"),shortcuts:["L",cb("helpDialog.click"),cb("helpDialog.click"),cb("helpDialog.click")],isOr:!1}),Ca().createElement(tf,{label:cb("toolBar.lock"),shortcuts:["Q"]}),Ca().createElement(tf,{label:cb("helpDialog.preventBinding"),shortcuts:[Vd("CtrlOrCmd")]})),Ca().createElement(rm,{caption:cb("helpDialog.view")},
Ca().createElement(tf,{label:cb("buttons.zoomIn"),shortcuts:[Vd("CtrlOrCmd++")]}),Ca().createElement(tf,{label:cb("buttons.zoomOut"),shortcuts:[Vd("CtrlOrCmd+-")]}),Ca().createElement(tf,{label:cb("buttons.resetZoom"),shortcuts:[Vd("CtrlOrCmd+0")]}),Ca().createElement(tf,{label:cb("helpDialog.zoomToFit"),shortcuts:["Shift+1"]}),Ca().createElement(tf,{label:cb("helpDialog.zoomToSelection"),shortcuts:["Shift+2"]}),Ca().createElement(tf,{label:cb("buttons.fullScreen"),shortcuts:["F"]}),Ca().createElement(tf,
{label:cb("buttons.zenMode"),shortcuts:[Vd("Alt+Z")]}),Ca().createElement(tf,{label:cb("labels.showGrid"),shortcuts:[Vd("CtrlOrCmd+'")]}),Ca().createElement(tf,{label:cb("labels.viewMode"),shortcuts:[Vd("Alt+R")]}))),Ca().createElement(Nf,null,Ca().createElement(rm,{caption:cb("helpDialog.editor")},Ca().createElement(tf,{label:cb("labels.selectAll"),shortcuts:[Vd("CtrlOrCmd+A")]}),Ca().createElement(tf,{label:cb("labels.multiSelect"),shortcuts:[Vd("Shift+".concat(cb("helpDialog.click")))]}),Ca().createElement(tf,
{label:cb("labels.moveCanvas"),shortcuts:[Vd("Space+".concat(cb("helpDialog.drag"))),Vd("Wheel+".concat(cb("helpDialog.drag")))],isOr:!0}),Ca().createElement(tf,{label:cb("labels.cut"),shortcuts:[Vd("CtrlOrCmd+X")]}),Ca().createElement(tf,{label:cb("labels.copy"),shortcuts:[Vd("CtrlOrCmd+C")]}),Ca().createElement(tf,{label:cb("labels.paste"),shortcuts:[Vd("CtrlOrCmd+V")]}),Ca().createElement(tf,{label:cb("labels.copyAsPng"),shortcuts:[Vd("Shift+Alt+C")]}),Ca().createElement(tf,{label:cb("labels.copyStyles"),
shortcuts:[Vd("CtrlOrCmd+Alt+C")]}),Ca().createElement(tf,{label:cb("labels.pasteStyles"),shortcuts:[Vd("CtrlOrCmd+Alt+V")]}),Ca().createElement(tf,{label:cb("labels.delete"),shortcuts:[Vd("Del")]}),Ca().createElement(tf,{label:cb("labels.sendToBack"),shortcuts:[Vd(Lg?"CtrlOrCmd+Alt+[":"CtrlOrCmd+Shift+[")]}),Ca().createElement(tf,{label:cb("labels.bringToFront"),shortcuts:[Vd(Lg?"CtrlOrCmd+Alt+]":"CtrlOrCmd+Shift+]")]}),Ca().createElement(tf,{label:cb("labels.sendBackward"),shortcuts:[Vd("CtrlOrCmd+[")]}),
Ca().createElement(tf,{label:cb("labels.bringForward"),shortcuts:[Vd("CtrlOrCmd+]")]}),Ca().createElement(tf,{label:cb("labels.alignTop"),shortcuts:[Vd("CtrlOrCmd+Shift+Up")]}),Ca().createElement(tf,{label:cb("labels.alignBottom"),shortcuts:[Vd("CtrlOrCmd+Shift+Down")]}),Ca().createElement(tf,{label:cb("labels.alignLeft"),shortcuts:[Vd("CtrlOrCmd+Shift+Left")]}),Ca().createElement(tf,{label:cb("labels.alignRight"),shortcuts:[Vd("CtrlOrCmd+Shift+Right")]}),Ca().createElement(tf,{label:cb("labels.duplicateSelection"),
shortcuts:[Vd("CtrlOrCmd+D"),Vd("Alt+".concat(cb("helpDialog.drag")))]}),Ca().createElement(tf,{label:cb("buttons.undo"),shortcuts:[Vd("CtrlOrCmd+Z")]}),Ca().createElement(tf,{label:cb("buttons.redo"),shortcuts:Hj?[Vd("CtrlOrCmd+Y"),Vd("CtrlOrCmd+Shift+Z")]:[Vd("CtrlOrCmd+Shift+Z")]}),Ca().createElement(tf,{label:cb("labels.group"),shortcuts:[Vd("CtrlOrCmd+G")]}),Ca().createElement(tf,{label:cb("labels.ungroup"),shortcuts:[Vd("CtrlOrCmd+Shift+G")]})))))))},Vr=function(d,p){function w(Ba){return function(Ra){return function(Ia){if(H)throw new TypeError("Generator is already executing.");
for(;ua;)try{if(H=1,U&&(ba=2&Ia[0]?U.return:Ia[0]?U.throw||((ba=U.return)&&ba.call(U),0):U.next)&&!(ba=ba.call(U,Ia[1])).done)return ba;switch(U=0,ba&&(Ia=[2&Ia[0],ba.value]),Ia[0]){case 0:case 1:ba=Ia;break;case 4:return ua.label++,{value:Ia[1],done:!1};case 5:ua.label++;U=Ia[1];Ia=[0];continue;case 7:Ia=ua.ops.pop();ua.trys.pop();continue;default:if(!(ba=ua.trys,(ba=0<ba.length&&ba[ba.length-1])||6!==Ia[0]&&2!==Ia[0])){ua=0;continue}if(3===Ia[0]&&(!ba||Ia[1]>ba[0]&&Ia[1]<ba[3]))ua.label=Ia[1];else if(6===
Ia[0]&&ua.label<ba[1])ua.label=ba[1],ba=Ia;else if(ba&&ua.label<ba[2])ua.label=ba[2],ua.ops.push(Ia);else{ba[2]&&ua.ops.pop();ua.trys.pop();continue}}Ia=p.call(d,ua)}catch(ib){Ia=[6,ib],U=0}finally{H=ba=0}if(5&Ia[0])throw Ia[1];return{value:Ia[0]?Ia[1]:void 0,done:!0}}([Ba,Ra])}}var H,U,ba,va,ua={label:0,sent:function(){if(1&ba[0])throw ba[1];return ba[1]},trys:[],ops:[]};return va={next:w(0),throw:w(1),return:w(2)},"function"==typeof Symbol&&(va[Symbol.iterator]=function(){return this}),va},Zt=function(){for(var d=
0,p=0,w=arguments.length;p<w;p++)d+=arguments[p].length;d=Array(d);var H=0;for(p=0;p<w;p++)for(var U=arguments[p],ba=0,va=U.length;ba<va;ba++,H++)d[H]=U[ba];return d},$t=function(d){var p=d.library,w=d.onRemoveFromLibrary,H=d.onAddToLibrary,U=d.onInsertShape,ba=d.pendingElements,va=d.setAppState,ua=d.setLibraryItems;d=Ue()?4:6;var Ba=Math.max(1,Math.ceil((p.length+(0<ba.length?1:0))/d)),Ra=[],Ia=!1;Ra.push(Ca().createElement("div",{className:"layer-ui__library-header"},Ca().createElement(gf,{key:"import",
type:"button",title:cb("buttons.load"),"aria-label":cb("buttons.load"),icon:nm,onClick:function(){Kb().then(function(){va({isLibraryOpen:!1})}).catch(Bk).catch(function(Bc){va({errorMessage:Bc.message})})}}),Ca().createElement(gf,{key:"export",type:"button",title:cb("buttons.export"),"aria-label":cb("buttons.export"),icon:sh,onClick:function(){yb().catch(Bk).catch(function(Bc){va({errorMessage:Bc.message})})}}),Ca().createElement(gf,{key:"reset",type:"button",title:cb("buttons.resetLibrary"),"aria-label":cb("buttons.resetLibrary"),
icon:Pi,onClick:function(){window.confirm(cb("alerts.resetLibrary"))&&(ug.resetLibrary(),ua([]))}}),Ca().createElement("a",{href:"https://libraries.excalidraw.com",target:"_excalidraw_libraries"},cb("labels.libraries"))));for(var ib=0;ib<Ba;ib++){for(var rb=d*ib,pb=[],dc=0;dc<d;dc++){var Vb=0<ba.length&&!Ia&&rb+dc>=p.length;Ia=Ia||Vb;pb.push(Ca().createElement(Yk,{key:dc},Ca().createElement(Pe,{elements:p[rb+dc],pendingElements:Vb?ba:void 0,onRemoveFromLibrary:w.bind(null,rb+dc),onClick:Vb?H.bind(null,
ba):U.bind(null,p[rb+dc])})))}Ra.push(Ca().createElement(Xk,{align:"center",gap:1,key:ib},pb))}return Ca().createElement(Yk,{align:"start",gap:1,className:"layer-ui__library-items"},Ra)},Xt=function(d){var p=d.onClickOutside,w=d.onInsertShape,H=d.pendingElements,U=d.onAddToLibrary;d=d.setAppState;var ba=(0,jc.useRef)(null);!function(pb,dc){(0,jc.useEffect)(function(){var Vb=function(Bc){pb.current&&(Bc.target instanceof Element&&(pb.current.contains(Bc.target)||!document.body.contains(Bc.target))||
dc(Bc))};return document.addEventListener("pointerdown",Vb,!1),function(){document.removeEventListener("pointerdown",Vb)}},[pb,dc])}(ba,function(pb){pb.target.closest(".ToolIcon_type_button__library")||p(pb)});var va=(0,jc.useState)([]),ua=va[0],Ba=va[1],Ra=(0,jc.useState)("preloading");va=Ra[0];var Ia=Ra[1],ib=(0,jc.useRef)(null);(0,jc.useEffect)(function(){return Promise.race([new Promise(function(pb){ib.current=setTimeout(function(){pb("loading")},100)}),ug.loadLibrary().then(function(pb){Ba(pb);
Ia("ready")})]).then(function(pb){"loading"===pb&&Ia("loading")}),function(){clearTimeout(ib.current)}},[]);Ra=(0,jc.useCallback)(function(){var pb=Pc()(function(dc){var Vb,Bc;return Vr(this,function(fd){switch(fd.label){case 0:return[4,ug.loadLibrary()];case 1:return Vb=fd.sent(),Bc=Vb.filter(function(hd,ud){return ud!==dc}),ug.saveLibrary(Bc),Ba(Bc),[2]}})});return function(dc){return pb.apply(this,arguments)}}(),[]);var rb=(0,jc.useCallback)(function(){var pb=Pc()(function(dc){var Vb,Bc;return Vr(this,
function(fd){switch(fd.label){case 0:return[4,ug.loadLibrary()];case 1:return Vb=fd.sent(),Bc=Zt(Vb,[dc]),U(),ug.saveLibrary(Bc),Ba(Bc),[2]}})});return function(dc){return pb.apply(this,arguments)}}(),[U]);return"preloading"===va?null:Ca().createElement(cl,{padding:1,ref:ba,className:"layer-ui__library"},"loading"===va?Ca().createElement("div",{className:"layer-ui__library-message"},cb("labels.libraryLoadingMessage")):Ca().createElement($t,{library:ua,onRemoveFromLibrary:Ra,onAddToLibrary:rb,onInsertShape:w,
pendingElements:H,setAppState:d,setLibraryItems:Ba}))};const Yt=Ca().memo(function(d){var p,w=d.actionManager,H=d.appState,U=d.setAppState,ba=d.canvas,va=d.elements,ua=d.onCollabButtonClick,Ba=d.onLockToggle,Ra=d.onInsertElements,Ia=d.zenModeEnabled,ib=d.showExitZenModeBtn,rb=d.toggleZenMode,pb=d.isCollaborating,dc=d.onExportToBackend,Vb=d.renderCustomFooter;d=d.viewModeEnabled;var Bc=Ue(),fd=function(){var ke=function(Oe){return function(){var Je=Pc()(function(df,zd){return Vr(this,function(Yd){switch(Yd.label){case 0:return ba?
[4,Dc(Oe,df,H,ba,{exportBackground:H.exportBackground,name:H.name,viewBackgroundColor:H.viewBackgroundColor,scale:zd,shouldAddWatermark:H.shouldAddWatermark}).catch(Bk).catch(function(ie){console.error(ie);U({errorMessage:ie.message})})]:[3,2];case 1:Yd.sent(),Yd.label=2;case 2:return[2]}})});return function(df,zd){return Je.apply(this,arguments)}}()};return Ca().createElement(Ec,{elements:va,appState:H,actionManager:w,onExportToPng:ke("png"),onExportToSvg:ke("svg"),onExportToClipboard:ke("clipboard"),
onExportToBackend:dc?function(Oe){dc&&dc(Oe,H,ba)}:void 0})},hd=(0,jc.useCallback)(function(ke){U({isLibraryOpen:!1})},[U]),ud=(0,jc.useCallback)(function(){U({selectedElementIds:{},selectedGroupIds:{}})},[U]),le=H.isLibraryOpen?Ca().createElement(Xt,{pendingElements:uf(va,H),onClickOutside:hd,onInsertShape:Ra,onAddToLibrary:ud,setAppState:U}):null;Ra=Ca().createElement(Ca().Fragment,null,H.isLoading&&Ca().createElement(nc,null),H.errorMessage&&Ca().createElement(O,{message:H.errorMessage,onClose:function(){return U({errorMessage:null})}}),
H.showHelpDialog&&Ca().createElement(bu,{onClose:function(){return U({showHelpDialog:!1})}}),H.pasteDialog.shown&&Ca().createElement(Jf,{setAppState:U,appState:H,onInsertChart:Ra,onClose:function(){return U({pasteDialog:{shown:!1,data:null}})}}));return Bc?Ca().createElement(Ca().Fragment,null,Ra,Ca().createElement(xd,{appState:H,elements:va,actionManager:w,libraryMenu:le,exportButton:fd(),setAppState:U,onCollabButtonClick:ua,onLockToggle:Ba,canvas:ba,isCollaborating:pb,renderCustomFooter:Vb,viewModeEnabled:d})):
Ca().createElement("div",{className:xc("layer-ui__wrapper",{"disable-pointerEvents":H.draggingElement||H.resizingElement||H.editingElement&&!be(H.editingElement)})},Ra,(p=qh(H,va),Ca().createElement(bd,{side:"top"},Ca().createElement("div",{className:"App-menu App-menu_top"},Ca().createElement(Yk,{gap:4,className:xc({"disable-pointerEvents":Ia})},d?Ca().createElement(Hc,{heading:"canvasActions",className:xc("zen-mode-transition",{"transition-left":Ia})},Ca().createElement(cl,{padding:2,style:{zIndex:1}},
Ca().createElement(Yk,{gap:4},Ca().createElement(Xk,{gap:1,justifyContent:"space-between"},w.renderAction("saveScene"),w.renderAction("saveAsScene"),fd())))):Ca().createElement(Hc,{heading:"canvasActions",className:xc("zen-mode-transition",{"transition-left":Ia})},Ca().createElement(cl,{padding:2,style:{zIndex:1}},Ca().createElement(Yk,{gap:4},Ca().createElement(Xk,{gap:1,justifyContent:"space-between"},w.renderAction("loadScene"),w.renderAction("saveScene"),w.renderAction("saveAsScene"),fd(),w.renderAction("clearCanvas"),
ua&&Ca().createElement($q,{isCollaborating:pb,collaboratorCount:H.collaborators.size,onClick:ua})),Ca().createElement(Yq,{actionManager:w,appState:H,setAppState:U})))),p&&Ca().createElement(Hc,{heading:"selectedShapeActions",className:xc("zen-mode-transition",{"transition-left":Ia})},Ca().createElement(cl,{className:hc.$C.SHAPE_ACTIONS_MENU,padding:2,style:{maxHeight:"".concat(H.height-200,"px")}},Ca().createElement(Zq,{appState:H,elements:va,renderAction:w.renderAction,elementType:H.elementType})))),
!d&&Ca().createElement(Hc,{heading:"shapes"},function(ke){return Ca().createElement(Yk,{gap:4,align:"start"},Ca().createElement(Xk,{gap:1},Ca().createElement(cl,{padding:1,className:xc({"zen-mode":Ia})},Ca().createElement(zf,{appState:H,elements:va}),ke,Ca().createElement(Xk,{gap:1},Ca().createElement(aq,{canvas:ba,elementType:H.elementType,setAppState:U,isLibraryOpen:H.isLibraryOpen}))),Ca().createElement(Qc,{zenModeEnabled:Ia,checked:H.elementLocked,onChange:Ba,title:cb("toolBar.lock")})),le)}),
Ca().createElement(Oc,{className:xc("zen-mode-transition",{"transition-right":Ia})},0<H.collaborators.size&&Array.from(H.collaborators).filter(function(ke){ke[0];return 0!==Object.keys(ke[1]).length}).map(function(ke){var Oe=ke[0];ke=ke[1];return Ca().createElement(Ej,{label:ke.username||"Unknown user",key:Oe},w.renderAction("goToCollaborator",Oe))}))))),Ca().createElement("div",{className:xc("App-menu App-menu_bottom zen-mode-transition",{"App-menu_bottom--transition-left":Ia})},Ca().createElement(Yk,
{gap:2},Ca().createElement(Hc,{heading:"canvasActions"},Ca().createElement(cl,{padding:1},Ca().createElement(Qr,{renderAction:w.renderAction,zoom:H.zoom})),Ca().createElement("a",{className:xc("encrypted-icon tooltip zen-mode-visibility",{"zen-mode-visibility--hidden":Ia}),href:"https://blog.excalidraw.com/end-to-end-encryption/",target:"_blank",rel:"noopener noreferrer"},Ca().createElement(Ej,{label:cb("encrypted.tooltip"),position:"above",long:!0},Xd))))),Ca().createElement("aside",{className:xc("layer-ui__wrapper__github-corner zen-mode-transition",
{"transition-right":Ia})},Ca().createElement(re,{appearance:H.appearance})),Ca().createElement("footer",{role:"contentinfo",className:"layer-ui__wrapper__footer"},Ca().createElement("div",{className:xc("zen-mode-transition",{"transition-right disable-pointerEvents":Ia})},null==Vb?void 0:Vb(!1),w.renderAction("toggleShortcuts")),Ca().createElement("button",{className:xc("disable-zen-mode",{"disable-zen-mode--visible":ib}),onClick:rb},cb("buttons.exitZenMode"))),H.scrolledOutside&&Ca().createElement("button",
{className:"scroll-back-to-content",onClick:function(){U(function(ke){for(var Oe=1;Oe<arguments.length;Oe++){var Je=null!=arguments[Oe]?arguments[Oe]:{};Oe%2?lf(Object(Je),!0).forEach(function(df){od()(ke,df,Je[df])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ke,Object.getOwnPropertyDescriptors(Je)):lf(Object(Je)).forEach(function(df){Object.defineProperty(ke,df,Object.getOwnPropertyDescriptor(Je,df))})}return ke}({},ki(va,H)))}},cb("buttons.scrollBackToContent")))},function(d,p){var w=
function(ba){ba.suggestedBindings;ba.startBoundElement;return Uh()(ba,["suggestedBindings","startBoundElement"])},H=w(d.appState),U=w(p.appState);w=Object.keys(H);return d.renderCustomFooter===p.renderCustomFooter&&d.langCode===p.langCode&&d.elements===p.elements&&w.every(function(ba){return H[ba]===U[ba]})});var Ps=function(){try{var d=localStorage.getItem("excalidraw");return d?JSON.stringify(d).length:0}catch(p){return console.error(p),0}},cu=(h(7287),function(d,p){function w(Ba){return function(Ra){return function(Ia){if(H)throw new TypeError("Generator is already executing.");
for(;ua;)try{if(H=1,U&&(ba=2&Ia[0]?U.return:Ia[0]?U.throw||((ba=U.return)&&ba.call(U),0):U.next)&&!(ba=ba.call(U,Ia[1])).done)return ba;switch(U=0,ba&&(Ia=[2&Ia[0],ba.value]),Ia[0]){case 0:case 1:ba=Ia;break;case 4:return ua.label++,{value:Ia[1],done:!1};case 5:ua.label++;U=Ia[1];Ia=[0];continue;case 7:Ia=ua.ops.pop();ua.trys.pop();continue;default:if(!(ba=ua.trys,(ba=0<ba.length&&ba[ba.length-1])||6!==Ia[0]&&2!==Ia[0])){ua=0;continue}if(3===Ia[0]&&(!ba||Ia[1]>ba[0]&&Ia[1]<ba[3]))ua.label=Ia[1];else if(6===
Ia[0]&&ua.label<ba[1])ua.label=ba[1],ba=Ia;else if(ba&&ua.label<ba[2])ua.label=ba[2],ua.ops.push(Ia);else{ba[2]&&ua.ops.pop();ua.trys.pop();continue}}Ia=p.call(d,ua)}catch(ib){Ia=[6,ib],U=0}finally{H=ba=0}if(5&Ia[0])throw Ia[1];return{value:Ia[0]?Ia[1]:void 0,done:!0}}([Ba,Ra])}}var H,U,ba,va,ua={label:0,sent:function(){if(1&ba[0])throw ba[1];return ba[1]},trys:[],ops:[]};return va={next:w(0),throw:w(1),return:w(2)},"function"==typeof Symbol&&(va[Symbol.iterator]=function(){return this}),va}),Qs=
ri(function(d){var p=Ps();try{var w=localStorage.getItem("excalidraw-state"),H=localStorage.getItem("excalidraw-collab"),U=localStorage.getItem(hc.I.LOCAL_STORAGE_LIBRARY);var ba=(w?JSON.stringify(w).length:0)+(H?JSON.stringify(H).length:0)+(U?JSON.stringify(U).length:0)+Ps()}catch(va){ba=(console.error(va),0)}d({scene:p,total:ba})},500),eu=function(d){var p=Ue(),w=(0,jc.useState)({scene:0,total:0}),H=w[0],U=w[1];(0,jc.useEffect)(function(){Qs(function(Ra){U(Ra)})});(0,jc.useEffect)(function(){return function(){return Qs.cancel()}},
[]);w=Cg(d.elements);var ba=hk(d.elements,d.appState),va=Cg(ba);if(p&&d.appState.openMenu)return null;var ua,Ba;p=Lf();return p!==hc.eQ?(Ba=p.slice(0,16).replace("T"," "),ua=p.slice(21)):Ba=cb("stats.versionNotAvailable"),Ca().createElement("div",{className:"Stats"},Ca().createElement(cl,{padding:2},Ca().createElement("div",{className:"close",onClick:d.onClose},sj),Ca().createElement("h3",null,cb("stats.title")),Ca().createElement("table",null,Ca().createElement("tbody",null,Ca().createElement("tr",
null,Ca().createElement("th",{colSpan:2},cb("stats.scene"))),Ca().createElement("tr",null,Ca().createElement("td",null,cb("stats.elements")),Ca().createElement("td",null,d.elements.length)),Ca().createElement("tr",null,Ca().createElement("td",null,cb("stats.width")),Ca().createElement("td",null,Math.round(w[2])-Math.round(w[0]))),Ca().createElement("tr",null,Ca().createElement("td",null,cb("stats.height")),Ca().createElement("td",null,Math.round(w[3])-Math.round(w[1]))),Ca().createElement("tr",null,
Ca().createElement("th",{colSpan:2},cb("stats.storage"))),Ca().createElement("tr",null,Ca().createElement("td",null,cb("stats.scene")),Ca().createElement("td",null,sl(H.scene,1))),Ca().createElement("tr",null,Ca().createElement("td",null,cb("stats.total")),Ca().createElement("td",null,sl(H.total,1))),1===ba.length&&Ca().createElement("tr",null,Ca().createElement("th",{colSpan:2},cb("stats.element"))),1<ba.length&&Ca().createElement(Ca().Fragment,null,Ca().createElement("tr",null,Ca().createElement("th",
{colSpan:2},cb("stats.selected"))),Ca().createElement("tr",null,Ca().createElement("td",null,cb("stats.elements")),Ca().createElement("td",null,ba.length))),0<ba.length&&Ca().createElement(Ca().Fragment,null,Ca().createElement("tr",null,Ca().createElement("td",null,"x"),Ca().createElement("td",null,Math.round(1===ba.length?ba[0].x:va[0]))),Ca().createElement("tr",null,Ca().createElement("td",null,"y"),Ca().createElement("td",null,Math.round(1===ba.length?ba[0].y:va[1]))),Ca().createElement("tr",null,
Ca().createElement("td",null,cb("stats.width")),Ca().createElement("td",null,Math.round(1===ba.length?ba[0].width:va[2]-va[0]))),Ca().createElement("tr",null,Ca().createElement("td",null,cb("stats.height")),Ca().createElement("td",null,Math.round(1===ba.length?ba[0].height:va[3]-va[1])))),1===ba.length&&Ca().createElement("tr",null,Ca().createElement("td",null,cb("stats.angle")),Ca().createElement("td",null,"".concat(Math.round(180*ba[0].angle/Math.PI),"°"))),Ca().createElement("tr",null,Ca().createElement("th",
{colSpan:2},cb("stats.version"))),Ca().createElement("tr",null,Ca().createElement("td",{colSpan:2,style:{textAlign:"center",cursor:"pointer"},onClick:Pc()(function(){return cu(this,function(Ra){switch(Ra.label){case 0:return Ra.trys.push([0,2,,3]),[4,Dh(Lf())];case 1:return Ra.sent(),d.setAppState({toastMessage:cb("toast.copyToClipboard")}),[3,3];case 2:return Ra.sent(),[3,3];case 3:return[2]}})}),title:cb("stats.versionCopy")},Ba,Ca().createElement("br",null),ua))))))},fu=(h(5849),function(d){var p=
d.message,w=d.clearToast,H=(0,jc.useRef)(0),U=(0,jc.useCallback)(function(){return H.current=window.setTimeout(function(){return w()},hc.Lg)},[w]);return(0,jc.useEffect)(function(){return U(),function(){return clearTimeout(H.current)}},[U,p]),Ca().createElement("div",{className:"Toast",onMouseEnter:function(){return clearTimeout(null==H?void 0:H.current)},onMouseLeave:U},Ca().createElement("p",{className:"Toast__message"},p))}),Rs=ne({name:"viewMode",perform:function(d,p){return Tg("view","mode",
"view"),{appState:Wf(Wf({},p),{},{viewModeEnabled:!this.checked(p),selectedElementIds:{}}),commitToHistory:!1}},checked:function(d){return d.viewModeEnabled},contextItemLabel:"labels.viewMode",keyTest:function(d){return!d[cf]&&d.altKey&&"KeyR"===d.code}}),gu=function(){var d=function(p,w){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(H,U){H.__proto__=U}||function(H,U){for(var ba in U)Object.prototype.hasOwnProperty.call(U,ba)&&(H[ba]=U[ba])})(p,w)};return function(p,w){function H(){this.constructor=
p}d(p,w);p.prototype=null===w?Object.create(w):(H.prototype=w.prototype,new H)}}(),bp=function(d,p){function w(Ba){return function(Ra){return function(Ia){if(H)throw new TypeError("Generator is already executing.");for(;ua;)try{if(H=1,U&&(ba=2&Ia[0]?U.return:Ia[0]?U.throw||((ba=U.return)&&ba.call(U),0):U.next)&&!(ba=ba.call(U,Ia[1])).done)return ba;switch(U=0,ba&&(Ia=[2&Ia[0],ba.value]),Ia[0]){case 0:case 1:ba=Ia;break;case 4:return ua.label++,{value:Ia[1],done:!1};case 5:ua.label++;U=Ia[1];Ia=[0];
continue;case 7:Ia=ua.ops.pop();ua.trys.pop();continue;default:if(!(ba=ua.trys,(ba=0<ba.length&&ba[ba.length-1])||6!==Ia[0]&&2!==Ia[0])){ua=0;continue}if(3===Ia[0]&&(!ba||Ia[1]>ba[0]&&Ia[1]<ba[3]))ua.label=Ia[1];else if(6===Ia[0]&&ua.label<ba[1])ua.label=ba[1],ba=Ia;else if(ba&&ua.label<ba[2])ua.label=ba[2],ua.ops.push(Ia);else{ba[2]&&ua.ops.pop();ua.trys.pop();continue}}Ia=p.call(d,ua)}catch(ib){Ia=[6,ib],U=0}finally{H=ba=0}if(5&Ia[0])throw Ia[1];return{value:Ia[0]?Ia[1]:void 0,done:!0}}([Ba,Ra])}}
var H,U,ba,va,ua={label:0,sent:function(){if(1&ba[0])throw ba[1];return ba[1]},trys:[],ops:[]};return va={next:w(0),throw:w(1),return:w(2)},"function"==typeof Symbol&&(va[Symbol.iterator]=function(){return this}),va},Mk=function(){for(var d=0,p=0,w=arguments.length;p<w;p++)d+=arguments[p].length;d=Array(d);var H=0;for(p=0;p<w;p++)for(var U=arguments[p],ba=0,va=U.length;ba<va;ba++,H++)d[H]=U[ba];return d},kk=new eq,tq=!1,Xr=0,Fp=0,Gp=0,cp=!1,uq=!1,Yr=!1,Wr={horizontal:null,vertical:null},eo=0,fq=!1,
fo=null,wl=new Map,vp=null,br=null,yp=null,Ur=function(d){function p(w){var H=this;var U=H=d.call(this,w)||this;Ut.call(H);var ba,va,ua,Ba=Ch(),Ra=w.width,Ia=void 0===Ra?window.innerWidth:Ra;Ra=w.height;var ib=void 0===Ra?window.innerHeight:Ra,rb=w.offsetLeft,pb=w.offsetTop;Ra=w.excalidrawRef;var dc=w.viewModeEnabled;dc=void 0!==dc&&dc;var Vb=w.zenModeEnabled;Vb=void 0!==Vb&&Vb;w=w.gridModeEnabled;w=void 0!==w&&w;if(H.state=Ua(Ua(Ua({},Ba),{},{isLoading:!0,width:Ia,height:ib},H.getCanvasOffsets({offsetLeft:rb,
offsetTop:pb})),{},{viewModeEnabled:dc,zenModeEnabled:Vb,gridSize:w?hc.k:null}),Ra){var Bc;Ba="current"in Ra&&(null===(Bc=Ra.current)||void 0===Bc?void 0:Bc.readyPromise)||((ua=new Promise(function(fd,hd){ba=fd;va=hd})).resolve=ba,ua.reject=va,ua);ua={ready:!0,readyPromise:Ba,updateScene:H.updateScene,resetScene:H.resetScene,getSceneElementsIncludingDeleted:H.getSceneElementsIncludingDeleted,history:{clear:H.resetHistory},setScrollToCenter:H.setScrollToCenter,getSceneElements:H.getSceneElements,getAppState:function(){return U.state}};
"function"==typeof Ra?Ra(ua):Ra.current=ua;Ba.resolve(ua)}return H.scene=new xh,H.actionManager=new sm(H.syncActionResult,function(){return U.state},function(){return U.scene.getElementsIncludingDeleted()},H),H.actionManager.registerAll(ig),H.actionManager.registerAction({name:"undo",perform:function(fd,hd){return qp(fd,hd,function(){return kk.undoOnce()})},keyTest:function(fd){return fd[cf]&&"z"===fd.key.toLowerCase()&&!fd.shiftKey},PanelComponent:function(fd){fd=fd.updateData;return Ca().createElement(gf,
{type:"button",icon:kh,"aria-label":cb("buttons.undo"),onClick:fd})},commitToHistory:function(){return!1}}),H.actionManager.registerAction(function(fd){return{name:"redo",perform:function(hd,ud){return qp(hd,ud,function(){return fd.redoOnce()})},keyTest:function(hd){return hd[cf]&&hd.shiftKey&&"z"===hd.key.toLowerCase()||Hj&&hd.ctrlKey&&!hd.shiftKey&&"y"===hd.key},PanelComponent:function(hd){hd=hd.updateData;return Ca().createElement(gf,{type:"button",icon:Dj,"aria-label":cb("buttons.redo"),onClick:hd})},
commitToHistory:function(){return!1}}}(kk)),H}return gu(p,d),p.prototype.renderCanvas=function(){var w=window.devicePixelRatio,H=this.state,U=H.width,ba=H.height,va=U*w;w*=ba;return H.viewModeEnabled?Ca().createElement("canvas",{id:"canvas",style:{width:U,height:ba,cursor:"grabbing"},width:va,height:w,ref:this.handleCanvasRef,onContextMenu:this.handleCanvasContextMenu,onPointerMove:this.handleCanvasPointerMove,onPointerUp:this.removePointer,onPointerCancel:this.removePointer,onTouchMove:this.handleTouchMove,
onPointerDown:this.handleCanvasPointerDown},cb("labels.drawingCanvas")):Ca().createElement("canvas",{id:"canvas",style:{width:U,height:ba},width:va,height:w,ref:this.handleCanvasRef,onContextMenu:this.handleCanvasContextMenu,onPointerDown:this.handleCanvasPointerDown,onDoubleClick:this.handleCanvasDoubleClick,onPointerMove:this.handleCanvasPointerMove,onPointerUp:this.removePointer,onPointerCancel:this.removePointer,onTouchMove:this.handleTouchMove,onDrop:this.handleCanvasOnDrop},cb("labels.drawingCanvas"))},
p.prototype.render=function(){var w,H=this,U=this.state,ba=U.zenModeEnabled,va=U.width,ua=U.height;U=U.viewModeEnabled;var Ba=this.props,Ra=Ba.onCollabButtonClick,Ia=Ba.onExportToBackend;Ba=Ba.renderFooter;var ib=va/2,rb=ua/2;return Ca().createElement("div",{className:xc("excalidraw",{"excalidraw--view-mode":U}),ref:this.excalidrawContainerRef,style:{width:va,height:ua}},Ca().createElement(Yt,{canvas:this.canvas,appState:this.state,setAppState:this.setAppState,actionManager:this.actionManager,elements:this.scene.getElements(),
onCollabButtonClick:Ra,onLockToggle:this.toggleLock,onInsertElements:function(pb){return H.addElementsFromPasteOrLibrary(pb,ib,rb)},zenModeEnabled:ba,toggleZenMode:this.toggleZenMode,langCode:ra.code,isCollaborating:this.props.isCollaborating||!1,onExportToBackend:Ia,renderCustomFooter:Ba,viewModeEnabled:U,showExitZenModeBtn:void 0===(null===(w=this.props)||void 0===w?void 0:w.zenModeEnabled)&&ba}),Ca().createElement("div",{className:"excalidraw-textEditorContainer"}),this.state.showStats&&Ca().createElement(eu,
{appState:this.state,setAppState:this.setAppState,elements:this.scene.getElements(),onClose:this.toggleStats}),null!==this.state.toastMessage&&Ca().createElement(fu,{message:this.state.toastMessage,clearToast:this.clearToast}),Ca().createElement("main",null,this.renderCanvas()))},p.prototype.componentDidMount=function(){var w=this;return Pc()(function(){return bp(this,function(H){return"production"!==hc.Vi.TEST&&"production"!==hc.Vi.DEVELOPMENT||(w.setState.bind(w),Object.defineProperties(window.h,
{state:{configurable:!0,get:function(){return w.state}},setState:{configurable:!0,value:function(){for(var U=[],ba=0;ba<arguments.length;ba++)U[ba]=arguments[ba];return w.setState.apply(w,U)}},app:{configurable:!0,value:w}})),w.scene.addCallback(w.onSceneUpdated),w.addEventListeners(),"number"==typeof w.props.offsetLeft&&"number"==typeof w.props.offsetTop?w.initializeScene():w.setState(w.getCanvasOffsets(w.props),function(){w.initializeScene()}),[2]})})()},p.prototype.componentWillUnmount=function(){this.unmounted=
!0;this.removeEventListeners();this.scene.destroy();clearTimeout(eo);eo=0},p.prototype.removeEventListeners=function(){document.removeEventListener(hc.Ks.COPY,this.onCopy);document.removeEventListener(hc.Ks.PASTE,this.pasteFromClipboard);document.removeEventListener(hc.Ks.CUT,this.onCut);document.removeEventListener(hc.Ks.KEYDOWN,this.onKeyDown,!1);document.removeEventListener(hc.Ks.MOUSE_MOVE,this.updateCurrentCursorPosition,!1);document.removeEventListener(hc.Ks.KEYUP,this.onKeyUp);window.removeEventListener(hc.Ks.RESIZE,
this.onResize,!1);window.removeEventListener(hc.Ks.UNLOAD,this.onUnload,!1);window.removeEventListener(hc.Ks.BLUR,this.onBlur,!1);window.removeEventListener(hc.Ks.DRAG_OVER,this.disableEvent,!1);window.removeEventListener(hc.Ks.DROP,this.disableEvent,!1);document.removeEventListener(hc.Ks.GESTURE_START,this.onGestureStart,!1);document.removeEventListener(hc.Ks.GESTURE_CHANGE,this.onGestureChange,!1);document.removeEventListener(hc.Ks.GESTURE_END,this.onGestureEnd,!1)},p.prototype.addEventListeners=
function(){var w,H;this.removeEventListeners();document.addEventListener(hc.Ks.COPY,this.onCopy);document.addEventListener(hc.Ks.KEYDOWN,this.onKeyDown,!1);document.addEventListener(hc.Ks.KEYUP,this.onKeyUp,{passive:!0});document.addEventListener(hc.Ks.MOUSE_MOVE,this.updateCurrentCursorPosition);null===(w=document.fonts)||void 0===w||null===(H=w.addEventListener)||void 0===H||H.call(w,"loadingdone",this.onFontLoaded);document.addEventListener(hc.Ks.GESTURE_START,this.onGestureStart,!1);document.addEventListener(hc.Ks.GESTURE_CHANGE,
this.onGestureChange,!1);document.addEventListener(hc.Ks.GESTURE_END,this.onGestureEnd,!1);this.state.viewModeEnabled||(document.addEventListener(hc.Ks.PASTE,this.pasteFromClipboard),document.addEventListener(hc.Ks.CUT,this.onCut),document.addEventListener(hc.Ks.SCROLL,this.onScroll),window.addEventListener(hc.Ks.RESIZE,this.onResize,!1),window.addEventListener(hc.Ks.UNLOAD,this.onUnload,!1),window.addEventListener(hc.Ks.BLUR,this.onBlur,!1),window.addEventListener(hc.Ks.DRAG_OVER,this.disableEvent,
!1),window.addEventListener(hc.Ks.DROP,this.disableEvent,!1))},p.prototype.componentDidUpdate=function(w,H){var U,ba,va,ua,Ba=this;(w.langCode!==this.props.langCode&&this.updateLanguage(),w.width!==this.props.width||w.height!==this.props.height||"number"==typeof this.props.offsetLeft&&w.offsetLeft!==this.props.offsetLeft||"number"==typeof this.props.offsetTop&&w.offsetTop!==this.props.offsetTop)&&this.setState(Ua({width:null!==(va=this.props.width)&&void 0!==va?va:window.innerWidth,height:null!==
(ua=this.props.height)&&void 0!==ua?ua:window.innerHeight},this.getCanvasOffsets(this.props)));w.viewModeEnabled!==this.props.viewModeEnabled&&this.setState({viewModeEnabled:!!this.props.viewModeEnabled},this.addEventListeners);H.viewModeEnabled!==this.state.viewModeEnabled&&this.addEventListeners();w.zenModeEnabled!==this.props.zenModeEnabled&&this.setState({zenModeEnabled:!!this.props.zenModeEnabled});w.gridModeEnabled!==this.props.gridModeEnabled&&this.setState({gridSize:this.props.gridModeEnabled?
hc.k:null});null===(U=document.querySelector(".excalidraw"))||void 0===U||U.classList.toggle("Appearance_dark","dark"===this.state.appearance);this.state.editingLinearElement&&!this.state.selectedElementIds[this.state.editingLinearElement.elementId]&&setTimeout(function(){Ba.actionManager.executeAction(Mf)});w=H.multiElement;H.elementType!==this.state.elementType&&null!=w&&this.state.isBindingEnabled&&ng(w)&&gk(w,this.state,this.scene,Eg(cg.getPointAtIndexGlobalCoordinates(w,-1)));var Ra={},Ia={},
ib={},rb={},pb={};this.state.collaborators.forEach(function(Bc,fd){if(Bc.selectedElementIds)for(var hd=0,ud=Object.keys(Bc.selectedElementIds);hd<ud.length;hd++){var le=ud[hd];le in ib||(ib[le]=[]);ib[le].push(fd)}Bc.pointer&&(Bc.username&&(rb[fd]=Bc.username),Bc.userState&&(pb[fd]=Bc.userState),Ia[fd]=lh({sceneX:Bc.pointer.x,sceneY:Bc.pointer.y},Ba.state),Ra[fd]=Bc.button)});H=this.scene.getElements();U=an(H.filter(function(Bc){return!Ba.state.editingElement||"text"!==Ba.state.editingElement.type||
Bc.id!==Ba.state.editingElement.id}),this.state,this.state.selectionElement,window.devicePixelRatio,this.rc,this.canvas,{scrollX:this.state.scrollX,scrollY:this.state.scrollY,viewBackgroundColor:this.state.viewBackgroundColor,zoom:this.state.zoom,remotePointerViewportCoords:Ia,remotePointerButton:Ra,remoteSelectedElementIds:ib,remotePointerUsernames:rb,remotePointerUserStates:pb,shouldCacheIgnoreZoom:this.state.shouldCacheIgnoreZoom},{renderOptimizations:!0,renderScrollbars:!xg().matches});w=U.atLeastOneVisibleElement;
(U=U.scrollBars)&&(Wr=U);var dc,Vb;H="text"!==(null===(ba=this.state.editingElement)||void 0===ba?void 0:ba.type)&&!w&&0<H.length;(this.state.scrolledOutside!==H&&this.setState({scrolledOutside:H}),kk.record(this.state,this.scene.getElementsIncludingDeleted()),this.state.isLoading)||null===(dc=(Vb=this.props).onChange)||void 0===dc||dc.call(Vb,this.scene.getElementsIncludingDeleted(),this.state)},p.resetTapTwice=function(){tq=!1},p.prototype.addTextFromPaste=function(w){var H,U=vg({clientX:Fp,clientY:Gp},
this.state);w=Ij({x:U.x,y:U.y,strokeColor:this.state.currentItemStrokeColor,backgroundColor:this.state.currentItemBackgroundColor,fillStyle:this.state.currentItemFillStyle,strokeWidth:this.state.currentItemStrokeWidth,strokeStyle:this.state.currentItemStrokeStyle,roughness:this.state.currentItemRoughness,opacity:this.state.currentItemOpacity,strokeSharpness:this.state.currentItemStrokeSharpness,text:w,fontSize:this.state.currentItemFontSize,fontFamily:this.state.currentItemFontFamily,textAlign:this.state.currentItemTextAlign,
verticalAlign:hc.hs});this.scene.replaceAllElements(Mk(this.scene.getElementsIncludingDeleted(),[w]));this.setState({selectedElementIds:(H={},H[w.id]=!0,H)});kk.resumeRecording()},p.prototype.selectShapeTool=function(w){var H;cp||si(this.canvas,w);(H=document.activeElement)instanceof HTMLElement&&H.className.includes("ToolIcon")&&document.activeElement.blur();ej(w)||this.setState({suggestedBindings:[]});"selection"!==w?this.setState({elementType:w,selectedElementIds:{},selectedGroupIds:{},editingGroupId:null}):
this.setState({elementType:w})},p.prototype.handleTextWysiwyg=function(w,H){H=H.isExistingElement;var U=void 0!==H&&H,ba=this,va=function(ua,Ba){void 0===Ba&&(Ba=!1);ba.scene.replaceAllElements(Mk(ba.scene.getElementsIncludingDeleted().map(function(Ra){if(Ra.id===w.id&&be(Ra)){var Ia=Ba;Ia={text:ua,isDeleted:null!=Ia?Ia:Ra.isDeleted};var ib=Ui(ua,Ti(Ra));var rb=ib.width;var pb=ib.height;ib=ib.baseline;var dc=Ra.textAlign;var Vb=Ra.verticalAlign;if("center"===dc&&"middle"===Vb)dc=Ui(Ra.text,Ti(Ra)),
Vb=Wh(Ra,{width:rb-dc.width,height:pb-dc.height}),dc=Ra.x-Vb.x,Vb=Ra.y-Vb.y;else{var Bc=hg(Ra);Vb=Bc[0];var fd=Bc[1],hd=Bc[2];Bc=Bc[3];var ud=Qg(Ra,rb,pb);dc=(Vb=Yf({s:!0,e:"center"===dc||"left"===dc,w:"center"===dc||"right"===dc},Ra.x,Ra.y,Ra.angle,(Vb-ud[0])/2,(fd-ud[1])/2,(hd-ud[2])/2,(Bc-ud[3])/2))[0];Vb=Vb[1]}rb={width:rb,height:pb,x:Number.isFinite(dc)?dc:Ra.x,y:Number.isFinite(Vb)?Vb:Ra.y,baseline:ib};Ra=zg(Ra,Fa(Ia,rb))}return Ra})))};!function(ua){var Ba=ua.id,Ra=ua.appState,Ia=ua.onChange,
ib=ua.onSubmit,rb=ua.getViewportCoords,pb=ua.element;ua=ua.canvas;var dc=function(){var Je,df=null===(Je=xh.getScene(pb))||void 0===Je?void 0:Je.getElement(Ba);if(df&&be(df)){Je=rb(df.x,df.y);var zd=Je[0],Yd=Je[1];Je=df.textAlign;var ie=df.angle;Vb.value=df.text;var af=df.text.replace(/\r\n?/g,"\n").split("\n"),Eh=df.height/af.length;af=Object;var fi=af.assign,yj=Vb.style,aj=Ti(df);Eh="".concat(Eh,"px");var Ul="".concat(df.width,"px"),ln="".concat(df.height,"px");zd="".concat(zd,"px");Yd="".concat(Yd,
"px");var em=df.height,Fn=Ra.zoom,Lo=Ra.offsetTop;ie=180*ie/Math.PI;ie="translate(".concat((df.width-2*Ra.offsetLeft)*(Fn.value-1)/2,"px, ").concat((em-2*Lo)*(Fn.value-1)/2,"px) scale(").concat(Fn.value,") rotate(").concat(ie,"deg)");fi.call(af,yj,{font:aj,lineHeight:Eh,width:Ul,height:ln,left:zd,top:Yd,transform:ie,textAlign:Je,color:df.strokeColor,opacity:df.opacity/100,filter:"var(--appearance-filter)"})}},Vb=document.createElement("textarea");Vb.dir="auto";Vb.tabIndex=0;Vb.dataset.type="wysiwyg";
Vb.wrap="off";Object.assign(Vb.style,{position:"fixed",display:"inline-block",minHeight:"1em",backfaceVisibility:"hidden",margin:0,padding:0,border:0,outline:0,resize:"none",background:"transparent",overflow:"hidden",whiteSpace:"pre",zIndex:"var(--zIndex-wysiwyg)"});dc();Ia&&(Vb.oninput=function(){Ia(nl(Vb.value))});Vb.onkeydown=function(Je){"Escape"===Je.key?(Je.preventDefault(),fd()):"Enter"===Je.key&&Je[cf]?(Je.preventDefault(),Je.isComposing||229===Je.keyCode)||fd():"Enter"!==Je.key||Je.altKey||
Je.stopPropagation()};var Bc=function(Je){Je.preventDefault();Je.stopPropagation()},fd=function(){ib(nl(Vb.value));ke||(ke=!0,Vb.onblur=null,Vb.oninput=null,Vb.onkeydown=null,Oe&&Oe.disconnect(),window.removeEventListener("resize",dc),window.removeEventListener("wheel",Bc,!0),window.removeEventListener("pointerdown",ud),window.removeEventListener("pointerup",hd),window.removeEventListener("blur",fd),le(),Vb.remove())},hd=function(){window.removeEventListener("pointerup",hd);setTimeout(function(){Vb.onblur=
fd;Vb.focus()})},ud=function(Je){Je.target instanceof HTMLElement&&Je.target.closest(".".concat(hc.$C.SHAPE_ACTIONS_MENU))&&!Dg(Je.target)&&(Vb.onblur=null,window.addEventListener("pointerup",hd),window.addEventListener("blur",fd))},le=xh.getScene(pb).addCallback(function(){dc();Vb.focus()}),ke=!1;Vb.onblur=fd;var Oe=null;ua&&"ResizeObserver"in window?(Oe=new window.ResizeObserver(function(){dc()})).observe(ua):window.addEventListener("resize",dc);window.addEventListener("pointerdown",ud);window.addEventListener("wheel",
Bc,{passive:!1,capture:!0});document.querySelector(".excalidraw-textEditorContainer").appendChild(Vb);Vb.focus();Vb.select()}({id:w.id,appState:this.state,canvas:this.canvas,getViewportCoords:function(ua,Ba){ua=lh({sceneX:ua,sceneY:Ba},ba.state);return[ua.x,ua.y]},onChange:ag(function(ua){va(ua);!w.isDeleted&&yi(w)}),onSubmit:ag(function(ua){var Ba=!ua.trim();va(ua,Ba);Ba?qj(ba.scene.getElements(),[w]):ba.setState(function(Ra){var Ia;return{selectedElementIds:Ua(Ua({},Ra.selectedElementIds),{},(Ia=
{},Ia[w.id]=!0,Ia))}});Ba&&!U||kk.resumeRecording();ba.setState({draggingElement:null,editingElement:null});ba.state.elementLocked&&si(ba.canvas,ba.state.elementType)}),element:w});this.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null});va(w.text)},p.prototype.getTextElementAtPosition=function(w,H){return(w=this.getElementAtPosition(w,H))&&be(w)&&!w.isDeleted?w:null},p.prototype.getElementAtPosition=function(w,H){var U=this.getElementsAtPosition(w,H);if(1<U.length){var ba=U[U.length-
1];return Gk(ba,this.state,w,H)?U[U.length-2]:ba}return 1===U.length?U[0]:null},p.prototype.getElementsAtPosition=function(w,H){var U,ba,va=this;return U=this.scene.getElements(),ba=function(ua){var Ba=va.state,Ra=10/Ba.zoom.value,Ia=[w,H];return Ba.selectedElementIds[ua.id]?Pl(ua,Ia,Ra):ck(ua,Ba,Ia)},U.filter(function(ua){return!ua.isDeleted&&ba(ua)})},p.prototype.maybeCleanupAfterMissingPointerUp=function(w){null!==fo&&fo(w)},p.prototype.updateGestureOnPointerDown=function(w){wl.set(w.pointerId,
{x:w.clientX,y:w.clientY});2===wl.size&&(vp=Nm(wl),yp=this.state.zoom.value,br=ao(Array.from(wl.values())))},p.prototype.initialPointerDownState=function(w){var H=vg(w,this.state),U=uf(this.scene.getElements(),this.state),ba=Cg(U),va=ba[0],ua=ba[1],Ba=ba[2];ba=ba[3];return{origin:H,originInGrid:Eg(pi(H.x,H.y,this.state.gridSize)),scrollbars:ii(Wr,w.clientX-this.state.offsetLeft,w.clientY-this.state.offsetTop),lastCoords:Ua({},H),originalElements:this.scene.getElements().reduce(function(Ra,Ia){return Ra.set(Ia.id,
Jj(Ia)),Ra},new Map),resize:{handleType:!1,isResizing:!1,offset:{x:0,y:0},arrowDirection:"origin",center:{x:(Ba+va)/2,y:(ba+ua)/2}},hit:{element:null,allHitElements:[],wasAddedToSelection:!1,hasBeenDuplicated:!1,hasHitCommonBoundingBoxOfSelectedElements:this.isHittingCommonBoundingBoxOfSelectedElements(H,U)},drag:{hasOccurred:!1,offset:null},eventListeners:{onMove:null,onUp:null,onKeyUp:null,onKeyDown:null}}},p.prototype.handleDraggingScrollBar=function(w,H){var U=this;if(!H.scrollbars.isOverEither||
this.state.multiElement)return!1;Yr=!0;H.lastCoords.x=w.clientX;H.lastCoords.y=w.clientY;var ba=ag(function(ua){ua.target instanceof HTMLElement&&U.handlePointerMoveOverScrollbars(ua,H)}),va=ag(function(){Yr=!1;si(U.canvas,U.state.elementType);fo=null;U.setState({cursorButton:"up"});U.savePointer(w.clientX,w.clientY,"up");window.removeEventListener(hc.Ks.POINTER_MOVE,ba);window.removeEventListener(hc.Ks.POINTER_UP,va)});return fo=va,window.addEventListener(hc.Ks.POINTER_MOVE,ba),window.addEventListener(hc.Ks.POINTER_UP,
va),!0},p.prototype.isASelectedElement=function(w){return null!=w&&this.state.selectedElementIds[w.id]},p.prototype.isHittingCommonBoundingBoxOfSelectedElements=function(w,H){if(2>H.length)return!1;var U=10/this.state.zoom.value;H=Cg(H);var ba=H[1],va=H[2],ua=H[3];return w.x>H[0]-U&&w.x<va+U&&w.y>ba-U&&w.y<ua+U},p.prototype.onKeyDownFromPointerDownHandler=function(w){var H=this;return ag(function(U){H.maybeHandleResize(w,U)||H.maybeDragNewGenericElement(w,U)})},p.prototype.onKeyUpFromPointerDownHandler=
function(w){var H=this;return ag(function(U){"Alt"===U.key&&U.preventDefault();H.maybeHandleResize(w,U)||H.maybeDragNewGenericElement(w,U)})},p.prototype.onPointerMoveFromPointerDownHandler=function(w){var H=this;return ag(function(U){if(null===w.drag.offset&&(w.drag.offset=Eg(function(hd,ud,le){hd=Cg(hd);return[ud-hd[0],le-hd[1]]}(uf(H.scene.getElements(),H.state),w.origin.x,w.origin.y))),U.target instanceof HTMLElement&&!H.handlePointerMoveOverScrollbars(U,w)){var ba=vg(U,H.state),va=pi(ba.x,ba.y,
H.state.gridSize),ua=va[0];va=va[1];if(w.drag.hasOccurred||"arrow"!==H.state.elementType&&"line"!==H.state.elementType||!(Math.hypot(w.origin.x-ba.x,w.origin.y-ba.y)<hc.f)){if(w.resize.isResizing&&(w.lastCoords.x=ba.x,w.lastCoords.y=ba.y,H.maybeHandleResize(w,U)))return!0;if(H.state.editingLinearElement&&cg.handlePointDragging(H.state,function(hd){return H.setState(hd)},ba.x,ba.y,function(hd,ud){H.maybeSuggestBindingForLinearElementAtCursor(hd,ud,ba)}))return w.lastCoords.x=ba.x,void(w.lastCoords.y=
ba.y);if(w.hit.allHitElements.some(function(hd){return H.isASelectedElement(hd)})||w.hit.hasHitCommonBoundingBoxOfSelectedElements){w.drag.hasOccurred=!0;var Ba=uf(H.scene.getElements(),H.state);if(0<Ba.length){ua=pi(ba.x-w.drag.offset.x,ba.y-w.drag.offset.y,H.state.gridSize);var Ra=ua[0];ua=ua[1];va=[Math.abs(ba.x-w.origin.x),Math.abs(ba.y-w.origin.y)];if(function(hd,ud,le,ke,Oe,Je,df,zd){void 0===Je&&(Je=!1);void 0===df&&(df=0);void 0===zd&&(zd=0);Oe=Cg(ud);var Yd=le-Oe[0],ie=ke-Oe[1];ud.forEach(function(af){if(Je){var Eh=
Je&&df<zd;var fi=Je&&df>zd;var yj=hd.originalElements.get(af.id);Eh=Eh&&yj?yj.x:af.x+Yd;fi=fi&&yj?yj.y:af.y+ie}else Eh=af.x+Yd,fi=af.y+ie;jf(af,{x:Eh,y:fi});yi(af,{simultaneouslyUpdated:ud})})}(w,Ba,Ra,ua,H.scene,U.shiftKey,va[0],va[1]),H.maybeSuggestBindingForAll(Ba),U.altKey&&!w.hit.hasBeenDuplicated){w.hit.hasBeenDuplicated=!0;Ba=[];U=[];var Ia=new Map;va=new Map;for(var ib=w.hit.element,rb=0,pb=H.scene.getElementsIncludingDeleted();rb<pb.length;rb++){var dc=pb[rb];if(H.state.selectedElementIds[dc.id]||
dc.id===(null==ib?void 0:ib.id)&&w.hit.wasAddedToSelection){var Vb=Wi(H.state.editingGroupId,Ia,dc),Bc=pi(w.origin.x-w.drag.offset.x,w.origin.y-w.drag.offset.y,H.state.gridSize);jf(Vb,{x:Vb.x+(Bc[0]-Ra),y:Vb.y+(Bc[1]-ua)});Ba.push(Vb);U.push(dc);va.set(dc.id,Vb.id)}else Ba.push(dc)}Ra=Mk(Ba,U);Tj(Ra,U,va,"duplicatesServeAsOld");H.scene.replaceAllElements(Ra)}return}}if(Ba=H.state.draggingElement)if(Gg(Ba)?(w.drag.hasOccurred=!0,Ia=Ba.points,rb=ib=void 0,"draw"===Ba.type?(ib=ba.x-Ba.x,rb=ba.y-Ba.y):
(ib=ua-Ba.x,rb=va-Ba.y),U.shiftKey&&2===Ia.length&&(ib=(Ra=Xe(H.state.elementType,ib,rb)).width,rb=Ra.height),1===Ia.length?jf(Ba,{points:Mk(Ia,[[ib,rb]])}):1<Ia.length&&("draw"===Ba.type?jf(Ba,{points:N(Mk(Ia,[[ib,rb]]),.7/H.state.zoom.value)}):jf(Ba,{points:Mk(Ia.slice(0,-1),[[ib,rb]])})),ng(Ba)&&H.maybeSuggestBindingForLinearElementAtCursor(Ba,"end",ba,H.state.startBoundElement)):(w.lastCoords.x=ba.x,w.lastCoords.y=ba.y,H.maybeDragNewGenericElement(w,U)),"selection"===H.state.elementType){Ra=H.scene.getElements();
!U.shiftKey&&jg(Ra,H.state)&&H.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null});var fd=function(hd,ud){ud=hg(ud);var le=ud[0],ke=ud[1],Oe=ud[2],Je=ud[3];return hd.filter(function(df){var zd=qi(df),Yd=zd[0],ie=zd[1],af=zd[2];zd=zd[3];return"selection"!==df.type&&le<=Yd&&ke<=ie&&Oe>=af&&Je>=zd})}(Ra,Ba);H.setState(function(hd){return Vh(Ua(Ua({},hd),{},{selectedElementIds:Ua(Ua({},hd.selectedElementIds),fd.reduce(function(ud,le){return ud[le.id]=!0,ud},{}))}),H.scene.getElements())})}}}})},
p.prototype.handlePointerMoveOverScrollbars=function(w,H){return H.scrollbars.isOverHorizontal?(w=w.clientX,this.setState({scrollX:this.state.scrollX-(w-H.lastCoords.x)/this.state.zoom.value}),H.lastCoords.x=w,!0):H.scrollbars.isOverVertical?(w=w.clientY,this.setState({scrollY:this.state.scrollY-(w-H.lastCoords.y)/this.state.zoom.value}),H.lastCoords.y=w,!0):!1},p.prototype.onPointerUpFromPointerDownHandler=function(w){var H=this;return ag(function(U){var ba=H.state,va=ba.draggingElement,ua=ba.resizingElement,
Ba=ba.multiElement,Ra=ba.elementType,Ia=ba.elementLocked,ib=ba.isResizing;ba=ba.isRotating;if(H.setState({isResizing:!1,isRotating:!1,resizingElement:null,selectionElement:null,cursorButton:"up",editingElement:Ba||be(H.state.editingElement)?H.state.editingElement:null}),H.savePointer(U.clientX,U.clientY,"up"),H.state.editingLinearElement){var rb=cg.handlePointerUp(U,H.state.editingLinearElement,H.state);rb!==H.state.editingLinearElement&&H.setState({editingLinearElement:rb,suggestedBindings:[]})}if(fo=
null,window.removeEventListener(hc.Ks.POINTER_MOVE,w.eventListeners.onMove),window.removeEventListener(hc.Ks.POINTER_UP,w.eventListeners.onUp),window.removeEventListener(hc.Ks.KEYDOWN,w.eventListeners.onKeyDown),window.removeEventListener(hc.Ks.KEYUP,w.eventListeners.onKeyUp),"draw"!==(null==va?void 0:va.type))if(Gg(va))1<va.points.length&&kk.resumeRecording(),U=vg(U,H.state),w.drag.hasOccurred||!va||Ba?w.drag.hasOccurred&&!Ba&&(H.state.isBindingEnabled&&ng(va)&&gk(va,H.state,H.scene,U),H.setState({suggestedBindings:[],
startBoundElement:null}),Ia||"draw"===Ra?H.setState(function(Vb){var Bc;return{draggingElement:null,selectedElementIds:Ua(Ua({},Vb.selectedElementIds),{},(Bc={},Bc[H.state.draggingElement.id]=!0,Bc))}}):(Gi(H.canvas),H.setState(function(Vb){var Bc;return{draggingElement:null,elementType:"selection",selectedElementIds:Ua(Ua({},Vb.selectedElementIds),{},(Bc={},Bc[H.state.draggingElement.id]=!0,Bc))}}))):(jf(va,{points:Mk(va.points,[[U.x-va.x,U.y-va.y]])}),H.setState({multiElement:va,editingElement:H.state.draggingElement}));
else{if("selection"!==Ra&&va&&Rh(va))return H.scene.replaceAllElements(H.scene.getElementsIncludingDeleted().slice(0,-1)),void H.setState({draggingElement:null});va&&jf(va,Kl(va));ua&&kk.resumeRecording();ua&&Rh(ua)&&H.scene.replaceAllElements(H.scene.getElementsIncludingDeleted().filter(function(Vb){return Vb.id!==ua.id}));var pb=w.hit.element;if(pb&&!w.drag.hasOccurred&&!w.hit.wasAddedToSelection)if(U.shiftKey)if(H.state.selectedElementIds[pb.id])if(null!=yh(H.state,pb)){var dc=pb.groupIds.flatMap(function(Vb){return Zj(H.scene.getElements(),
Vb)}).map(function(Vb){var Bc;return(Bc={})[Vb.id]=!1,Bc}).reduce(function(Vb,Bc){return Ua(Ua({},Vb),Bc)},{});H.setState(function(Vb){return{selectedGroupIds:Ua(Ua({},Vb.selectedElementIds),pb.groupIds.map(function(Bc){var fd;return(fd={})[Bc]=!1,fd}).reduce(function(Bc,fd){return Ua(Ua({},Bc),fd)},{})),selectedElementIds:Ua(Ua({},Vb.selectedElementIds),dc)}})}else H.setState(function(Vb){var Bc;return{selectedElementIds:Ua(Ua({},Vb.selectedElementIds),{},(Bc={},Bc[pb.id]=!1,Bc))}});else H.setState(function(Vb){var Bc;
return{selectedElementIds:Ua(Ua({},Vb.selectedElementIds),{},(Bc={},Bc[pb.id]=!0,Bc))}});else H.setState(function(Vb){var Bc;return Ua({},Vh(Ua(Ua({},Vb),{},{selectedElementIds:(Bc={},Bc[pb.id]=!0,Bc)}),H.scene.getElements()))});H.state.editingLinearElement||w.drag.hasOccurred||H.state.isResizing||!(pb&&Gk(pb,H.state,w.origin.x,w.origin.y)||!pb&&w.hit.hasHitCommonBoundingBoxOfSelectedElements)?(!Ia&&"draw"!==Ra&&va&&H.setState(function(Vb){var Bc;return{selectedElementIds:Ua(Ua({},Vb.selectedElementIds),
{},(Bc={},Bc[va.id]=!0,Bc))}}),("selection"!==Ra||jg(H.scene.getElements(),H.state))&&kk.resumeRecording(),(w.drag.hasOccurred||ib||ba)&&(H.state.isBindingEnabled?wg:hh)(uf(H.scene.getElements(),H.state)),Ia||"draw"===Ra?H.setState({draggingElement:null,suggestedBindings:[]}):(Gi(H.canvas),H.setState({draggingElement:null,suggestedBindings:[],elementType:"selection"}))):H.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null})}else H.actionManager.executeAction(Mf)})},p.prototype.maybeSuggestBindingForAll=
function(w){var H;w=(H=new Set(w.map(function(U){return U.id})),w.flatMap(function(U){return ng(U)?Cl(U).filter(function(ba){return!H.has(ba.id)}):vk(U)?rh(U).filter(function(ba){return!H.has(ba[0].id)}):[]}));this.setState({suggestedBindings:w})},p.prototype.clearSelection=function(w){this.setState(function(H){return{selectedElementIds:{},selectedGroupIds:{},editingGroupId:H.editingGroupId&&null!=w&&w.groupIds.includes(H.editingGroupId)?H.editingGroupId:null}});this.setState({selectedElementIds:{},
previousSelectedElementIds:this.state.selectedElementIds})},p.prototype.getTextWysiwygSnappedToCenterPosition=function(w,H,U,ba,va){if(va=function(ua,Ba,Ra){for(var Ia=null,ib=ua.length-1;0<=ib;--ib)if(!ua[ib].isDeleted){var rb=hg(ua[ib]),pb=rb[1],dc=rb[2],Vb=rb[3];if(rb[0]<Ba&&Ba<dc&&pb<Ra&&Ra<Vb){Ia=ua[ib];break}}return Ia}(this.scene.getElementsIncludingDeleted().filter(function(ua){return!be(ua)}),w,H))if(ba=va.x+va.width/2,va=va.y+va.height/2,Math.hypot(w-ba,H-va)<hc.wZ)return w=lh({sceneX:ba,
sceneY:va},U),{viewportX:w.x,viewportY:w.y,elementCenterX:ba,elementCenterY:va}},p.prototype.getCanvasOffsets=function(w){var H,U;return"number"==typeof(null==w?void 0:w.offsetLeft)&&"number"==typeof(null==w?void 0:w.offsetTop)?{offsetLeft:w.offsetLeft,offsetTop:w.offsetTop}:null!==(H=this.excalidrawContainerRef)&&void 0!==H&&null!==(U=H.current)&&void 0!==U&&U.parentElement?(U=this.excalidrawContainerRef.current.parentElement.getBoundingClientRect(),H=U.left,U=U.top,{offsetLeft:"number"==typeof(null==
w?void 0:w.offsetLeft)?w.offsetLeft:H,offsetTop:"number"==typeof(null==w?void 0:w.offsetTop)?w.offsetTop:U}):{offsetLeft:"number"==typeof(null==w?void 0:w.offsetLeft)?w.offsetLeft:0,offsetTop:"number"==typeof(null==w?void 0:w.offsetTop)?w.offsetTop:0}},p.prototype.updateLanguage=function(){var w=this;return Pc()(function(){var H;return bp(this,function(U){switch(U.label){case 0:return H=Z.find(function(ba){return ba.code===w.props.langCode})||Xa,[4,eb(H)];case 1:return U.sent(),w.setAppState({}),
[2]}})})()},p}(Ca().Component);Ur.defaultProps={width:window.innerWidth,height:window.innerHeight};var Ut=function(){var d=this;this.rc=this.canvas=null;this.unmounted=!1;this.excalidrawContainerRef=Ca().createRef();this.getSceneElementsIncludingDeleted=function(){return d.scene.getElementsIncludingDeleted()};this.getSceneElements=function(){return d.scene.getElements()};this.syncActionResult=ag(function(p){if(!d.unmounted&&!1!==p){var w=null;if(p.elements&&(p.elements.forEach(function(Ra){var Ia;
(null===(Ia=d.state.editingElement)||void 0===Ia?void 0:Ia.id)===Ra.id&&d.state.editingElement!==Ra&&!Ra.isDeleted&&(w=Ra)}),d.scene.replaceAllElements(p.elements),p.commitToHistory&&kk.resumeRecording()),p.appState||w){var H,U,ba;p.commitToHistory&&kk.resumeRecording();var va=(null==p||null===(H=p.appState)||void 0===H?void 0:H.viewModeEnabled)||!1,ua=(null==p||null===(U=p.appState)||void 0===U?void 0:U.zenModeEnabled)||!1,Ba=(null==p||null===(ba=p.appState)||void 0===ba?void 0:ba.gridSize)||null;
void 0!==d.props.viewModeEnabled&&(va=d.props.viewModeEnabled);void 0!==d.props.zenModeEnabled&&(ua=d.props.zenModeEnabled);void 0!==d.props.gridModeEnabled&&(Ba=d.props.gridModeEnabled?hc.k:null);d.setState(function(Ra){var Ia;return Ua(Ua({},p.appState),{},{editingElement:w||(null===(Ia=p.appState)||void 0===Ia?void 0:Ia.editingElement)||null,width:Ra.width,height:Ra.height,offsetTop:Ra.offsetTop,offsetLeft:Ra.offsetLeft,viewModeEnabled:va,zenModeEnabled:ua,gridSize:Ba})},function(){p.syncHistory&&
kk.setCurrentState(d.state,d.scene.getElementsIncludingDeleted())})}}});this.onBlur=ag(function(){cp=!1;d.setState({isBindingEnabled:!0})});this.onUnload=function(){d.onBlur()};this.disableEvent=function(p){p.preventDefault()};this.onFontLoaded=function(){d.scene.getElementsIncludingDeleted().forEach(function(p){be(p)&&ui.delete(p)});d.onSceneUpdated()};this.importLibraryFromUrl=function(){var p=Pc()(function(w){var H,U,ba,va,ua;return bp(this,function(Ba){switch(Ba.label){case 0:window.history.replaceState({},
hc.iC,window.location.origin),Ba.label=1;case 1:return Ba.trys.push([1,7,,8]),[4,fetch(w)];case 2:return[4,Ba.sent().blob()];case 3:return H=Ba.sent(),va=(ba=JSON).parse,[4,H.text()];case 4:Ba=U=va.apply(ba,[Ba.sent()]);if("object"!=typeof Ba||!Ba||"excalidrawlib"!==Ba.type||1!==Ba.version)throw Error();return window.confirm(cb("alerts.confirmAddLibrary",{numShapes:U.library.length}))?[4,ug.importLibrary(H)]:[3,6];case 5:Ba.sent(),d.setState({isLibraryOpen:!0}),Ba.label=6;case 6:return[3,8];case 7:return ua=
Ba.sent(),window.alert(cb("alerts.errorLoadingLibrary")),console.error(ua),[3,8];case 8:return[2]}})});return function(w){return p.apply(this,arguments)}}();this.resetHistory=function(){kk.clear()};this.resetScene=ag(function(p){d.scene.replaceAllElements([]);d.setState(function(w){return Ua(Ua({},Ch()),{},{isLoading:(null==p||!p.resetLoadingState)&&w.isLoading,appearance:d.state.appearance})});d.resetHistory()});this.initializeScene=Pc()(function(){var p,w,H,U,ba;return bp(this,function(va){switch(va.label){case 0:"launchQueue"in
window&&"LaunchParams"in window&&window.launchQueue.setConsumer(function(){var ua=Pc()(function(Ba){var Ra,Ia;return bp(this,function(ib){switch(ib.label){case 0:return Ba.files.length?[4,(Ra=Ba.files[0]).getFile()]:[2];case 1:return(Ia=ib.sent()).handle=Ra,Lm(Ia,d.state).then(function(rb){return d.syncActionResult({elements:rb.elements,appState:Ua(Ua({},rb.appState||d.state),{},{isLoading:!1}),commitToHistory:!0})}).catch(function(rb){d.setState({isLoading:!1,errorMessage:rb.message})}),[2]}})});
return function(Ba){return ua.apply(this,arguments)}}()),d.state.isLoading||d.setState({isLoading:!0}),w=null,va.label=1;case 1:return va.trys.push([1,3,,4]),[4,d.props.initialData];case 2:return w=va.sent()||null,[3,4];case 3:return H=va.sent(),console.error(H),[3,4];case 4:return(U=dn(w,null)).appState=Ua(Ua({},U.appState),{},{isLoading:!1}),null!==(p=w)&&void 0!==p&&p.scrollToCenter&&(U.appState=Ua(Ua({},U.appState),ki(U.elements,Ua(Ua({},U.appState),{},{width:d.state.width,height:d.state.height,
offsetTop:d.state.offsetTop,offsetLeft:d.state.offsetLeft})))),d.resetHistory(),d.syncActionResult(Ua(Ua({},U),{},{commitToHistory:!0})),(ba=(new URLSearchParams(window.location.search)).get("addLibrary"))?[4,d.importLibraryFromUrl(ba)]:[3,6];case 5:va.sent(),va.label=6;case 6:return[2]}})});this.onResize=ag(function(){d.scene.getElementsIncludingDeleted().forEach(function(p){return ui.delete(p)});d.setState({})});this.onScroll=ri(function(){var p=d.getCanvasOffsets(),w=p.offsetTop,H=p.offsetLeft;
d.setState(function(U){return U.offsetLeft===H&&U.offsetTop===w?null:{offsetTop:w,offsetLeft:H}})},hc.HM);this.onCut=ag(function(p){Dg(p.target)||(d.cutAll(),p.preventDefault())});this.onCopy=ag(function(p){Dg(p.target)||(d.copyAll(),p.preventDefault())});this.cutAll=function(){d.copyAll();d.actionManager.executeAction(Sg)};this.copyAll=function(){yn(d.scene.getElements(),d.state)};this.onTapStart=function(p){if(!tq)return tq=!0,clearTimeout(Xr),void(Xr=window.setTimeout(Ur.resetTapTwice,hc.Gj));
if(tq&&1===p.touches.length){var w=p.touches[0];d.handleCanvasDoubleClick({clientX:w.clientX,clientY:w.clientY});tq=!1;clearTimeout(Xr)}p.preventDefault();2===p.touches.length&&d.setState({selectedElementIds:{}})};this.onTapEnd=function(p){p.preventDefault();0<p.touches.length&&d.setState({previousSelectedElementIds:{},selectedElementIds:d.state.previousSelectedElementIds})};this.pasteFromClipboard=ag(function(){var p=Pc()(function(w){var H,U,ba;return bp(this,function(va){switch(va.label){case 0:return H=
document.activeElement,U=document.elementFromPoint(Fp,Gp),!w||U instanceof HTMLCanvasElement&&!Dg(H)?[4,xn(w)]:[2];case 1:return(ba=va.sent()).errorMessage?d.setState({errorMessage:ba.errorMessage}):ba.spreadsheet?d.setState({pasteDialog:{data:ba.spreadsheet,shown:!0}}):ba.elements?d.addElementsFromPasteOrLibrary(ba.elements):ba.text&&d.addTextFromPaste(ba.text),d.selectShapeTool("selection"),null==w||w.preventDefault(),[2]}})});return function(w){return p.apply(this,arguments)}}());this.addElementsFromPasteOrLibrary=
function(p,w,H){void 0===w&&(w=Fp);void 0===H&&(H=Gp);var U=Cg(p),ba=U[0],va=U[1],ua=Math.abs(ba-U[2])/2;U=Math.abs(va-U[3])/2;w=vg({clientX:w,clientY:H},d.state);ua=w.x-ua;U=w.y-U;var Ba=new Map;ua=pi(ua,U,d.state.gridSize);var Ra=ua[0],Ia=ua[1],ib=new Map;ua=p.map(function(rb){var pb=Wi(d.state.editingGroupId,Ba,rb,{x:rb.x+Ra-ba,y:rb.y+Ia-va});return ib.set(rb.id,pb.id),pb});U=Mk(d.scene.getElementsIncludingDeleted(),ua);Tj(U,p,ib);d.scene.replaceAllElements(U);kk.resumeRecording();d.setState(Vh(Ua(Ua({},
d.state),{},{isLibraryOpen:!1,selectedElementIds:ua.reduce(function(rb,pb){return rb[pb.id]=!0,rb},{}),selectedGroupIds:{}}),d.scene.getElements()))};this.setAppState=function(p){d.setState(p)};this.removePointer=function(p){"touch"===p.pointerType&&eo&&(clearTimeout(eo),eo=0,fq=!1);wl.delete(p.pointerId)};this.toggleLock=function(){d.setState(function(p){return{elementLocked:!p.elementLocked,elementType:p.elementLocked?"selection":p.elementType}})};this.toggleZenMode=function(){d.actionManager.executeAction(oe)};
this.toggleStats=function(){d.state.showStats||Tg("dialog","stats");d.actionManager.executeAction(Yn)};this.setScrollToCenter=function(p){d.setState(Ua({},ki(fe(p),d.state,d.canvas)))};this.clearToast=function(){d.setState({toastMessage:null})};this.updateScene=ag(function(p){var w;p.commitToHistory&&kk.resumeRecording();null!==(w=p.appState)&&void 0!==w&&w.viewBackgroundColor&&d.setState({viewBackgroundColor:p.appState.viewBackgroundColor});p.elements&&d.scene.replaceAllElements(p.elements);p.collaborators&&
d.setState({collaborators:p.collaborators})});this.onSceneUpdated=function(){d.setState({})};this.updateCurrentCursorPosition=ag(function(p){Fp=p.x;Gp=p.y});this.onKeyDown=ag(function(p){var w;if(!(("Proxy"in window&&(!p.shiftKey&&/^[A-Z]$/.test(p.key)||p.shiftKey&&/^[a-z]$/.test(p.key))&&(p=new Proxy(p,{get:function(va,ua){var Ba=va[ua];return"function"==typeof Ba?Ba.bind(va):"key"===ua?p.shiftKey?va.key.toUpperCase():va.key.toLowerCase():Ba}})),Dg(p.target)&&"Escape"!==p.key||yg(p.key)&&(w=p.target,
w instanceof HTMLElement&&"wysiwyg"===w.dataset.type||w instanceof HTMLBRElement||w instanceof HTMLInputElement||w instanceof HTMLTextAreaElement||w instanceof HTMLSelectElement))||("?"===p.key&&d.setState({showHelpDialog:!0}),d.actionManager.handleKeyDown(p)||d.state.viewModeEnabled))){if(p[cf]&&d.setState({isBindingEnabled:!1}),"Digit9"===p.code&&d.setState({isLibraryOpen:!d.state.isLibraryOpen}),yg(p.key)){w=d.state.gridSize&&(p.shiftKey?hc.$e:d.state.gridSize)||(p.shiftKey?hc.Iw:hc.$e);var H=
d.scene.getElements().filter(function(va){return d.state.selectedElementIds[va.id]}),U=0,ba=0;"ArrowLeft"===p.key?U=-w:"ArrowRight"===p.key?U=w:"ArrowUp"===p.key?ba=-w:"ArrowDown"===p.key&&(ba=w);H.forEach(function(va){jf(va,{x:va.x+U,y:va.y+ba});yi(va,{simultaneouslyUpdated:H})});d.maybeSuggestBindingForAll(H);p.preventDefault()}else if("Enter"===p.key)if(w=uf(d.scene.getElements(),d.state),1===w.length&&Gg(w[0]))d.state.editingLinearElement&&d.state.editingLinearElement.elementId===w[0].id||(kk.resumeRecording(),
d.setState({editingLinearElement:new cg(w[0],d.scene)}));else{if(1===w.length&&!Gg(w[0]))return w=w[0],d.startTextEditing({sceneX:w.x+w.width/2,sceneY:w.y+w.height/2}),void p.preventDefault()}else p.ctrlKey||p.altKey||p.metaKey||null!==d.state.draggingElement||((w=function(va){var ua=um.find(function(Ba,Ra){return va===(Ra+1).toString()||("string"==typeof Ba.key?Ba.key===va:Ba.key.includes(va))});return(null==ua?void 0:ua.value)||null}(p.key))?d.selectShapeTool(w):"q"===p.key&&d.toggleLock());" "===
p.key&&0===wl.size&&(cp=!0,Hi(d.canvas,hc.oc.GRABBING))}});this.onKeyUp=ag(function(p){if(" "===p.key&&("selection"===d.state.elementType?Gi(d.canvas):(si(d.canvas,d.state.elementType),d.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null})),cp=!1),p[cf]||d.state.isBindingEnabled||d.setState({isBindingEnabled:!0}),yg(p.key))p=uf(d.scene.getElements(),d.state),d.state.isBindingEnabled?wg(p):hh(p),d.setState({suggestedBindings:[]})});this.onGestureStart=ag(function(p){p.preventDefault();
d.setState({selectedElementIds:{}});yp=d.state.zoom.value});this.onGestureChange=ag(function(p){if(p.preventDefault(),2!==wl.size){var w=yp;w&&d.setState(function(H){var U=H.zoom,ba=H.offsetLeft;H=H.offsetTop;return{zoom:ai(Sj(w*p.scale),U,{left:ba,top:H},{x:Fp,y:Gp})}})}});this.onGestureEnd=ag(function(p){p.preventDefault();d.setState({previousSelectedElementIds:{},selectedElementIds:d.state.previousSelectedElementIds});yp=null});this.startTextEditing=function(p){var w=p.sceneX,H=p.sceneY;p=p.insertAtParentCenter;
var U=void 0===p||p;p=d.getTextElementAtPosition(w,H);U=U&&d.getTextWysiwygSnappedToCenterPosition(w,H,d.state,d.canvas,window.devicePixelRatio);w=p||Ij({x:U?U.elementCenterX:w,y:U?U.elementCenterY:H,strokeColor:d.state.currentItemStrokeColor,backgroundColor:d.state.currentItemBackgroundColor,fillStyle:d.state.currentItemFillStyle,strokeWidth:d.state.currentItemStrokeWidth,strokeStyle:d.state.currentItemStrokeStyle,roughness:d.state.currentItemRoughness,opacity:d.state.currentItemOpacity,strokeSharpness:d.state.currentItemStrokeSharpness,
text:"",fontSize:d.state.currentItemFontSize,fontFamily:d.state.currentItemFontFamily,textAlign:U?"center":d.state.currentItemTextAlign,verticalAlign:U?"middle":hc.hs});d.setState({editingElement:w});p?U&&"center"===w.textAlign||jf(w,{verticalAlign:hc.hs}):(d.scene.replaceAllElements(Mk(d.scene.getElementsIncludingDeleted(),[w])),U||jf(w,{y:w.y-w.baseline/2}));d.setState({editingElement:w});d.handleTextWysiwyg(w,{isExistingElement:!!p})};this.handleCanvasDoubleClick=function(p){if(!d.state.multiElement&&
"selection"===d.state.elementType){var w=uf(d.scene.getElements(),d.state);if(1===w.length&&Gg(w[0]))d.state.editingLinearElement&&d.state.editingLinearElement.elementId===w[0].id||(kk.resumeRecording(),d.setState({editingLinearElement:new cg(w[0],d.scene)}));else{Gi(d.canvas);var H=vg(p,d.state);w=H.x;H=H.y;if(0<Ji(d.state).length){var U=d.getElementAtPosition(w,H),ba=U&&function(va,ua){return va.groupIds.find(function(Ba){return ua[Ba]})}(U,d.state.selectedGroupIds);if(ba)return void d.setState(function(va){var ua;
return Vh(Ua(Ua({},va),{},{editingGroupId:ba,selectedElementIds:(ua={},ua[U.id]=!0,ua),selectedGroupIds:{}}),d.scene.getElements())})}Gi(d.canvas);p[cf]||d.startTextEditing({sceneX:w,sceneY:H,insertAtParentCenter:!p.altKey})}}};this.handleCanvasPointerMove=function(p){d.savePointer(p.clientX,p.clientY,d.state.cursorButton);wl.has(p.pointerId)&&wl.set(p.pointerId,{x:p.clientX,y:p.clientY});var w=yp;if(2===wl.size&&vp&&w&&br){var H=Nm(wl),U=H.x-vp.x,ba=H.y-vp.y;vp=H;var va=ao(Array.from(wl.values()))/
br;d.setState(function(dc){var Vb=dc.zoom,Bc=dc.offsetLeft,fd=dc.offsetTop;return{scrollX:dc.scrollX+U/Vb.value,scrollY:dc.scrollY+ba/Vb.value,zoom:ai(Sj(w*va),Vb,{left:Bc,top:fd},H),shouldCacheIgnoreZoom:!0}});d.resetShouldCacheIgnoreZoomDebounced()}else vp=br=yp=null;if(!(cp||uq||Yr)){var ua=ii(Wr,p.clientX-d.state.offsetLeft,p.clientY-d.state.offsetTop).isOverEither;d.state.draggingElement||d.state.multiElement||(ua?Gi(d.canvas):si(d.canvas,d.state.elementType));var Ba=vg(p,d.state),Ra=Ba.x,Ia=
Ba.y;if(d.state.editingLinearElement&&!d.state.editingLinearElement.isDragging){var ib=cg.handlePointerMove(p,Ra,Ia,d.state.editingLinearElement,d.state.gridSize);ib!==d.state.editingLinearElement&&d.setState({editingLinearElement:ib});null!=ib.lastUncommittedPoint?d.maybeSuggestBindingAtCursor(Ba):d.setState({suggestedBindings:[]})}"arrow"===d.state.elementType&&(ib=d.state.draggingElement,ng(ib)?d.maybeSuggestBindingForLinearElementAtCursor(ib,"end",Ba,d.state.startBoundElement):d.maybeSuggestBindingAtCursor(Ba));
if(d.state.multiElement){ua=d.state.multiElement;Ba=ua.x;ib=ua.y;p=ua.points;var rb=ua.lastCommittedPoint,pb=p[p.length-1];return si(d.canvas,d.state.elementType),void(pb===rb?Math.hypot(pb[0]-(Ra-Ba),pb[1]-(Ia-ib))>=hc.qx?jf(ua,{points:Mk(p,[[Ra-Ba,Ia-ib]])}):Hi(d.canvas,hc.oc.POINTER):2<p.length&&rb&&Math.hypot(rb[0]-(Ra-Ba),rb[1]-(Ia-ib))<hc.qx?(Hi(d.canvas,hc.oc.POINTER),jf(ua,{points:p.slice(0,-1)})):(bi(p,d.state.zoom.value)&&Hi(d.canvas,hc.oc.POINTER),jf(ua,{points:Mk(p.slice(0,-1),[[Ra-Ba,
Ia-ib]])})))}if(!(p.buttons||"selection"!==d.state.elementType&&"text"!==d.state.elementType)){rb=d.scene.getElements();ib=uf(rb,d.state);if(1!==ib.length||ua||d.state.editingLinearElement){if(1<ib.length&&!ua&&(Ra=of(Cg(ib),Ra,Ia,d.state.zoom,p.pointerType)))return void Hi(d.canvas,Ie({transformHandleType:Ra}))}else if((Ra=Mi(rb,d.state,Ra,Ia,d.state.zoom,p.pointerType))&&Ra.transformHandleType)return void Hi(d.canvas,Ie(Ra));Ra=d.getElementAtPosition(Ba.x,Ba.y);"text"===d.state.elementType?Hi(d.canvas,
be(Ra)?hc.oc.TEXT:hc.oc.CROSSHAIR):ua?Hi(d.canvas,hc.oc.AUTO):Ra||d.isHittingCommonBoundingBoxOfSelectedElements(Ba,ib)?Hi(d.canvas,hc.oc.MOVE):Hi(d.canvas,hc.oc.AUTO)}}};this.handleTouchMove=function(p){fq=!0};this.handleCanvasPointerDown=function(p){if(p.persist(),d.maybeOpenContextMenuAfterPointerDownOnTouchDevices(p),d.maybeCleanupAfterMissingPointerUp(p),!(uq||(d.setState({lastPointerDownWith:p.pointerType,cursorButton:"down"}),d.savePointer(p.clientX,p.clientY,"down"),d.handleCanvasPanUsingWheelOrSpaceDrag(p)||
p.button!==hc.Oh.MAIN&&p.button!==hc.Oh.TOUCH||(d.updateGestureOnPointerDown(p),p.preventDefault(),document.activeElement instanceof HTMLElement&&document.activeElement.blur(),1<wl.size)))){var w=d.initialPointerDownState(p);if(!d.handleDraggingScrollBar(p,w)&&(d.clearSelectionIfNotUsingSelection(),d.updateBindingEnabledOnPointerMove(p),!d.handleSelectionOnPointerDown(p,w)))if("text"!==d.state.elementType){"arrow"===d.state.elementType||"draw"===d.state.elementType||"line"===d.state.elementType?d.handleLinearElementOnPointerDown(p,
d.state.elementType,w):d.createGenericElementOnPointerDown(d.state.elementType,w);p=d.onPointerMoveFromPointerDownHandler(w);var H=d.onPointerUpFromPointerDownHandler(w),U=d.onKeyDownFromPointerDownHandler(w),ba=d.onKeyUpFromPointerDownHandler(w);fo=H;d.state.viewModeEnabled||(window.addEventListener(hc.Ks.POINTER_MOVE,p),window.addEventListener(hc.Ks.POINTER_UP,H),window.addEventListener(hc.Ks.KEYDOWN,U),window.addEventListener(hc.Ks.KEYUP,ba),w.eventListeners.onMove=p,w.eventListeners.onUp=H,w.eventListeners.onKeyUp=
ba,w.eventListeners.onKeyDown=U)}else d.handleTextOnPointerDown(p,w)}};this.maybeOpenContextMenuAfterPointerDownOnTouchDevices=function(p){"touch"===p.pointerType&&(fq=!1,eo?fq=!0:eo=window.setTimeout(function(){eo=0;fq||d.openContextMenu({clientX:p.clientX,clientY:p.clientY})},hc.nM))};this.handleCanvasPanUsingWheelOrSpaceDrag=function(p){if(0!==wl.size||!(p.button===hc.Oh.WHEEL||p.button===hc.Oh.MAIN&&cp||d.state.viewModeEnabled))return!1;uq=!0;var w=!1,H=/Linux/.test(window.navigator.platform);
Hi(d.canvas,hc.oc.GRABBING);var U=p.clientX,ba=p.clientY,va=ag(function(Ba){var Ra=U-Ba.clientX,Ia=ba-Ba.clientY;if(U=Ba.clientX,ba=Ba.clientY,H&&!w&&(1<Math.abs(Ra)||1<Math.abs(Ia))){w=!0;var ib=function(pb){document.body.removeEventListener(hc.Ks.PASTE,ib);pb.stopPropagation()},rb=function(){setTimeout(function(){document.body.removeEventListener(hc.Ks.PASTE,ib);window.removeEventListener(hc.Ks.POINTER_UP,rb)},100)};document.body.addEventListener(hc.Ks.PASTE,ib);window.addEventListener(hc.Ks.POINTER_UP,
rb)}d.setState({scrollX:d.state.scrollX-Ra/d.state.zoom.value,scrollY:d.state.scrollY-Ia/d.state.zoom.value})}),ua=ag(fo=function(){fo=null;uq=!1;cp||si(d.canvas,d.state.elementType);d.setState({cursorButton:"up"});d.savePointer(p.clientX,p.clientY,"up");window.removeEventListener(hc.Ks.POINTER_MOVE,va);window.removeEventListener(hc.Ks.POINTER_UP,ua);window.removeEventListener(hc.Ks.BLUR,ua)});return window.addEventListener(hc.Ks.BLUR,ua),window.addEventListener(hc.Ks.POINTER_MOVE,va,{passive:!0}),
window.addEventListener(hc.Ks.POINTER_UP,ua),!0};this.clearSelectionIfNotUsingSelection=function(){"selection"!==d.state.elementType&&d.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null})};this.handleSelectionOnPointerDown=function(p,w){if("selection"===d.state.elementType){var H=d.scene.getElements(),U=uf(H,d.state);1!==U.length||d.state.editingLinearElement?1<U.length&&(w.resize.handleType=of(Cg(U),w.origin.x,w.origin.y,d.state.zoom,p.pointerType)):(H=Mi(H,d.state,w.origin.x,
w.origin.y,d.state.zoom,p.pointerType),null!=H&&(d.setState({resizingElement:H.element}),w.resize.handleType=H.transformHandleType));if(w.resize.handleType)Hi(d.canvas,Ie({transformHandleType:w.resize.handleType})),w.resize.isResizing=!0,w.resize.offset=Eg(function(rb,pb,dc,Vb){var Bc,fd=1===pb.length?hg(pb[0]):Cg(pb),hd=fd[0],ud=fd[1],le=fd[2];fd=fd[3];pb=1===pb.length?pb[0].angle:0;switch(dc=(Bc=Hf(dc,Vb,(hd+le)/2,(ud+fd)/2,-pb))[0],Vb=Bc[1],rb){case "n":return Hf(dc-(hd+le)/2,Vb-ud,0,0,pb);case "s":return Hf(dc-
(hd+le)/2,Vb-fd,0,0,pb);case "w":return Hf(dc-hd,Vb-(ud+fd)/2,0,0,pb);case "e":return Hf(dc-le,Vb-(ud+fd)/2,0,0,pb);case "nw":return Hf(dc-hd,Vb-ud,0,0,pb);case "ne":return Hf(dc-le,Vb-ud,0,0,pb);case "sw":return Hf(dc-hd,Vb-fd,0,0,pb);case "se":return Hf(dc-le,Vb-fd,0,0,pb);default:return[0,0]}}(w.resize.handleType,U,w.origin.x,w.origin.y)),1===U.length&&Gg(U[0])&&2===U[0].points.length&&(w.resize.arrowDirection=(ua=w.resize.handleType,Ba=U[0],Ra=Ba.points[1],Ia=Ra[0],ib=Ra[1],"nw"===ua&&(0>Ia||
0>ib)||"ne"===ua&&0<=Ia||"sw"===ua&&0>=Ia||"se"===ua&&(0<Ia||0<ib)?"end":"origin"));else{var ba;if(d.state.editingLinearElement&&(U=cg.handlePointerDown(p,d.state,function(rb){return d.setState(rb)},kk,w.origin),U.hitElement&&(w.hit.element=U.hitElement),U.didAddPoint))return!0;w.hit.element=null!==(ba=w.hit.element)&&void 0!==ba?ba:d.getElementAtPosition(w.origin.x,w.origin.y);w.hit.allHitElements=d.getElementsAtPosition(w.origin.x,w.origin.y);var va=w.hit.element;ba=w.hit.allHitElements.some(function(rb){return d.isASelectedElement(rb)});
if(null!==va&&ba||p.shiftKey||w.hit.hasHitCommonBoundingBoxOfSelectedElements||d.clearSelection(va),null!=va){if(p[cf])return d.setState(function(rb){var pb;rb=Na(Na({},rb),{},{editingGroupId:va.groupIds.length?va.groupIds[0]:null,selectedGroupIds:{},selectedElementIds:(pb={},pb[va.id]=!0,pb)});return Ua(Ua({},rb),{},{previousSelectedElementIds:d.state.selectedElementIds})}),!1;d.state.selectedElementIds[va.id]||(d.state.editingGroupId&&!va.groupIds.includes(d.state.editingGroupId)&&d.setState({selectedElementIds:{},
selectedGroupIds:{},editingGroupId:null}),ba||w.hit.hasHitCommonBoundingBoxOfSelectedElements||(d.setState(function(rb){var pb;return Vh(Ua(Ua({},rb),{},{selectedElementIds:Ua(Ua({},rb.selectedElementIds),{},(pb={},pb[va.id]=!0,pb))}),d.scene.getElements())}),w.hit.wasAddedToSelection=!0))}d.setState({previousSelectedElementIds:d.state.selectedElementIds})}}var ua,Ba,Ra,Ia,ib;return!1};this.handleTextOnPointerDown=function(p,w){var H;"text"!==(null===(H=d.state.editingElement)||void 0===H?void 0:
H.type)&&(d.startTextEditing({sceneX:w.origin.x,sceneY:w.origin.y,insertAtParentCenter:!p.altKey}),Gi(d.canvas),d.state.elementLocked||d.setState({elementType:"selection"}))};this.handleLinearElementOnPointerDown=function(p,w,H){if(d.state.multiElement){var U=d.state.multiElement;if("line"===U.type&&bi(U.points,d.state.zoom.value))return jf(U,{lastCommittedPoint:U.points[U.points.length-1]}),void d.actionManager.executeAction(Mf);w=U.x;p=U.y;var ba=U.lastCommittedPoint;if(1<U.points.length&&ba&&Math.hypot(ba[0]-
(H.origin.x-w),ba[1]-(H.origin.y-p))<hc.qx)return void d.actionManager.executeAction(Mf);d.setState(function(Ba){var Ra;return{selectedElementIds:Ua(Ua({},Ba.selectedElementIds),{},(Ra={},Ra[U.id]=!0,Ra))}});jf(U,{lastCommittedPoint:U.points[U.points.length-1]});Hi(d.canvas,hc.oc.POINTER)}else{p=pi(H.origin.x,H.origin.y,"draw"===w?null:d.state.gridSize);var va=d.state;ba=va.currentItemStartArrowhead;va=va.currentItemEndArrowhead;ba="arrow"===w?[ba,va]:[null,null];var ua=Ye({type:w,x:p[0],y:p[1],strokeColor:d.state.currentItemStrokeColor,
backgroundColor:d.state.currentItemBackgroundColor,fillStyle:d.state.currentItemFillStyle,strokeWidth:d.state.currentItemStrokeWidth,strokeStyle:d.state.currentItemStrokeStyle,roughness:d.state.currentItemRoughness,opacity:d.state.currentItemOpacity,strokeSharpness:d.state.currentItemLinearStrokeSharpness,startArrowhead:ba[0],endArrowhead:ba[1]});d.setState(function(Ba){var Ra;return{selectedElementIds:Ua(Ua({},Ba.selectedElementIds),{},(Ra={},Ra[ua.id]=!1,Ra))}});jf(ua,{points:Mk(ua.points,[[0,0]])});
H=$h(H.origin,d.scene);d.scene.replaceAllElements(Mk(d.scene.getElementsIncludingDeleted(),[ua]));d.setState({draggingElement:ua,editingElement:ua,startBoundElement:H,suggestedBindings:[]})}};this.createGenericElementOnPointerDown=function(p,w){w=pi(w.origin.x,w.origin.y,d.state.gridSize);p=Ml({type:p,x:w[0],y:w[1],strokeColor:d.state.currentItemStrokeColor,backgroundColor:d.state.currentItemBackgroundColor,fillStyle:d.state.currentItemFillStyle,strokeWidth:d.state.currentItemStrokeWidth,strokeStyle:d.state.currentItemStrokeStyle,
roughness:d.state.currentItemRoughness,opacity:d.state.currentItemOpacity,strokeSharpness:d.state.currentItemStrokeSharpness});"selection"===p.type?d.setState({selectionElement:p,draggingElement:p}):(d.scene.replaceAllElements(Mk(d.scene.getElementsIncludingDeleted(),[p])),d.setState({multiElement:null,draggingElement:p,editingElement:p}))};this.updateBindingEnabledOnPointerMove=function(p){p=!p[cf];d.state.isBindingEnabled!==p&&d.setState({isBindingEnabled:p})};this.maybeSuggestBindingAtCursor=function(p){p=
$h(p,d.scene);d.setState({suggestedBindings:null!=p?[p]:[]})};this.maybeSuggestBindingForLinearElementAtCursor=function(p,w,H,U){w=$h(H,d.scene);d.setState({suggestedBindings:null==w||(null==U?void 0:U.id)===w.id&&3>p.points.length?[]:[w]})};this.handleCanvasRef=function(p){var w,H,U;null!==p?(d.canvas=p,d.rc=Qh.canvas(d.canvas),d.canvas.addEventListener(hc.Ks.WHEEL,d.handleWheel,{passive:!1}),d.canvas.addEventListener(hc.Ks.TOUCH_START,d.onTapStart),d.canvas.addEventListener(hc.Ks.TOUCH_END,d.onTapEnd)):
(null===(w=d.canvas)||void 0===w||w.removeEventListener(hc.Ks.WHEEL,d.handleWheel),null===(H=d.canvas)||void 0===H||H.removeEventListener(hc.Ks.TOUCH_START,d.onTapStart),null===(U=d.canvas)||void 0===U||U.removeEventListener(hc.Ks.TOUCH_END,d.onTapEnd))};this.handleCanvasOnDrop=function(){var p=Pc()(function(w){var H,U,ba,va,ua,Ba,Ra,Ia,ib,rb,pb;return bp(this,function(dc){switch(dc.label){case 0:return dc.trys.push([0,3,,4]),"image/png"!==(null==(U=w.dataTransfer.files[0])?void 0:U.type)&&"image/svg+xml"!==
(null==U?void 0:U.type)?[3,2]:[4,Lm(U,d.state)];case 1:return ba=dc.sent(),va=ba.elements,ua=ba.appState,d.syncActionResult({elements:va,appState:Ua(Ua({},ua||d.state),{},{isLoading:!1}),commitToHistory:!0}),[2];case 2:return[3,4];case 3:return Ba=dc.sent(),[2,d.setState({isLoading:!1,errorMessage:Ba.message})];case 4:if(""!==(Ra=w.dataTransfer.getData(hc.LO.excalidrawlib)))return d.addElementsFromPasteOrLibrary(JSON.parse(Ra),w.clientX,w.clientY),[2];if(!("application/json"===(null==(Ia=null===(H=
w.dataTransfer)||void 0===H?void 0:H.files[0])?void 0:Ia.type)||null!=Ia&&Ia.name.endsWith(".excalidraw")))return[3,9];if(d.setState({isLoading:!0}),!("chooseFileSystemEntries"in window||"showOpenFilePicker"in window))return[3,8];dc.label=5;case 5:return dc.trys.push([5,7,,8]),ib=w.dataTransfer.items[0],rb=Ia,[4,ib.getAsFileSystemHandle()];case 6:return rb.handle=dc.sent(),[3,8];case 7:return pb=dc.sent(),console.warn(pb.name,pb.message),[3,8];case 8:return Lm(Ia,d.state).then(function(Vb){return d.syncActionResult({elements:Vb.elements,
appState:Ua(Ua({},Vb.appState||d.state),{},{isLoading:!1}),commitToHistory:!0})}).catch(function(Vb){d.setState({isLoading:!1,errorMessage:Vb.message})}),[3,10];case 9:(null==Ia?void 0:Ia.type)===hc.LO.excalidrawlib||null!=Ia&&Ia.name.endsWith(".excalidrawlib")?ug.importLibrary(Ia).then(function(){d.setState({isLibraryOpen:!1})}).catch(function(Vb){return d.setState({isLoading:!1,errorMessage:Vb.message})}):d.setState({isLoading:!1,errorMessage:cb("alerts.couldNotLoadInvalidFile")}),dc.label=10;case 10:return[2]}})});
return function(w){return p.apply(this,arguments)}}();this.handleCanvasContextMenu=function(p){p.preventDefault();d.openContextMenu(p)};this.maybeDragNewGenericElement=function(p,w){var H=d.state.draggingElement,U=p.lastCoords;if(H)if("selection"===H.type)ji(H,d.state.elementType,p.origin.x,p.origin.y,U.x,U.y,Math.abs(p.origin.x-U.x),Math.abs(p.origin.y-U.y),w.shiftKey,w.altKey);else{var ba=pi(U.x,U.y,d.state.gridSize);U=ba[0];ba=ba[1];ji(H,d.state.elementType,p.originInGrid.x,p.originInGrid.y,U,
ba,Math.abs(p.originInGrid.x-U),Math.abs(p.originInGrid.y-ba),w.shiftKey,w.altKey);d.maybeSuggestBindingForAll([H])}};this.maybeHandleResize=function(p,w){var H=uf(d.scene.getElements(),d.state),U=p.resize.handleType;d.setState({isResizing:U&&"rotation"!==U,isRotating:"rotation"===U});var ba=p.lastCoords;ba=pi(ba.x-p.resize.offset.x,ba.y-p.resize.offset.y,d.state.gridSize);a:{var va=p.resize.arrowDirection,ua=w.shiftKey,Ba=w.altKey;w=w.shiftKey;var Ra=ba[0],Ia=ba[1];ba=p.resize.center.x;var ib=p.resize.center.y;
if(1===H.length){ba=H[0];if("rotation"===U)U=hg(ba),U=5*Math.PI/2+Math.atan2(Ia-(U[1]+U[3])/2,Ra-(U[0]+U[2])/2),ua&&(U+=hc.ay/2,U-=U%hc.ay),U=Qf(U),jf(ba,{angle:U}),yi(ba);else if(!Gg(ba)||2!==ba.points.length||"nw"!==U&&"ne"!==U&&"sw"!==U&&"se"!==U)if(!be(ba)||"nw"!==U&&"ne"!==U&&"sw"!==U&&"se"!==U){if(U){va=p.originalElements.get(ba.id);var rb=Qg(va,va.width,va.height);ua=[rb[0],rb[1]];p=[rb[2],rb[3]];rb=[(ua[0]+p[0])/2,(ua[1]+p[1])/2];ib=fj([Ra,Ia],rb,-va.angle);Ra=Qg(ba,ba.width,ba.height);var pb=
Ra[2]-Ra[0],dc=Ra[3]-Ra[1];Ra=(p[0]-ua[0])/pb;Ia=(p[1]-ua[1])/dc;U.includes("e")&&(Ra=(ib[0]-ua[0])/pb);U.includes("s")&&(Ia=(ib[1]-ua[1])/dc);U.includes("w")&&(Ra=(p[0]-ib[0])/pb);U.includes("n")&&(Ia=(p[1]-ib[1])/dc);ib=va.width;pb=va.height;Ra*=ba.width;Ia*=ba.height;if(Ba&&(Ra=2*Ra-ib,Ia=2*Ia-pb),w){dc=Math.abs(Ra)/ib;var Vb=Math.abs(Ia)/pb;if(1===U.length&&(Ia*=dc,Ra*=Vb),2===U.length)dc=Math.max(dc,Vb),Ra=ib*dc*Math.sign(Ra),Ia=pb*dc*Math.sign(Ia)}Vb=Qg(va,Ra,Ia);ib=Vb[0];pb=Vb[1];dc=Vb[2]-
ib;Vb=Vb[3]-pb;var Bc=rj(ua);if(["n","w","nw"].includes(U)&&(Bc=[p[0]-Math.abs(dc),p[1]-Math.abs(Vb)]),"ne"===U)Bc=[ua[0],p[1]],Bc=[Bc[0],Bc[1]-Math.abs(Vb)];"sw"===U&&(ua=[p[0],ua[1]],Bc=[ua[0]-Math.abs(dc),ua[1]]);w&&(["s","n"].includes(U)&&(Bc[0]=rb[0]-dc/2),["e","w"].includes(U)&&(Bc[1]=rb[1]-Vb/2));0>Ra&&(U.includes("e")&&(Bc[0]-=Math.abs(dc)),U.includes("w")&&(Bc[0]+=Math.abs(dc)));0>Ia&&(U.includes("s")&&(Bc[1]-=Math.abs(Vb)),U.includes("n")&&(Bc[1]+=Math.abs(Vb)));Ba&&(Bc[0]=rb[0]-Math.abs(dc)/
2,Bc[1]=rb[1]-Math.abs(Vb)/2);U=va.angle;Ba=fj(Bc,rb,U);w=fj([Bc[0]+Math.abs(dc)/2,Bc[1]+Math.abs(Vb)/2],rb,U);Bc=fj(Ba,w,-U);U=kf(va,Ra,Ia);Ba=rj(Bc);Ba[0]+=va.x-ib;Ba[1]+=va.y-pb;U=Ac({width:Math.abs(Ra),height:Math.abs(Ia),x:Ba[0],y:Ba[1]},U);0!==U.width&&0!==U.height&&Number.isFinite(U.x)&&Number.isFinite(U.y)&&(yi(ba,{newSize:{width:U.width,height:U.height}}),jf(ba,U))}}else{va=hg(ba);p=va[0];ua=va[1];w=va[2];va=va[3];Ia=Hf(Ra,Ia,(p+w)/2,(ua+va)/2,-ba.angle);Ra=Ia[0];Ia=Ia[1];switch(U){case "se":rb=
Math.max((Ra-p)/(w-p),(Ia-ua)/(va-ua));break;case "nw":rb=Math.max((w-Ra)/(w-p),(va-Ia)/(va-ua));break;case "ne":rb=Math.max((Ra-p)/(w-p),(va-Ia)/(va-ua));break;case "sw":rb=Math.max((w-Ra)/(w-p),(Ia-ua)/(va-ua))}0<rb&&(Ra=ba.width*rb,rb*=ba.height,Ia=Og(ba,Ra,rb),null!==Ia&&(ib=Qg(ba,Ra,rb),p=(p-ib[0])/2,ua=(ua-ib[1])/2,w=(w-ib[2])/2,va=(va-ib[3])/2,U={n:/^(n|ne|nw)$/.test(U)||Ba&&/^(s|se|sw)$/.test(U),s:/^(s|se|sw)$/.test(U)||Ba&&/^(n|ne|nw)$/.test(U),w:/^(w|nw|sw)$/.test(U)||Ba&&/^(e|ne|se)$/.test(U),
e:/^(e|ne|se)$/.test(U)||Ba&&/^(w|nw|sw)$/.test(U)},U=Yf(U,ba.x,ba.y,ba.angle,p,ua,w,va),jf(ba,{fontSize:Ia.size,width:Ra,height:rb,baseline:Ia.baseline,x:U[0],y:U[1]})));yi(ba)}else U=hg(ba),Ba=Hf(Ra,Ia,(U[0]+U[2])/2,(U[1]+U[3])/2,-ba.angle),U=Ba[0],Ba=Ba[1],Ba="end"===va?[U-ba.x,Ba-ba.y]:[ba.x+ba.points[1][0]-U,ba.y+ba.points[1][1]-Ba],U=Ba[0],Ba=Ba[1],ua&&(w=ba.angle,U=Xe.apply(void 0,rj([ba.type],Hf(U,Ba,0,0,w))),Ba=Hf(U.width,U.height,0,0,-w),U=Ba[0],Ba=Ba[1]),w=Yf("end"===va?{s:!0,e:!0}:{n:!0,
w:!0},ba.x,ba.y,ba.angle,0,0,(ba.points[1][0]-U)/2,(ba.points[1][1]-Ba)/2),jf(ba,{x:w[0],y:w[1],points:[[0,0],[U,Ba]]});ba=!0}else{if(1<H.length){if("rotation"===U){ba=(ml(p,H,Ra,Ia,ua,ba,ib),!0);break a}if("nw"===U||"ne"===U||"sw"===U||"se"===U){ba=(Dl(H,U,Ra,Ia),!0);break a}}ba=!1}}return!!ba&&(d.maybeSuggestBindingForAll(H),!0)};this.openContextMenu=function(p){var w,H=p.clientX;p=p.clientY;var U=vg({clientX:H,clientY:p},d.state),ba=U.x,va=U.y,ua=bg.contextItemPredicate(d.actionManager.getElementsIncludingDeleted(),
d.actionManager.getAppState()),Ba=wi.contextItemPredicate(d.actionManager.getElementsIncludingDeleted(),d.actionManager.getAppState());U=xg().matches;var Ra=d.scene.getElements();ba=d.getElementAtPosition(ba,va);va=[];(Im&&0<Ra.length&&va.push(rp),Hm&&0<Ra.length&&va.push(sp),ba)?(d.state.selectedElementIds[ba.id]||d.setState({selectedElementIds:(w={},w[ba.id]=!0,w)}),d.state.viewModeEnabled?An({options:Mk([navigator.clipboard&&fn],va),top:p,left:H,actionManager:d.actionManager,appState:d.state}):
An({options:Mk([U&&cq,U&&navigator.clipboard&&fn,U&&navigator.clipboard&&{name:"paste",perform:function(Ia,ib){return d.pasteFromClipboard(null),{commitToHistory:!1}},contextItemLabel:"labels.paste"},U&&"separator"],va,["separator",qf,hf,"separator",ua&&bg,Ba&&wi,(ua||Ba)&&"separator",Jo,"separator",ym,ql,m,F,"separator",na,Sg]),top:p,left:H,actionManager:d.actionManager,appState:d.state})):(w=Mk(va,[void 0===d.props.gridModeEnabled&&pp,void 0===d.props.zenModeEnabled&&oe,void 0===d.props.viewModeEnabled&&
Rs,Yn]),(An({options:w,top:p,left:H,actionManager:d.actionManager,appState:d.state}),d.state.viewModeEnabled)||An({options:[U&&navigator.clipboard&&{name:"paste",perform:function(Ia,ib){return d.pasteFromClipboard(null),{commitToHistory:!1}},contextItemLabel:"labels.paste"},U&&navigator.clipboard&&"separator",Im&&0<Ra.length&&rp,Hm&&0<Ra.length&&sp,(Im&&0<Ra.length||Hm&&0<Ra.length)&&"separator",ca,"separator",void 0===d.props.gridModeEnabled&&pp,void 0===d.props.zenModeEnabled&&oe,void 0===d.props.viewModeEnabled&&
Rs,Yn],top:p,left:H,actionManager:d.actionManager,appState:d.state}))};this.handleWheel=ag(function(p){if(p.preventDefault(),!uq){var w=p.deltaX,H=p.deltaY,U=d.state,ba=U.selectedElementIds,va=U.previousSelectedElementIds;if(p.metaKey||p.ctrlKey){p=Math.sign(H);U=Math.abs(H);10<U&&(U=10);U*=p;0!==Object.keys(va).length&&setTimeout(function(){d.setState({selectedElementIds:va,previousSelectedElementIds:{}})},1E3);var ua=d.state.zoom.value-U/100;return ua+=Math.log10(Math.max(1,d.state.zoom.value))*
-p,ua=Math.round(ua*hc.V4*100)/(100*hc.V4),d.setState(function(Ba){var Ra=Ba.zoom,Ia=Ba.offsetLeft;Ba=Ba.offsetTop;return{zoom:ai(Sj(ua),Ra,{left:Ia,top:Ba},{x:Fp,y:Gp}),selectedElementIds:{},previousSelectedElementIds:0!==Object.keys(ba).length?ba:va,shouldCacheIgnoreZoom:!0}}),void d.resetShouldCacheIgnoreZoomDebounced()}p.shiftKey?d.setState(function(Ba){return{scrollX:Ba.scrollX-(H||w)/Ba.zoom.value}}):d.setState(function(Ba){var Ra=Ba.zoom;return{scrollX:Ba.scrollX-w/Ra.value,scrollY:Ba.scrollY-
H/Ra.value}})}});this.savePointer=function(p,w,H){var U,ba;p&&w&&(p=vg({clientX:p,clientY:w},d.state),isNaN(p.x)||isNaN(p.y),null===(U=(ba=d.props).onPointerUpdate)||void 0===U||U.call(ba,{pointer:p,button:H,pointersMap:wl}))};this.resetShouldCacheIgnoreZoomDebounced=ri(function(){d.unmounted||d.setState({shouldCacheIgnoreZoom:!1})},300)};"production"!==hc.Vi.TEST&&"production"!==hc.Vi.DEVELOPMENT||(window.h=window.h||{},Object.defineProperties(window.h,{elements:{configurable:!0,get:function(){return this.app.scene.getElementsIncludingDeleted()},
set:function(d){return this.app.scene.replaceAllElements(d)}},history:{configurable:!0,get:function(){return kk}},library:{configurable:!0,value:ug}}));h(8234);h(4651);var Os=function(d){var p=d.width,w=d.height,H=d.offsetLeft,U=d.offsetTop,ba=d.onChange,va=d.initialData,ua=d.excalidrawRef,Ba=d.onCollabButtonClick,Ra=d.isCollaborating,Ia=d.onPointerUpdate,ib=d.onExportToBackend,rb=d.renderFooter,pb=d.langCode;pb=void 0===pb?Xa.code:pb;var dc=d.viewModeEnabled,Vb=d.zenModeEnabled;d=d.gridModeEnabled;
return(0,jc.useEffect)(function(){var Bc=function(fd){"number"==typeof fd.scale&&1!==fd.scale&&fd.preventDefault()};return document.addEventListener("touchmove",Bc,{passive:!1}),function(){document.removeEventListener("touchmove",Bc)}},[]),Ca().createElement(se,{langCode:pb},Ca().createElement(lg,null,Ca().createElement(Ur,{width:p,height:w,offsetLeft:H,offsetTop:U,onChange:ba,initialData:va,excalidrawRef:ua,onCollabButtonClick:Ba,isCollaborating:Ra,onPointerUpdate:Ia,onExportToBackend:ib,renderFooter:rb,
langCode:pb,viewModeEnabled:dc,zenModeEnabled:Vb,gridModeEnabled:d})))};Os.defaultProps={lanCode:Xa.code};var Vt=(0,jc.forwardRef)(function(d,p){return Ca().createElement(Os,hb()({},d,{excalidrawRef:p}))});const Wt=Ca().memo(Vt,function(d,p){d.initialData;var w=rc()(d,["initialData"]),H=(p.initialData,rc()(p,["initialData"]));d=Object.keys(d);p=Object.keys(p);return d.length===p.length&&d.every(function(U){return w[U]===H[U]})});h(6009);const du=Wt},4698:z=>{z.exports=u},6207:z=>{z.exports=r}},a=
{};return l.m=q,l.n=z=>{var t=z&&z.__esModule?()=>z.default:()=>z;return l.d(t,{a:t}),t},e=Object.getPrototypeOf?z=>Object.getPrototypeOf(z):z=>z.__proto__,l.t=function(z,t){if((1&t&&(z=this(z)),8&t)||"object"==typeof z&&z&&(4&t&&z.__esModule||16&t&&"function"==typeof z.then))return z;var h=Object.create(null);l.r(h);var y={};f=f||[null,e({}),e([]),e(e)];for(t=2&t&&z;"object"==typeof t&&!~f.indexOf(t);t=e(t))Object.getOwnPropertyNames(t).forEach(B=>y[B]=()=>z[B]);return y.default=()=>z,l.d(h,y),h},
l.d=(z,t)=>{for(var h in t)l.o(t,h)&&!l.o(z,h)&&Object.defineProperty(z,h,{enumerable:!0,get:t[h]})},l.f={},l.e=z=>Promise.all(Object.keys(l.f).reduce((t,h)=>(l.f[h](z,t),t),[])),l.u=z=>"excalidraw-assets/"+{9:"image",43:"i18n-de-DE-json",60:"i18n-ko-KR-json",62:"i18n-zh-TW-json",137:"i18n-ja-JP-json",149:"i18n-pt-PT-json",164:"i18n-kab-KAB-json",196:"i18n-nl-NL-json",213:"i18n-tr-TR-json",242:"i18n-my-MM-json",246:"i18n-nb-NO-json",262:"i18n-he-IL-json",280:"i18n-pa-IN-json",304:"i18n-zh-CN-json",
317:"i18n-es-ES-json",351:"i18n-ca-ES-json",364:"i18n-fr-FR-json",381:"i18n-pt-BR-json",384:"i18n-bg-BG-json",401:"i18n-sk-SK-json",465:"i18n-it-IT-json",472:"i18n-fi-FI-json",491:"i18n-id-ID-json",526:"i18n-el-GR-json",558:"i18n-ar-SA-json",565:"i18n-oc-FR-json",583:"i18n-uk-UA-json",661:"i18n-hu-HU-json",698:"i18n-sv-SE-json",710:"i18n-fa-IR-json",736:"vendor",752:"i18n-ro-RO-json",852:"i18n-pl-PL-json",869:"i18n-ru-RU-json",920:"i18n-nn-NO-json",933:"i18n-hi-IN-json"}[z]+"-"+{9:"4c2d5c85067885b645af",
43:"25b9d373be7998ec8292",60:"b1be5a5efcc755c07d59",62:"73f897900f59b18297f8",137:"5405a70006ac91601a5c",149:"6dd9b7298afdffcf91ef",164:"0e0d76b0ec51eec085f9",196:"08b07d372c3d3c8a012c",213:"34f56d7f1f2f80889a14",242:"5c814bfe8c8afece2196",246:"0156721cbd6f7f7d53c0",262:"6bcb0fc5bb372765fcc4",280:"533afc0d50cc43daa571",304:"6e008d0de37586fe3be9",317:"1ef86d5f25e74cdc8c07",351:"9d87e847bedbcf7eeb2e",364:"36f93b4d67d8f8b386c4",381:"e6484705437c57afd8ba",384:"86c2a2dcf09266c579cb",401:"fc289748fac9d3515954",
465:"0098334cb9a435eb74eb",472:"c3caff3c25c838cabb4e",491:"a963182dae0376271aea",526:"dff5b4d6bcb5f52ae5b8",558:"f279c4a807586879abec",565:"d5128dd436bf3fbea3e2",583:"16a0f6cb353a26ac3bb3",661:"b63671a66b4f486a152c",698:"ce2f80ea5452829415f2",710:"c91b47131199307f68bf",736:"b4c65010480c4491af72",752:"cdaca327e54ab136970b",852:"4b867ec2769274f799f2",869:"d5fa851675c0a792d0f1",920:"f33e34b9500103bb0c9f",933:"d607b524c3147901f4f9"}[z]+".js",l.o=(z,t)=>Object.prototype.hasOwnProperty.call(z,t),k={},l.l=
(z,t,h,y)=>{if(k[z])k[z].push(t);else{var B;if(void 0!==h){y=document.getElementsByTagName("script");for(var I=0;I<y.length;I++){var N=y[I];if(N.getAttribute("src")==z||N.getAttribute("data-webpack")=="Excalidraw:"+h){var P=N;break}}}P||(B=!0,(P=document.createElement("script")).charset="utf-8",P.timeout=120,l.nc&&P.setAttribute("nonce",l.nc),P.setAttribute("data-webpack","Excalidraw:"+h),P.src=z);k[z]=[t];t=(C,G)=>{P.onerror=P.onload=null;clearTimeout(K);var x=k[z];if(delete k[z],P.parentNode&&P.parentNode.removeChild(P),
x&&x.forEach(V=>V(G)),C)return C(G)};var K=setTimeout(t.bind(null,void 0,{type:"timeout",target:P}),12E4);P.onerror=t.bind(null,P.onerror);P.onload=t.bind(null,P.onload);B&&document.head.appendChild(P)}},l.r=z=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(z,Symbol.toStringTag,{value:"Module"});Object.defineProperty(z,"__esModule",{value:!0})},l.p="",(()=>{var z={163:0};l.f.j=(y,B)=>{var I=l.o(z,y)?z[y]:void 0;if(0!==I)if(I)B.push(I[2]);else{var N=new Promise((K,C)=>{I=z[y]=
[K,C]});B.push(I[2]=N);B=l.p+l.u(y);var P=Error();l.l(B,K=>{if(l.o(z,y)&&(0!==(I=z[y])&&(z[y]=void 0),I)){var C=K&&("load"===K.type?"missing":K.type);K=K&&K.target&&K.target.src;P.message="Loading chunk "+y+" failed.\n("+C+": "+K+")";P.name="ChunkLoadError";P.type=C;P.request=K;I[1](P)}},"chunk-"+y,y)}};var t=(y,B)=>{for(var I,N,[P,K,C]=B,G=0,x=[];G<P.length;G++)N=P[G],l.o(z,N)&&z[N]&&x.push(z[N][0]),z[N]=0;for(I in K)l.o(K,I)&&(l.m[I]=K[I]);C&&C(l);for(y&&y(B);x.length;)x.shift()()},h=self.webpackChunkExcalidraw=
self.webpackChunkExcalidraw||[];h.forEach(t.bind(null,0));h.push=t.bind(null,h.push.bind(h))})(),l(3956)})()})};
'use strict';
var $frontend$handler$draw$load_excalidraw_file$$ = function($file$jscomp$51$$, $ok_handler$jscomp$26$$) {
  var $temp__5720__auto__$jscomp$419$$ = $APP.$frontend$state$get_current_repo$$();
  $APP.$cljs$core$truth_$$($temp__5720__auto__$jscomp$419$$) && $APP.$frontend$util$p_handle$cljs$0core$0IFn$0_invoke$0arity$03$$($APP.$frontend$handler$file$load_file$$($temp__5720__auto__$jscomp$419$$, $file$jscomp$51$$), function($content$jscomp$137$$) {
    return $ok_handler$jscomp$26$$.$cljs$core$IFn$_invoke$arity$1$ ? $ok_handler$jscomp$26$$.$cljs$core$IFn$_invoke$arity$1$($content$jscomp$137$$) : $ok_handler$jscomp$26$$.call(null, $content$jscomp$137$$);
  }, function($error$jscomp$57$$) {
    return $APP.$cljs$core$println$cljs$0core$0IFn$0_invoke$0arity$0variadic$$($APP.$cljs$core$prim_seq$cljs$0core$0IFn$0_invoke$0arity$02$$(["Error loading ", $file$jscomp$51$$, ": ", $error$jscomp$57$$]));
  });
}, $frontend$extensions$excalidraw$update_draw_content_width$$ = function($state$jscomp$274$$) {
  var $el$jscomp$55_el__$1$jscomp$1_width$jscomp$55$$ = $APP.$rum$core$dom_node$$($state$jscomp$274$$);
  $el$jscomp$55_el__$1$jscomp$1_width$jscomp$55$$ = $APP.$cljs$core$truth_$$($el$jscomp$55_el__$1$jscomp$1_width$jscomp$55$$) ? $el$jscomp$55_el__$1$jscomp$1_width$jscomp$55$$.querySelector(".draw-wrap") : $el$jscomp$55_el__$1$jscomp$1_width$jscomp$55$$;
  $el$jscomp$55_el__$1$jscomp$1_width$jscomp$55$$ = $APP.$cljs$core$truth_$$($el$jscomp$55_el__$1$jscomp$1_width$jscomp$55$$) ? $el$jscomp$55_el__$1$jscomp$1_width$jscomp$55$$.clientWidth : $el$jscomp$55_el__$1$jscomp$1_width$jscomp$55$$;
  $APP.$cljs$core$reset_BANG_$$($cljs$cst$keyword$frontend_DOT_extensions_DOT_excalidraw_SLASH_draw_DASH_width$$.$cljs$core$IFn$_invoke$arity$1$($state$jscomp$274$$), $el$jscomp$55_el__$1$jscomp$1_width$jscomp$55$$);
  return $state$jscomp$274$$;
}, $cljs$cst$keyword$view_DASH_mode_DASH_enabled$$ = new $APP.$cljs$core$Keyword$$(null, "view-mode-enabled", "view-mode-enabled", -588220561), $cljs$cst$keyword$frontend_DOT_extensions_DOT_excalidraw_SLASH_view_DASH_mode_QMARK_$$ = new $APP.$cljs$core$Keyword$$("frontend.extensions.excalidraw", "view-mode?", "frontend.extensions.excalidraw/view-mode?", 525380621), $cljs$cst$keyword$viewBackgroundColor$$ = new $APP.$cljs$core$Keyword$$(null, "viewBackgroundColor", "viewBackgroundColor", 1889137994), 
$cljs$cst$keyword$grid_DASH_mode_DASH_enabled$$ = new $APP.$cljs$core$Keyword$$(null, "grid-mode-enabled", "grid-mode-enabled", 584978327), $cljs$cst$keyword$gridSize$$ = new $APP.$cljs$core$Keyword$$(null, "gridSize", "gridSize", 843108791), $cljs$cst$keyword$frontend_DOT_extensions_DOT_excalidraw_SLASH_elements$$ = new $APP.$cljs$core$Keyword$$("frontend.extensions.excalidraw", "elements", "frontend.extensions.excalidraw/elements", 1745667967), $cljs$cst$keyword$frontend_DOT_extensions_DOT_excalidraw_SLASH_loading_QMARK_$$ = 
new $APP.$cljs$core$Keyword$$("frontend.extensions.excalidraw", "loading?", "frontend.extensions.excalidraw/loading?", -1335058663), $cljs$cst$keyword$frontend_DOT_extensions_DOT_excalidraw_SLASH_data$$ = new $APP.$cljs$core$Keyword$$("frontend.extensions.excalidraw", "data", "frontend.extensions.excalidraw/data", -1371036113), $cljs$cst$keyword$zen_DASH_mode_DASH_enabled$$ = new $APP.$cljs$core$Keyword$$(null, "zen-mode-enabled", "zen-mode-enabled", -955634269), $cljs$cst$keyword$frontend_DOT_extensions_DOT_excalidraw_SLASH_zen_DASH_mode_QMARK_$$ = 
new $APP.$cljs$core$Keyword$$("frontend.extensions.excalidraw", "zen-mode?", "frontend.extensions.excalidraw/zen-mode?", 1559773511), $cljs$cst$keyword$appState$$ = new $APP.$cljs$core$Keyword$$(null, "appState", "appState", -1920687968), $cljs$cst$keyword$initial_DASH_data$$ = new $APP.$cljs$core$Keyword$$(null, "initial-data", "initial-data", -1315709804), $cljs$cst$keyword$frontend_DOT_extensions_DOT_excalidraw_SLASH_draw_DASH_width$$ = new $APP.$cljs$core$Keyword$$("frontend.extensions.excalidraw", 
"draw-width", "frontend.extensions.excalidraw/draw-width", -681100043);
$APP.$JSCompiler_StaticMethods_beforeLoadModuleCode$$("excalidraw");
var $module$node_modules$$excalidraw$excalidraw$dist$excalidraw_min$$ = $APP.$shadow$js$require$$(556);
var $frontend$extensions$excalidraw$excalidraw$$, $frontend$extensions$excalidraw$_STAR_bounding_width$$, $frontend$extensions$excalidraw$draw_inner$$, $frontend$extensions$excalidraw$draw_container$$;
$APP.$frontend$extensions$excalidraw$$ = {};
$frontend$extensions$excalidraw$excalidraw$$ = $APP.$frontend$rum$adapt_class$cljs$0core$0IFn$0_invoke$0arity$02$$($APP.$goog$object$get$$($module$node_modules$$excalidraw$excalidraw$dist$excalidraw_min$$, "default"));
$frontend$extensions$excalidraw$_STAR_bounding_width$$ = $APP.$cljs$core$atom$$.$cljs$core$IFn$_invoke$arity$1$(null);
$frontend$extensions$excalidraw$draw_inner$$ = $APP.$rum$core$lazy_build$$($APP.$rum$core$build_defcs$$, function($state$jscomp$275$$, $data$jscomp$202$$, $option$jscomp$26$$) {
  $APP.$frontend$state$sub$$($APP.$cljs$cst$keyword$git_SLASH_current_DASH_repo$$);
  $APP.$rum$core$react$$($frontend$extensions$excalidraw$_STAR_bounding_width$$);
  var $_STAR_draw_width$$ = $APP.$cljs$core$get$$.$cljs$core$IFn$_invoke$arity$2$($state$jscomp$275$$, $cljs$cst$keyword$frontend_DOT_extensions_DOT_excalidraw_SLASH_draw_DASH_width$$), $_STAR_zen_mode_QMARK_$$ = $APP.$cljs$core$get$$.$cljs$core$IFn$_invoke$arity$2$($state$jscomp$275$$, $cljs$cst$keyword$frontend_DOT_extensions_DOT_excalidraw_SLASH_zen_DASH_mode_QMARK_$$), $_STAR_view_mode_QMARK_$$ = $APP.$cljs$core$get$$.$cljs$core$IFn$_invoke$arity$2$($state$jscomp$275$$, $cljs$cst$keyword$frontend_DOT_extensions_DOT_excalidraw_SLASH_view_DASH_mode_QMARK_$$), 
  $wide_mode_QMARK_$$ = $APP.$frontend$state$sub$$($APP.$cljs$cst$keyword$ui_SLASH_wide_DASH_mode_QMARK_$$), $_STAR_elements$$ = $APP.$cljs$core$get$$.$cljs$core$IFn$_invoke$arity$2$($state$jscomp$275$$, $cljs$cst$keyword$frontend_DOT_extensions_DOT_excalidraw_SLASH_elements$$), $file$jscomp$98$$ = $APP.$cljs$cst$keyword$file$$.$cljs$core$IFn$_invoke$arity$1$($option$jscomp$26$$);
  return $APP.$cljs$core$truth_$$($data$jscomp$202$$) ? $APP.$daiquiri$core$create_element$$("div", {onMouseDown:function($e$jscomp$649$$) {
    return $APP.$frontend$util$stop$$($e$jscomp$649$$);
  }, className:"overflow-hidden"}, [$APP.$daiquiri$core$create_element$$("div", {style:{fontSize:10}, className:"my-1"}, [$APP.$daiquiri$core$create_element$$("a", {onClick:$APP.$frontend$handler$ui$toggle_wide_mode_BANG_$$, className:"mr-2"}, [$APP.$daiquiri$interpreter$interpret$$($APP.$frontend$util$format$cljs$0core$0IFn$0_invoke$0arity$0variadic$$("Wide Mode (%s)", $APP.$cljs$core$prim_seq$cljs$0core$0IFn$0_invoke$0arity$02$$([$APP.$cljs$core$truth_$$($wide_mode_QMARK_$$) ? "ON" : "OFF"])))]), 
  $APP.$daiquiri$core$create_element$$("a", {onClick:function() {
    return $APP.$cljs$core$swap_BANG_$$.$cljs$core$IFn$_invoke$arity$2$($_STAR_zen_mode_QMARK_$$, $APP.$cljs$core$not$$);
  }, className:"mr-2"}, [$APP.$daiquiri$interpreter$interpret$$($APP.$frontend$util$format$cljs$0core$0IFn$0_invoke$0arity$0variadic$$("Zen Mode (%s)", $APP.$cljs$core$prim_seq$cljs$0core$0IFn$0_invoke$0arity$02$$([$APP.$cljs$core$truth_$$($APP.$cljs$core$_deref$$($_STAR_zen_mode_QMARK_$$)) ? "ON" : "OFF"])))]), $APP.$daiquiri$core$create_element$$("a", {onClick:function() {
    return $APP.$cljs$core$swap_BANG_$$.$cljs$core$IFn$_invoke$arity$2$($_STAR_view_mode_QMARK_$$, $APP.$cljs$core$not$$);
  }, className:"mr-2"}, [$APP.$daiquiri$interpreter$interpret$$($APP.$frontend$util$format$cljs$0core$0IFn$0_invoke$0arity$0variadic$$("View Mode (%s)", $APP.$cljs$core$prim_seq$cljs$0core$0IFn$0_invoke$0arity$02$$([$APP.$cljs$core$truth_$$($APP.$cljs$core$_deref$$($_STAR_view_mode_QMARK_$$)) ? "ON" : "OFF"])))])]), $APP.$daiquiri$core$create_element$$("div", {onMouseDown:function($e$jscomp$650$$) {
    $APP.$frontend$util$stop$$($e$jscomp$650$$);
    return $APP.$frontend$state$set_state_BANG_$$($APP.$cljs$cst$keyword$block_SLASH_component_DASH_editing_DASH_mode_QMARK_$$, !0);
  }, onBlur:function() {
    return $APP.$frontend$state$set_state_BANG_$$($APP.$cljs$cst$keyword$block_SLASH_component_DASH_editing_DASH_mode_QMARK_$$, !1);
  }, className:"draw-wrap"}, [$APP.$daiquiri$interpreter$interpret$$(function() {
    var $G__98117$$ = $APP.$cljs$core$merge$$.$cljs$core$IFn$_invoke$arity$variadic$($APP.$cljs$core$prim_seq$cljs$0core$0IFn$0_invoke$0arity$02$$([new $APP.$cljs$core$PersistentArrayMap$$(null, 6, [$APP.$cljs$cst$keyword$on_DASH_change$$, function($elements$jscomp$16$$, $state__$1$jscomp$10_state__$2$$) {
      var $elements__GT_clj$$ = $APP.$cljs_bean$core$__GT_clj$$($elements$jscomp$16$$);
      return $APP.$cljs$core$seq$$($elements__GT_clj$$) && $APP.$cljs$core$not_EQ_$$.$cljs$core$IFn$_invoke$arity$2$($elements$jscomp$16$$, $APP.$cljs$core$_deref$$($_STAR_elements$$)) ? ($state__$1$jscomp$10_state__$2$$ = $APP.$cljs_bean$core$__GT_clj$$($state__$1$jscomp$10_state__$2$$), $APP.$frontend$handler$draw$save_excalidraw_BANG_$$($file$jscomp$98$$, JSON.stringify($APP.$cljs_bean$core$__GT_js$$(new $APP.$cljs$core$PersistentArrayMap$$(null, 5, [$APP.$cljs$cst$keyword$type$$, "excalidraw", 
      $APP.$cljs$cst$keyword$version$$, 2, $APP.$cljs$cst$keyword$source$$, $APP.$frontend$config$website$$, $APP.$cljs$cst$keyword$elements$$, $elements$jscomp$16$$, $cljs$cst$keyword$appState$$, $APP.$cljs$core$select_keys$$($state__$1$jscomp$10_state__$2$$, new $APP.$cljs$core$PersistentVector$$(null, 2, 5, $APP.$cljs$core$PersistentVector$EMPTY_NODE$$, [$cljs$cst$keyword$gridSize$$, $cljs$cst$keyword$viewBackgroundColor$$], null))], null)))), $APP.$cljs$core$reset_BANG_$$($_STAR_elements$$, $elements$jscomp$16$$)) : 
      null;
    }, $cljs$cst$keyword$zen_DASH_mode_DASH_enabled$$, $APP.$cljs$core$_deref$$($_STAR_zen_mode_QMARK_$$), $cljs$cst$keyword$view_DASH_mode_DASH_enabled$$, $APP.$cljs$core$_deref$$($_STAR_view_mode_QMARK_$$), $cljs$cst$keyword$grid_DASH_mode_DASH_enabled$$, !1, $cljs$cst$keyword$initial_DASH_data$$, $data$jscomp$202$$, $APP.$cljs$cst$keyword$width$$, $APP.$cljs$core$_deref$$($_STAR_draw_width$$)], null), $APP.$cljs$core$truth_$$($wide_mode_QMARK_$$) ? new $APP.$cljs$core$PersistentArrayMap$$(null, 
    1, [$APP.$cljs$cst$keyword$height$$, 650], null) : new $APP.$cljs$core$PersistentArrayMap$$(null, 1, [$APP.$cljs$cst$keyword$height$$, 500], null)]));
    return $frontend$extensions$excalidraw$excalidraw$$.$cljs$core$IFn$_invoke$arity$1$ ? $frontend$extensions$excalidraw$excalidraw$$.$cljs$core$IFn$_invoke$arity$1$($G__98117$$) : $frontend$extensions$excalidraw$excalidraw$$.call(null, $G__98117$$);
  }())])]) : null;
}, new $APP.$cljs$core$PersistentVector$$(null, 7, 5, $APP.$cljs$core$PersistentVector$EMPTY_NODE$$, [$APP.$rum$core$reactive$$, $APP.$rum$core$local$cljs$0core$0IFn$0_invoke$0arity$02$$(800, $cljs$cst$keyword$frontend_DOT_extensions_DOT_excalidraw_SLASH_draw_DASH_width$$), $APP.$rum$core$local$cljs$0core$0IFn$0_invoke$0arity$02$$(!0, $cljs$cst$keyword$frontend_DOT_extensions_DOT_excalidraw_SLASH_zen_DASH_mode_QMARK_$$), $APP.$rum$core$local$cljs$0core$0IFn$0_invoke$0arity$02$$(!1, $cljs$cst$keyword$frontend_DOT_extensions_DOT_excalidraw_SLASH_view_DASH_mode_QMARK_$$), 
$APP.$rum$core$local$cljs$0core$0IFn$0_invoke$0arity$02$$(null, $cljs$cst$keyword$frontend_DOT_extensions_DOT_excalidraw_SLASH_elements$$), new $APP.$cljs$core$PersistentArrayMap$$(null, 1, [$APP.$cljs$cst$keyword$did_DASH_mount$$, $frontend$extensions$excalidraw$update_draw_content_width$$], null), new $APP.$cljs$core$PersistentArrayMap$$(null, 1, [$APP.$cljs$cst$keyword$did_DASH_update$$, $frontend$extensions$excalidraw$update_draw_content_width$$], null)], null), "frontend.extensions.excalidraw/draw-inner");
$frontend$extensions$excalidraw$draw_container$$ = $APP.$rum$core$lazy_build$$($APP.$rum$core$build_defcs$$, function($_STAR_loading_QMARK_$jscomp$1_loading_QMARK_$jscomp$5_state$jscomp$276$$, $attrs98118_option$jscomp$27$$) {
  var $_STAR_data_data$jscomp$203$$ = $APP.$cljs$core$get$$.$cljs$core$IFn$_invoke$arity$2$($_STAR_loading_QMARK_$jscomp$1_loading_QMARK_$jscomp$5_state$jscomp$276$$, $cljs$cst$keyword$frontend_DOT_extensions_DOT_excalidraw_SLASH_data$$);
  $_STAR_loading_QMARK_$jscomp$1_loading_QMARK_$jscomp$5_state$jscomp$276$$ = $APP.$cljs$core$get$$.$cljs$core$IFn$_invoke$arity$2$($_STAR_loading_QMARK_$jscomp$1_loading_QMARK_$jscomp$5_state$jscomp$276$$, $cljs$cst$keyword$frontend_DOT_extensions_DOT_excalidraw_SLASH_loading_QMARK_$$);
  $_STAR_loading_QMARK_$jscomp$1_loading_QMARK_$jscomp$5_state$jscomp$276$$ = $APP.$rum$core$react$$($_STAR_loading_QMARK_$jscomp$1_loading_QMARK_$jscomp$5_state$jscomp$276$$);
  $_STAR_data_data$jscomp$203$$ = $APP.$rum$core$react$$($_STAR_data_data$jscomp$203$$);
  var $db_restoring_QMARK_$jscomp$4$$ = $APP.$frontend$state$sub$$($APP.$cljs$cst$keyword$db_SLASH_restoring_QMARK_$$);
  return $APP.$cljs$core$truth_$$($APP.$cljs$cst$keyword$file$$.$cljs$core$IFn$_invoke$arity$1$($attrs98118_option$jscomp$27$$)) ? $APP.$cljs$core$truth_$$($db_restoring_QMARK_$jscomp$4$$) ? ($attrs98118_option$jscomp$27$$ = $APP.$frontend$ui$loading$$("Loading"), $APP.$daiquiri$core$create_element$$("div", $APP.$cljs$core$map_QMARK_$$($attrs98118_option$jscomp$27$$) ? $APP.$daiquiri$interpreter$attributes$$($APP.$daiquiri$normalize$merge_with_class$cljs$0core$0IFn$0_invoke$0arity$0variadic$$($APP.$cljs$core$prim_seq$cljs$0core$0IFn$0_invoke$0arity$02$$([new $APP.$cljs$core$PersistentArrayMap$$(null, 
  1, [$APP.$cljs$cst$keyword$class$$, new $APP.$cljs$core$PersistentVector$$(null, 1, 5, $APP.$cljs$core$PersistentVector$EMPTY_NODE$$, ["ls-center"], null)], null), $attrs98118_option$jscomp$27$$]))) : {className:"ls-center"}, $APP.$cljs$core$map_QMARK_$$($attrs98118_option$jscomp$27$$) ? null : [$APP.$daiquiri$interpreter$interpret$$($attrs98118_option$jscomp$27$$)])) : !1 === $_STAR_loading_QMARK_$jscomp$1_loading_QMARK_$jscomp$5_state$jscomp$276$$ ? $frontend$extensions$excalidraw$draw_inner$$($_STAR_data_data$jscomp$203$$, 
  $attrs98118_option$jscomp$27$$) : null : null;
}, new $APP.$cljs$core$PersistentVector$$(null, 2, 5, $APP.$cljs$core$PersistentVector$EMPTY_NODE$$, [$APP.$rum$core$reactive$$, new $APP.$cljs$core$PersistentArrayMap$$(null, 1, [$APP.$cljs$cst$keyword$init$$, function($state$jscomp$277$$) {
  var $file$jscomp$99_option$jscomp$28_vec__98119$$ = $APP.$cljs$cst$keyword$rum_SLASH_args$$.$cljs$core$IFn$_invoke$arity$1$($state$jscomp$277$$);
  $file$jscomp$99_option$jscomp$28_vec__98119$$ = $APP.$cljs$core$nth$$.$cljs$core$IFn$_invoke$arity$3$($file$jscomp$99_option$jscomp$28_vec__98119$$, 0, null);
  $file$jscomp$99_option$jscomp$28_vec__98119$$ = $APP.$cljs$cst$keyword$file$$.$cljs$core$IFn$_invoke$arity$1$($file$jscomp$99_option$jscomp$28_vec__98119$$);
  var $_STAR_data$jscomp$1$$ = $APP.$cljs$core$atom$$.$cljs$core$IFn$_invoke$arity$1$(null), $_STAR_loading_QMARK_$jscomp$2$$ = $APP.$cljs$core$atom$$.$cljs$core$IFn$_invoke$arity$1$(!0);
  $APP.$cljs$core$truth_$$($file$jscomp$99_option$jscomp$28_vec__98119$$) && $frontend$handler$draw$load_excalidraw_file$$($file$jscomp$99_option$jscomp$28_vec__98119$$, function($data$jscomp$204_e$jscomp$inline_7504$$) {
    if ($APP.$clojure$string$blank_QMARK_$$($data$jscomp$204_e$jscomp$inline_7504$$)) {
      var $data__$1$jscomp$9$$ = null;
    } else {
      try {
        $data__$1$jscomp$9$$ = JSON.parse($data$jscomp$204_e$jscomp$inline_7504$$);
      } catch ($e98115$jscomp$inline_7505$$) {
        if ($e98115$jscomp$inline_7505$$ instanceof Error) {
          $data$jscomp$204_e$jscomp$inline_7504$$ = $e98115$jscomp$inline_7505$$, $APP.$cljs$core$println$cljs$0core$0IFn$0_invoke$0arity$0variadic$$($APP.$cljs$core$prim_seq$cljs$0core$0IFn$0_invoke$0arity$02$$(["from json error:"])), console.dir($data$jscomp$204_e$jscomp$inline_7504$$), $data__$1$jscomp$9$$ = $APP.$frontend$handler$notification$show_BANG_$cljs$0core$0IFn$0_invoke$0arity$02$$($APP.$frontend$util$format$$("Could not load this invalid excalidraw file"), $APP.$cljs$cst$keyword$error$$);
        } else {
          throw $e98115$jscomp$inline_7505$$;
        }
      }
    }
    $APP.$cljs$core$reset_BANG_$$($_STAR_data$jscomp$1$$, $data__$1$jscomp$9$$);
    return $APP.$cljs$core$reset_BANG_$$($_STAR_loading_QMARK_$jscomp$2$$, !1);
  });
  return $APP.$cljs$core$assoc$$.$cljs$core$IFn$_invoke$arity$variadic$($state$jscomp$277$$, $cljs$cst$keyword$frontend_DOT_extensions_DOT_excalidraw_SLASH_data$$, $_STAR_data$jscomp$1$$, $APP.$cljs$core$prim_seq$cljs$0core$0IFn$0_invoke$0arity$02$$([$cljs$cst$keyword$frontend_DOT_extensions_DOT_excalidraw_SLASH_loading_QMARK_$$, $_STAR_loading_QMARK_$jscomp$2$$]));
}], null)], null), "frontend.extensions.excalidraw/draw-container");
$APP.$frontend$extensions$excalidraw$draw$$ = $APP.$rum$core$lazy_build$$($APP.$rum$core$build_defc$$, function($option$jscomp$29$$) {
  var $repo$jscomp$397$$ = $APP.$frontend$state$get_current_repo$$(), $granted_QMARK_$jscomp$2$$ = $APP.$frontend$state$sub$$(new $APP.$cljs$core$PersistentVector$$(null, 2, 5, $APP.$cljs$core$PersistentVector$EMPTY_NODE$$, [$APP.$cljs$cst$keyword$nfs_SLASH_user_DASH_granted_QMARK_$$, $repo$jscomp$397$$], null));
  return $APP.$frontend$config$local_db_QMARK_$$($repo$jscomp$397$$) && $APP.$cljs$core$not$$($granted_QMARK_$jscomp$2$$) && $APP.$cljs$core$not$$($APP.$frontend$util$electron_QMARK_$$()) ? null : $frontend$extensions$excalidraw$draw_container$$($option$jscomp$29$$);
}, new $APP.$cljs$core$PersistentVector$$(null, 1, 5, $APP.$cljs$core$PersistentVector$EMPTY_NODE$$, [$APP.$rum$core$reactive$$], null), "frontend.extensions.excalidraw/draw");
$APP.$shadow$loader$mm$$.$setLoaded$();

}).call(this);
//# sourceMappingURL=excalidraw.js.map
